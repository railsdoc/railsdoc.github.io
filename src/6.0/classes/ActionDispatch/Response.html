---
title: ActionDispatch::Response
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 6.0.6</span><br />
        
        <div class="type">Class</div>
        <h1>
            ActionDispatch::Response
            
                <span class="parent">&lt;
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/actionpack/lib/action_dispatch/http/response_rb.html">actionpack/lib/action_dispatch/http/response.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Represents an HTTP response generated by a controller action. Use it to retrieve the current state of the response, or customize the response. It can either represent a real HTTP response (i.e. one that is meant to be sent back to the web browser) or a <a href="TestResponse.html"><code>TestResponse</code></a> (i.e. one that is generated from integration tests).</p>

<p>Response is mostly a Ruby on Rails framework implementation detail, and should never be used directly in controllers. Controllers should use the methods defined in <a href="../ActionController/Base.html"><code>ActionController::Base</code></a> instead. For example, if you want to set the HTTP response&#39;s content MIME type, then use ActionControllerBase#headers instead of <a href="Response.html#attribute-i-headers"><code>Response#headers</code></a>.</p>

<p>Nevertheless, integration tests may want to inspect controller responses in more detail, and that&#39;s when Response can be useful for application developers. <a href="Integration.html"><code>Integration</code></a> test methods such as ActionDispatch::Integration::Session#get and ActionDispatch::Integration::Session#post return objects of type <a href="TestResponse.html"><code>TestResponse</code></a> (which are of course also of type Response).</p>

<p>For example, the following demo integration test prints the body of the controller response to the console:</p>

<pre><code>class DemoControllerTest &lt; ActionDispatch::IntegrationTest
  def test_print_root_path_to_console
    get(&#39;/&#39;)
    puts response.body
  end
end
</code></pre>

    </div>
  

  

  
  


  
    <h2 id="namespace">Namespace</h2>

    

    
      <h3 id="class">Class</h3>
      <ul>
      
        <li><a href="Response/RackBody.html">ActionDispatch::Response::RackBody</a></li>
      
      </ul>
    
  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-abort">abort</a>
        </li>
      
        <li>
          <a href="#method-i-await_commit">await_commit</a>
        </li>
      
        <li>
          <a href="#method-i-await_sent">await_sent</a>
        </li>
      
        <li>
          <a href="#method-i-body">body</a>
        </li>
      
        <li>
          <a href="#method-i-body-3D">body=</a>
        </li>
      
        <li>
          <a href="#method-i-body_parts">body_parts</a>
        </li>
      
        <li>
          <a href="#method-i-charset">charset</a>
        </li>
      
        <li>
          <a href="#method-i-charset-3D">charset=</a>
        </li>
      
        <li>
          <a href="#method-i-close">close</a>
        </li>
      
        <li>
          <a href="#method-i-code">code</a>
        </li>
      
        <li>
          <a href="#method-i-commit-21">commit!</a>
        </li>
      
        <li>
          <a href="#method-i-committed-3F">committed?</a>
        </li>
      
        <li>
          <a href="#method-i-content_type">content_type</a>
        </li>
      
        <li>
          <a href="#method-i-content_type-3D">content_type=</a>
        </li>
      
        <li>
          <a href="#method-i-cookies">cookies</a>
        </li>
      
        <li>
          <a href="#method-c-create">create</a>
        </li>
      
        <li>
          <a href="#method-i-delete_header">delete_header</a>
        </li>
      
        <li>
          <a href="#method-i-each">each</a>
        </li>
      
        <li>
          <a href="#method-i-get_header">get_header</a>
        </li>
      
        <li>
          <a href="#method-i-has_header-3F">has_header?</a>
        </li>
      
        <li>
          <a href="#method-i-media_type">media_type</a>
        </li>
      
        <li>
          <a href="#method-c-merge_default_headers">merge_default_headers</a>
        </li>
      
        <li>
          <a href="#method-i-message">message</a>
        </li>
      
        <li>
          <a href="#method-c-new">new</a>
        </li>
      
        <li>
          <a href="#method-i-prepare-21">prepare!</a>
        </li>
      
        <li>
          <a href="#method-i-reset_body-21">reset_body!</a>
        </li>
      
        <li>
          <a href="#method-i-response_code">response_code</a>
        </li>
      
        <li>
          <a href="#method-i-send_file">send_file</a>
        </li>
      
        <li>
          <a href="#method-i-sending-21">sending!</a>
        </li>
      
        <li>
          <a href="#method-i-sending-3F">sending?</a>
        </li>
      
        <li>
          <a href="#method-i-sending_file-3D">sending_file=</a>
        </li>
      
        <li>
          <a href="#method-i-sent-21">sent!</a>
        </li>
      
        <li>
          <a href="#method-i-sent-3F">sent?</a>
        </li>
      
        <li>
          <a href="#method-i-set_header">set_header</a>
        </li>
      
        <li>
          <a href="#method-i-status-3D">status=</a>
        </li>
      
        <li>
          <a href="#method-i-status_message">status_message</a>
        </li>
      
        <li>
          <a href="#method-i-to_a">to_a</a>
        </li>
      
        <li>
          <a href="#method-i-write">write</a>
        </li>
      
    </ul>
  

  
    <!-- Includes -->
    <h2 id="included-modules">Included Modules</h2>
    <ul>
      
        <li>
          
            Rack::Response::Helpers
          
        </li>
      
        <li>
          
            <a href="Http/FilterRedirect.html">
              ActionDispatch::Http::FilterRedirect
            </a>
          
        </li>
      
        <li>
          
            <a href="Http/Cache/Response.html">
              ActionDispatch::Http::Cache::Response
            </a>
          
        </li>
      
        <li>
          
            MonitorMixin
          
        </li>
      
    </ul>
  

  
    

    

    
      <!-- Section constants -->
      <h2 id="constants">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">CONTENT_TYPE</td>
            <td>=</td>
            <td class="attr-value">&quot;Content-Type&quot;</td>
          </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">ContentTypeHeader</td>
            <td>=</td>
            <td class="attr-value">Struct.new :mime_type, :charset</td>
          </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">LOCATION</td>
            <td>=</td>
            <td class="attr-value">&quot;Location&quot;</td>
          </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">NO_CONTENT_CODES</td>
            <td>=</td>
            <td class="attr-value">[100, 101, 102, 204, 205, 304]</td>
          </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">NullContentTypeHeader</td>
            <td>=</td>
            <td class="attr-value">ContentTypeHeader.new nil, nil</td>
          </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">SET_COOKIE</td>
            <td>=</td>
            <td class="attr-value">&quot;Set-Cookie&quot;</td>
          </tr>
          
        
      </table>
    

    
      <!-- Section attributes -->
      <h2 id="attributes">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>header</td>
            <td class='attr-desc'><p>Get headers for this response.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>headers</td>
            <td class='attr-desc'><p>Get headers for this response.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>request</td>
            <td class='attr-desc'><p>The request that the response is responding to.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>status</td>
            <td class='attr-desc'><p>The HTTP status code.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>stream</td>
            <td class='attr-desc'><p>The underlying body, as a streamable object.</p></td>
          </tr>
        
      </table>
    

    <!-- Methods -->
    
      <h2 id="class-public-methods">Class Public methods</h2>
      
        <div class="method">
          <h3 id="method-c-create">
            
              create(status = 200, header = {}, body = [], default_headers: self.default_headers)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 151
    def self.create(status = 200, header = {}, body = [], default_headers: self.default_headers)
      header = merge_default_headers(header, default_headers)
      new status, header, body
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L151" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-merge_default_headers">
            
              merge_default_headers(original, default)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 156
    def self.merge_default_headers(original, default)
      default.respond_to?(:merge) ? default.merge(original) : original
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L156" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-new">
            
              new(status = 200, header = {}, body = [])
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 163
    def initialize(status = 200, header = {}, body = [])
      super()

      @header = Header.new(self, header)

      self.body, self.status = body, status

      @cv           = new_cond
      @committed    = false
      @sending      = false
      @sent         = false

      prepare_cache_control!

      yield self if block_given?
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L163" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-abort">
            
              abort()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 382
    def abort
      if stream.respond_to?(:abort)
        stream.abort
      elsif stream.respond_to?(:close)
        # `stream.close` should really be reserved for a close from the
        # other direction, but we must fall back to it for
        # compatibility.
        stream.close
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L382" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-await_commit">
            
              await_commit()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 185
    def await_commit
      synchronize do
        @cv.wait_until { @committed }
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L185" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-await_sent">
            
              await_sent()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 191
    def await_sent
      synchronize { @cv.wait_until { @sent } }
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L191" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-body">
            
              body()
            
          </h3>

          
            <div class="description">
              <p>Returns the content of the response as a string. This contains the contents of any calls to <code>render</code>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 316
    def body
      @stream.body
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L316" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-body-3D">
            
              body=(body)
            
          </h3>

          
            <div class="description">
              <p>Allows you to manually set or override the response body.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 325
    def body=(body)
      if body.respond_to?(:to_path)
        @stream = body
      else
        synchronize do
          @stream = build_buffer self, munge_body_object(body)
        end
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L325" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-body_parts">
            
              body_parts()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 369
    def body_parts
      parts = []
      @stream.each { |x| parts &lt;&lt; x }
      parts
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L369" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-charset">
            
              charset()
            
          </h3>

          
            <div class="description">
              <p>The charset of the response. HTML wants to know the encoding of the content you&#39;re giving them, so we need to send that along.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 286
    def charset
      header_info = parsed_content_type_header
      header_info.charset || self.class.default_charset
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L286" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-charset-3D">
            
              charset=(charset)
            
          </h3>

          
            <div class="description">
              <p>Sets the HTTP character set. In case of <code>nil</code> parameter it sets the charset to <code>default_charset</code>.</p>

<pre><code>response.charset = &#39;utf-16&#39; # =&gt; &#39;utf-16&#39;
response.charset = nil      # =&gt; &#39;utf-8&#39;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 275
    def charset=(charset)
      content_type = parsed_content_type_header.mime_type
      if false == charset
        set_content_type content_type, nil
      else
        set_content_type content_type, charset || self.class.default_charset
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L275" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-close">
            
              close()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 378
    def close
      stream.close if stream.respond_to?(:close)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L378" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-code">
            
              code()
            
          </h3>

          
            <div class="description">
              <p>Returns a string to ensure compatibility with <code>Net::HTTPResponse</code>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 297
    def code
      @status.to_s
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L297" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-commit-21">
            
              commit!()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 195
    def commit!
      synchronize do
        before_committed
        @committed = true
        @cv.broadcast
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L195" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-committed-3F">
            
              committed?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 219
    def committed?; synchronize { @committed }; end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L219" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-content_type">
            
              content_type()
            
          </h3>

          
            <div class="description">
              <p>Content type of response.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 245
    def content_type
      if self.class.return_only_media_type_on_content_type
        ActiveSupport::Deprecation.warn(
          &quot;Rails 6.1 will return Content-Type header without modification.&quot; \
          &quot; If you want just the MIME type, please use `#media_type` instead.&quot;
        )

        content_type = super
        content_type ? content_type.split(/;\s*charset=/)[0].presence : content_type
      else
        super.presence
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L245" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-content_type-3D">
            
              content_type=(content_type)
            
          </h3>

          
            <div class="description">
              <p>Sets the HTTP response&#39;s content MIME type. For example, in the controller you could write this:</p>

<pre><code>response.content_type = &quot;text/plain&quot;
</code></pre>

<p>If a character set has been defined for this response (see charset=) then the character set information will also be included in the content type information.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 235
    def content_type=(content_type)
      return unless content_type
      new_header_info = parse_content_type(content_type.to_s)
      prev_header_info = parsed_content_type_header
      charset = new_header_info.charset || prev_header_info.charset
      charset ||= self.class.default_charset unless prev_header_info.mime_type
      set_content_type new_header_info.mime_type, charset
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L235" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-cookies">
            
              cookies()
            
          </h3>

          
            <div class="description">
              <p>Returns the response cookies, converted to a <a href="../Hash.html"><code>Hash</code></a> of (name =&gt; value) pairs</p>

<pre><code>assert_equal &#39;AuthorOfNewPage&#39;, r.cookies[&#39;author&#39;]
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 406
    def cookies
      cookies = {}
      if header = get_header(SET_COOKIE)
        header = header.split(&quot;\n&quot;) if header.respond_to?(:to_str)
        header.each do |cookie|
          if pair = cookie.split(&quot;;&quot;).first
            key, value = pair.split(&quot;=&quot;).map { |v| Rack::Utils.unescape(v) }
            cookies[key] = value
          end
        end
      end
      cookies
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L406" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-delete_header">
            
              delete_header(key)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 183
    def delete_header(key); headers.delete key; end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L183" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-each">
            
              each(&amp;block)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 74
    def each(&amp;block)
      sending!
      x = @stream.each(&amp;block)
      sent!
      x
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L74" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-get_header">
            
              get_header(key)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 181
    def get_header(key);    headers[key];       end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L181" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-has_header-3F">
            
              has_header?(key)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 180
    def has_header?(key);   headers.key? key;   end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L180" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-media_type">
            
              media_type()
            
          </h3>

          
            <div class="description">
              <p>Media type of response.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 260
    def media_type
      parsed_content_type_header.mime_type
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L260" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-message">
            
              message()
            
          </h3>

          
            <div class="description">
              <p>Returns the corresponding message for the current HTTP status code:</p>

<pre><code>response.status = 200
response.message # =&gt; &quot;OK&quot;

response.status = 404
response.message # =&gt; &quot;Not Found&quot;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Response.html#method-i-status_message">status_message</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 309
    def message
      Rack::Utils::HTTP_STATUS_CODES[@status]
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L309" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-prepare-21">
            
              prepare!()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Response.html#method-i-to_a">to_a</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-reset_body-21">
            
              reset_body!()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 365
    def reset_body!
      @stream = build_buffer(self, [])
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L365" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-response_code">
            
              response_code()
            
          </h3>

          
            <div class="description">
              <p>The response code of the request.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 292
    def response_code
      @status
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L292" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-send_file">
            
              send_file(path)
            
          </h3>

          
            <div class="description">
              <p>Send the file stored at <code>path</code> as the response body.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 360
    def send_file(path)
      commit!
      @stream = FileBody.new(path)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L360" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-sending-21">
            
              sending!()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 203
    def sending!
      synchronize do
        before_sending
        @sending = true
        @cv.broadcast
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L203" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-sending-3F">
            
              sending?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 218
    def sending?;   synchronize { @sending };   end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L218" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-sending_file-3D">
            
              sending_file=(v)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 264
    def sending_file=(v)
      if true == v
        self.charset = false
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L264" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-sent-21">
            
              sent!()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 211
    def sent!
      synchronize do
        @sent = true
        @cv.broadcast
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L211" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-sent-3F">
            
              sent?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 220
    def sent?;      synchronize { @sent };      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L220" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-set_header">
            
              set_header(key, v)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 182
    def set_header(key, v); headers[key] = v;   end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L182" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-status-3D">
            
              status=(status)
            
          </h3>

          
            <div class="description">
              <p>Sets the HTTP status code.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 223
    def status=(status)
      @status = Rack::Utils.status_code(status)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L223" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-status_message">
            
              status_message()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Response.html#method-i-message">message</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-to_a">
            
              to_a()
            
          </h3>

          
            <div class="description">
              <p>Turns the <a href="Response.html"><code>Response</code></a> into a Rack-compatible array of the status, headers, and body. Allows explicit splatting:</p>

<pre><code>status, headers, body = *response
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Response.html#method-i-prepare-21">prepare!</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 397
    def to_a
      commit!
      rack_response @status, @header.to_hash
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L397" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-write">
            
              write(string)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/response.rb, line 320
    def write(string)
      @stream.write string
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/91cf62e7b43c33ae6263adf3d7563da9b68ff21d/actionpack/lib/action_dispatch/http/response.rb#L320" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
  
</div>

    </div>
</div>
