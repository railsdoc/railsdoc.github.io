---
title: ActiveRecord::Tasks::DatabaseTasks
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 7.0.8</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActiveRecord::Tasks::DatabaseTasks
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activerecord/lib/active_record/tasks/database_tasks_rb.html">activerecord/lib/active_record/tasks/database_tasks.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p><a href="DatabaseTasks.html"><code>ActiveRecord::Tasks::DatabaseTasks</code></a> is a utility class, which encapsulates logic behind common tasks used to manage database and migrations.</p>

<p>The tasks defined here are used with Rails commands provided by Active Record.</p>

<p>In order to use <a href="DatabaseTasks.html"><code>DatabaseTasks</code></a>, a few config values need to be set. All the needed config values are set by Rails already, so it‚Äôs necessary to do it only if you want to change the defaults or when you want to use Active Record outside of Rails (in such case after configuring the database tasks, you can also use the rake tasks defined in Active Record).</p>

<p>The possible config values are:</p>
<ul><li>
<p><code>env</code>: current environment (like <a href="../../Rails.html#method-c-env"><code>Rails.env</code></a>).</p>
</li><li>
<p><code>database_configuration</code>: configuration of your databases (as in <code>config/database.yml</code>).</p>
</li><li>
<p><code>db_dir</code>: your <code>db</code> directory.</p>
</li><li>
<p><code>fixtures_path</code>: a path to fixtures directory.</p>
</li><li>
<p><code>migrations_paths</code>: a list of paths to directories with migrations.</p>
</li><li>
<p><code>seed_loader</code>: an object which will load seeds, it needs to respond to the <code>load_seed</code> method.</p>
</li><li>
<p><code>root</code>: a path to the root of the application.</p>
</li></ul>

<p>Example usage of <a href="DatabaseTasks.html"><code>DatabaseTasks</code></a> outside Rails could look as such:</p>

<pre><code>include ActiveRecord::Tasks
DatabaseTasks.database_configuration = YAML.load_file(&#39;my_database_config.yml&#39;)
DatabaseTasks.db_dir = &#39;db&#39;
# other settings...

DatabaseTasks.create_current(&#39;production&#39;)
</code></pre>

    </div>
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-cache_dump_filename">cache_dump_filename</a>
        </li>
      
        <li>
          <a href="#method-i-charset">charset</a>
        </li>
      
        <li>
          <a href="#method-i-charset_current">charset_current</a>
        </li>
      
        <li>
          <a href="#method-i-check_protected_environments-21">check_protected_environments!</a>
        </li>
      
        <li>
          <a href="#method-i-check_schema_file">check_schema_file</a>
        </li>
      
        <li>
          <a href="#method-i-check_target_version">check_target_version</a>
        </li>
      
        <li>
          <a href="#method-i-clear_schema_cache">clear_schema_cache</a>
        </li>
      
        <li>
          <a href="#method-i-collation">collation</a>
        </li>
      
        <li>
          <a href="#method-i-collation_current">collation_current</a>
        </li>
      
        <li>
          <a href="#method-i-create">create</a>
        </li>
      
        <li>
          <a href="#method-i-create_all">create_all</a>
        </li>
      
        <li>
          <a href="#method-i-create_current">create_current</a>
        </li>
      
        <li>
          <a href="#method-i-db_dir">db_dir</a>
        </li>
      
        <li>
          <a href="#method-i-drop">drop</a>
        </li>
      
        <li>
          <a href="#method-i-drop_all">drop_all</a>
        </li>
      
        <li>
          <a href="#method-i-drop_current">drop_current</a>
        </li>
      
        <li>
          <a href="#method-i-dump_schema_cache">dump_schema_cache</a>
        </li>
      
        <li>
          <a href="#method-i-env">env</a>
        </li>
      
        <li>
          <a href="#method-i-fixtures_path">fixtures_path</a>
        </li>
      
        <li>
          <a href="#method-i-for_each">for_each</a>
        </li>
      
        <li>
          <a href="#method-i-load_schema_current">load_schema_current</a>
        </li>
      
        <li>
          <a href="#method-i-load_seed">load_seed</a>
        </li>
      
        <li>
          <a href="#method-i-migrate">migrate</a>
        </li>
      
        <li>
          <a href="#method-i-migrate_status">migrate_status</a>
        </li>
      
        <li>
          <a href="#method-i-migrations_paths">migrations_paths</a>
        </li>
      
        <li>
          <a href="#method-i-name">name</a>
        </li>
      
        <li>
          <a href="#method-i-prepare_all">prepare_all</a>
        </li>
      
        <li>
          <a href="#method-i-purge">purge</a>
        </li>
      
        <li>
          <a href="#method-i-purge_all">purge_all</a>
        </li>
      
        <li>
          <a href="#method-i-purge_current">purge_current</a>
        </li>
      
        <li>
          <a href="#method-i-raise_for_multi_db">raise_for_multi_db</a>
        </li>
      
        <li>
          <a href="#method-i-register_task">register_task</a>
        </li>
      
        <li>
          <a href="#method-i-root">root</a>
        </li>
      
        <li>
          <a href="#method-i-schema_dump_path">schema_dump_path</a>
        </li>
      
        <li>
          <a href="#method-i-schema_file_type">schema_file_type</a>
        </li>
      
        <li>
          <a href="#method-i-schema_up_to_date-3F">schema_up_to_date?</a>
        </li>
      
        <li>
          <a href="#method-i-seed_loader">seed_loader</a>
        </li>
      
        <li>
          <a href="#method-i-setup_initial_database_yaml">setup_initial_database_yaml</a>
        </li>
      
        <li>
          <a href="#method-i-structure_dump">structure_dump</a>
        </li>
      
        <li>
          <a href="#method-c-structure_dump_flags">structure_dump_flags</a>
        </li>
      
        <li>
          <a href="#method-i-structure_load">structure_load</a>
        </li>
      
        <li>
          <a href="#method-c-structure_load_flags">structure_load_flags</a>
        </li>
      
        <li>
          <a href="#method-i-target_version">target_version</a>
        </li>
      
        <li>
          <a href="#method-i-truncate_all">truncate_all</a>
        </li>
      
    </ul>
  

  

  
    

    

    
      <!-- Section constants -->
      <h2 id="constants">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">LOCAL_HOSTS</td>
            <td>=</td>
            <td class="attr-value">[&quot;127.0.0.1&quot;, &quot;localhost&quot;]</td>
          </tr>
          
        
      </table>
    

    
      <!-- Section attributes -->
      <h2 id="attributes">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>database_configuration</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>db_dir</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>env</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>fixtures_path</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>migrations_paths</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>root</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>seed_loader</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    

    <!-- Methods -->
    
      <h2 id="class-public-methods">Class Public methods</h2>
      
        <div class="method">
          <h3 id="method-c-structure_dump_flags">
            
              structure_dump_flags
            
          </h3>

          
            <div class="description">
              <p>Extra flags passed to database CLI tool (mysqldump/pg_dump) when calling db:schema:dump It can be used as a string/array (the typical case) or a hash (when you use multiple adapters) Example:</p>

<pre><code>ActiveRecord::Tasks::DatabaseTasks.structure_dump_flags = {
  mysql2: [&#39;--no-defaults&#39;, &#39;--skip-add-drop-table&#39;],
  postgres: &#39;--no-tablespaces&#39;
}
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 48
      mattr_accessor :structure_dump_flags, instance_accessor: false
</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L48" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-structure_load_flags">
            
              structure_load_flags
            
          </h3>

          
            <div class="description">
              <p>Extra flags passed to database CLI tool when calling db:schema:load It can be used as a string/array (the typical case) or a hash (when you use multiple adapters)</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 54
      mattr_accessor :structure_load_flags, instance_accessor: false
</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L54" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-cache_dump_filename">
            
              cache_dump_filename(db_config_name, schema_cache_path: nil)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 470
      def cache_dump_filename(db_config_name, schema_cache_path: nil)
        filename = if ActiveRecord::Base.configurations.primary?(db_config_name)
          &quot;schema_cache.yml&quot;
        else
          &quot;#{db_config_name}_schema_cache.yml&quot;
        end

        schema_cache_path || ENV[&quot;SCHEMA_CACHE&quot;] || File.join(ActiveRecord::Tasks::DatabaseTasks.db_dir, filename)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L470" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-charset">
            
              charset(configuration, *arguments)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 324
      def charset(configuration, *arguments)
        db_config = resolve_configuration(configuration)
        database_adapter_for(db_config, *arguments).charset
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L324" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-charset_current">
            
              charset_current(env_name = env, db_name = name)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 319
      def charset_current(env_name = env, db_name = name)
        db_config = configs_for(env_name: env_name, name: db_name)
        charset(db_config)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L319" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-check_protected_environments-21">
            
              check_protected_environments!()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 63
      def check_protected_environments!
        unless ENV[&quot;DISABLE_DATABASE_ENVIRONMENT_CHECK&quot;]
          current = ActiveRecord::Base.connection.migration_context.current_environment
          stored  = ActiveRecord::Base.connection.migration_context.last_stored_environment

          if ActiveRecord::Base.connection.migration_context.protected_environment?
            raise ActiveRecord::ProtectedEnvironmentError.new(stored)
          end

          if stored &amp;&amp; stored != current
            raise ActiveRecord::EnvironmentMismatchError.new(current: current, stored: stored)
          end
        end
      rescue ActiveRecord::NoDatabaseError
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L63" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-check_schema_file">
            
              check_schema_file(filename)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 487
      def check_schema_file(filename)
        unless File.exist?(filename)
          message = +%{#{filename} doesn&#39;t exist yet. Run `bin/rails db:migrate` to create it, then try again.}
          message &lt;&lt; %{ If you do not intend to use a database, you should instead alter #{Rails.root}/config/application.rb to limit the frameworks that will be loaded.} if defined?(::Rails.root)
          Kernel.abort message
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L487" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-check_target_version">
            
              check_target_version()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 309
      def check_target_version
        if target_version &amp;&amp; !(Migration::MigrationFilenameRegexp.match?(ENV[&quot;VERSION&quot;]) || /\A\d+\z/.match?(ENV[&quot;VERSION&quot;]))
          raise &quot;Invalid format of target version: `VERSION=#{ENV[&#39;VERSION&#39;]}`&quot;
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L309" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-clear_schema_cache">
            
              clear_schema_cache(filename)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 513
      def clear_schema_cache(filename)
        FileUtils.rm_f filename, verbose: false
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L513" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-collation">
            
              collation(configuration, *arguments)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 334
      def collation(configuration, *arguments)
        db_config = resolve_configuration(configuration)
        database_adapter_for(db_config, *arguments).collation
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L334" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-collation_current">
            
              collation_current(env_name = env, db_name = name)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 329
      def collation_current(env_name = env, db_name = name)
        db_config = configs_for(env_name: env_name, name: db_name)
        collation(db_config)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L329" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-create">
            
              create(configuration, *arguments)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 120
      def create(configuration, *arguments)
        db_config = resolve_configuration(configuration)
        database_adapter_for(db_config, *arguments).create
        $stdout.puts &quot;Created database &#39;#{db_config.database}&#39;&quot; if verbose?
      rescue DatabaseAlreadyExists
        $stderr.puts &quot;Database &#39;#{db_config.database}&#39; already exists&quot; if verbose?
      rescue Exception =&gt; error
        $stderr.puts error
        $stderr.puts &quot;Couldn&#39;t create &#39;#{db_config.database}&#39; database. Please check your configuration.&quot;
        raise
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L120" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-create_all">
            
              create_all()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 132
      def create_all
        old_pool = ActiveRecord::Base.connection_handler.retrieve_connection_pool(ActiveRecord::Base.connection_specification_name)
        each_local_configuration { |db_config| create(db_config) }
        if old_pool
          ActiveRecord::Base.connection_handler.establish_connection(old_pool.db_config)
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L132" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-create_current">
            
              create_current(environment = env, name = nil)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 183
      def create_current(environment = env, name = nil)
        each_current_configuration(environment, name) { |db_config| create(db_config) }
        ActiveRecord::Base.establish_connection(environment.to_sym)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L183" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-db_dir">
            
              db_dir()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 88
      def db_dir
        @db_dir ||= Rails.application.config.paths[&quot;db&quot;].first
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L88" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-drop">
            
              drop(configuration, *arguments)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 222
      def drop(configuration, *arguments)
        db_config = resolve_configuration(configuration)
        database_adapter_for(db_config, *arguments).drop
        $stdout.puts &quot;Dropped database &#39;#{db_config.database}&#39;&quot; if verbose?
      rescue ActiveRecord::NoDatabaseError
        $stderr.puts &quot;Database &#39;#{db_config.database}&#39; does not exist&quot;
      rescue Exception =&gt; error
        $stderr.puts error
        $stderr.puts &quot;Couldn&#39;t drop database &#39;#{db_config.database}&#39;&quot;
        raise
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L222" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-drop_all">
            
              drop_all()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 234
      def drop_all
        each_local_configuration { |db_config| drop(db_config) }
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L234" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-drop_current">
            
              drop_current(environment = env)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 238
      def drop_current(environment = env)
        each_current_configuration(environment) { |db_config| drop(db_config) }
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L238" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-dump_schema_cache">
            
              dump_schema_cache(conn, filename)
            
          </h3>

          
            <div class="description">
              <p>Dumps the schema cache in YAML format for the connection into the file</p>

<h4 id="method-i-dump_schema_cache-label-Examples-3A">Examples:</h4>

<pre><code>ActiveRecord::Tasks::DatabaseTasks.dump_schema_cache(ActiveRecord::Base.connection, &quot;tmp/schema_dump.yaml&quot;)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 509
      def dump_schema_cache(conn, filename)
        conn.schema_cache.dump_to(filename)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L509" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-env">
            
              env()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 108
      def env
        @env ||= Rails.env
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L108" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-fixtures_path">
            
              fixtures_path()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 96
      def fixtures_path
        @fixtures_path ||= if ENV[&quot;FIXTURES_PATH&quot;]
          File.join(root, ENV[&quot;FIXTURES_PATH&quot;])
        else
          File.join(root, &quot;test&quot;, &quot;fixtures&quot;)
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L96" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-for_each">
            
              for_each(databases)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 154
      def for_each(databases)
        return {} unless defined?(Rails)

        database_configs = ActiveRecord::DatabaseConfigurations.new(databases).configs_for(env_name: Rails.env)

        # if this is a single database application we don&#39;t want tasks for each primary database
        return if database_configs.count == 1

        database_configs.each do |db_config|
          next unless db_config.database_tasks?

          yield db_config.name
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L154" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-load_schema_current">
            
              load_schema_current(format = ActiveRecord.schema_format, file = nil, environment = env)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 480
      def load_schema_current(format = ActiveRecord.schema_format, file = nil, environment = env)
        each_current_configuration(environment) do |db_config|
          load_schema(db_config, format, file)
        end
        ActiveRecord::Base.establish_connection(environment.to_sym)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L480" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-load_seed">
            
              load_seed()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 495
      def load_seed
        if seed_loader
          seed_loader.load_seed
        else
          raise &quot;You tried to load seed data, but no seed loader is specified. Please specify seed &quot; \
                &quot;loader with ActiveRecord::Tasks::DatabaseTasks.seed_loader = your_seed_loader\n&quot; \
                &quot;Seed loader should respond to load_seed method&quot;
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L495" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-migrate">
            
              migrate(version = nil)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 256
      def migrate(version = nil)
        check_target_version

        scope = ENV[&quot;SCOPE&quot;]
        verbose_was, Migration.verbose = Migration.verbose, verbose?

        Base.connection.migration_context.migrate(target_version) do |migration|
          if version.blank?
            scope.blank? || scope == migration.scope
          else
            migration.version == version
          end
        end.tap do |migrations_ran|
          Migration.write(&quot;No migrations ran. (using #{scope} scope)&quot;) if scope.present? &amp;&amp; migrations_ran.empty?
        end

        ActiveRecord::Base.clear_cache!
      ensure
        Migration.verbose = verbose_was
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L256" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-migrate_status">
            
              migrate_status()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 294
      def migrate_status
        unless ActiveRecord::Base.connection.schema_migration.table_exists?
          Kernel.abort &quot;Schema migrations table does not exist yet.&quot;
        end

        # output
        puts &quot;\ndatabase: #{ActiveRecord::Base.connection_db_config.database}\n\n&quot;
        puts &quot;#{&#39;Status&#39;.center(8)}  #{&#39;Migration ID&#39;.ljust(14)}  Migration Name&quot;
        puts &quot;-&quot; * 50
        ActiveRecord::Base.connection.migration_context.migrations_status.each do |status, version, name|
          puts &quot;#{status.center(8)}  #{version.ljust(14)}  #{name}&quot;
        end
        puts
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L294" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-migrations_paths">
            
              migrations_paths()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 92
      def migrations_paths
        @migrations_paths ||= Rails.application.paths[&quot;db/migrate&quot;].to_a
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L92" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-name">
            
              name()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 112
      def name
        @name ||= &quot;primary&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L112" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-prepare_all">
            
              prepare_all()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 188
      def prepare_all
        seed = false

        each_current_configuration(env) do |db_config|
          ActiveRecord::Base.establish_connection(db_config)

          begin
            # Skipped when no database
            migrate

            if ActiveRecord.dump_schema_after_migration
              dump_schema(db_config, ActiveRecord.schema_format)
            end
          rescue ActiveRecord::NoDatabaseError
            create(db_config)

            if File.exist?(schema_dump_path(db_config))
              load_schema(
                db_config,
                ActiveRecord.schema_format,
                nil
              )
            else
              migrate
            end

            seed = true
          end
        end

        ActiveRecord::Base.establish_connection
        load_seed if seed
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L188" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-purge">
            
              purge(configuration)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 339
      def purge(configuration)
        db_config = resolve_configuration(configuration)
        database_adapter_for(db_config).purge
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L339" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-purge_all">
            
              purge_all()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 344
      def purge_all
        each_local_configuration { |db_config| purge(db_config) }
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L344" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-purge_current">
            
              purge_current(environment = env)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 348
      def purge_current(environment = env)
        each_current_configuration(environment) { |db_config| purge(db_config) }
        ActiveRecord::Base.establish_connection(environment.to_sym)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L348" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-raise_for_multi_db">
            
              raise_for_multi_db(environment = env, command:)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 169
      def raise_for_multi_db(environment = env, command:)
        db_configs = configs_for(env_name: environment)

        if db_configs.count &gt; 1
          dbs_list = []

          db_configs.each do |db|
            dbs_list &lt;&lt; &quot;#{command}:#{db.name}&quot;
          end

          raise &quot;You&#39;re using a multiple database application. To use `#{command}` you must run the namespaced task with a VERSION. Available tasks are #{dbs_list.to_sentence}.&quot;
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L169" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-register_task">
            
              register_task(pattern, task)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 79
      def register_task(pattern, task)
        @tasks ||= {}
        @tasks[pattern] = task
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L79" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-root">
            
              root()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 104
      def root
        @root ||= Rails.root
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L104" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-schema_dump_path">
            
              schema_dump_path(db_config, format = ActiveRecord.schema_format)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 457
      def schema_dump_path(db_config, format = ActiveRecord.schema_format)
        return ENV[&quot;SCHEMA&quot;] if ENV[&quot;SCHEMA&quot;]

        filename = db_config.schema_dump(format)
        return unless filename

        if File.dirname(filename) == ActiveRecord::Tasks::DatabaseTasks.db_dir
          filename
        else
          File.join(ActiveRecord::Tasks::DatabaseTasks.db_dir, filename)
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L457" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-schema_file_type">
            
              schema_file_type(format = ActiveRecord.schema_format)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 447
      def schema_file_type(format = ActiveRecord.schema_format)
        case format
        when :ruby
          &quot;schema.rb&quot;
        when :sql
          &quot;structure.sql&quot;
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L447" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-schema_up_to_date-3F">
            
              schema_up_to_date?(configuration, format = ActiveRecord.schema_format, file = nil)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 390
      def schema_up_to_date?(configuration, format = ActiveRecord.schema_format, file = nil)
        db_config = resolve_configuration(configuration)

        file ||= schema_dump_path(db_config)

        return true unless file &amp;&amp; File.exist?(file)

        ActiveRecord::Base.establish_connection(db_config)

        return false unless ActiveRecord::InternalMetadata.enabled?
        return false unless ActiveRecord::InternalMetadata.table_exists?

        ActiveRecord::InternalMetadata[:schema_sha1] == schema_sha1(file)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L390" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-seed_loader">
            
              seed_loader()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 116
      def seed_loader
        @seed_loader ||= Rails.application
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L116" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-setup_initial_database_yaml">
            
              setup_initial_database_yaml()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 140
      def setup_initial_database_yaml
        return {} unless defined?(Rails)

        begin
          Rails.application.config.load_database_yaml
        rescue
          unless ActiveRecord.suppress_multiple_database_warning
            $stderr.puts &quot;Rails couldn&#39;t infer whether you are using multiple databases from your database.yml and can&#39;t generate the tasks for the non-primary databases. If you&#39;d like to use this feature, please simplify your ERB.&quot;
          end

          {}
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L140" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-structure_dump">
            
              structure_dump(configuration, *arguments)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 353
      def structure_dump(configuration, *arguments)
        db_config = resolve_configuration(configuration)
        filename = arguments.delete_at(0)
        flags = structure_dump_flags_for(db_config.adapter)
        database_adapter_for(db_config, *arguments).structure_dump(filename, flags)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L353" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-structure_load">
            
              structure_load(configuration, *arguments)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 360
      def structure_load(configuration, *arguments)
        db_config = resolve_configuration(configuration)
        filename = arguments.delete_at(0)
        flags = structure_load_flags_for(db_config.adapter)
        database_adapter_for(db_config, *arguments).structure_load(filename, flags)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L360" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-target_version">
            
              target_version()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 315
      def target_version
        ENV[&quot;VERSION&quot;].to_i if ENV[&quot;VERSION&quot;] &amp;&amp; !ENV[&quot;VERSION&quot;].empty?
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L315" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-truncate_all">
            
              truncate_all(environment = env)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/tasks/database_tasks.rb, line 250
      def truncate_all(environment = env)
        configs_for(env_name: environment).each do |db_config|
          truncate_tables(db_config)
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/fc734f28e65ef8829a1a939ee6702c1f349a1d5a/activerecord/lib/active_record/tasks/database_tasks.rb#L250" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
  
</div>

    </div>
</div>
