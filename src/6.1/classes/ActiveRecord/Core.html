---
title: ActiveRecord::Core
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 6.1.7</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActiveRecord::Core
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/activerecord/lib/active_record/core_rb.html">activerecord/lib/active_record/core.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  

  

  
  


  
    <h2 id="namespace">Namespace</h2>

    
      <h3 id="module">Module</h3>
      <ul>
      
        <li><a href="Core/ClassMethods.html">ActiveRecord::Core::ClassMethods</a></li>
      
      </ul>
    

    
      <h3 id="class">Class</h3>
      <ul>
      
        <li><a href="Core/InspectionMask.html">ActiveRecord::Core::InspectionMask</a></li>
      
      </ul>
    
  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-3C-3D-3E">&lt;=&gt;</a>
        </li>
      
        <li>
          <a href="#method-i-3D-3D">==</a>
        </li>
      
        <li>
          <a href="#method-i-clone">clone</a>
        </li>
      
        <li>
          <a href="#method-c-configurations">configurations</a>
        </li>
      
        <li>
          <a href="#method-c-configurations-3D">configurations=</a>
        </li>
      
        <li>
          <a href="#method-c-connection_class">connection_class</a>
        </li>
      
        <li>
          <a href="#method-c-connection_handler">connection_handler</a>
        </li>
      
        <li>
          <a href="#method-i-connection_handler">connection_handler</a>
        </li>
      
        <li>
          <a href="#method-c-connection_handler-3D">connection_handler=</a>
        </li>
      
        <li>
          <a href="#method-c-connection_handlers">connection_handlers</a>
        </li>
      
        <li>
          <a href="#method-c-connection_handlers-3D">connection_handlers=</a>
        </li>
      
        <li>
          <a href="#method-c-current_preventing_writes">current_preventing_writes</a>
        </li>
      
        <li>
          <a href="#method-c-current_role">current_role</a>
        </li>
      
        <li>
          <a href="#method-c-current_shard">current_shard</a>
        </li>
      
        <li>
          <a href="#method-i-dup">dup</a>
        </li>
      
        <li>
          <a href="#method-i-encode_with">encode_with</a>
        </li>
      
        <li>
          <a href="#method-i-eql-3F">eql?</a>
        </li>
      
        <li>
          <a href="#method-i-freeze">freeze</a>
        </li>
      
        <li>
          <a href="#method-i-frozen-3F">frozen?</a>
        </li>
      
        <li>
          <a href="#method-i-hash">hash</a>
        </li>
      
        <li>
          <a href="#method-i-init_with">init_with</a>
        </li>
      
        <li>
          <a href="#method-i-inspect">inspect</a>
        </li>
      
        <li>
          <a href="#method-c-new">new</a>
        </li>
      
        <li>
          <a href="#method-i-pretty_print">pretty_print</a>
        </li>
      
        <li>
          <a href="#method-i-readonly-21">readonly!</a>
        </li>
      
        <li>
          <a href="#method-i-readonly-3F">readonly?</a>
        </li>
      
        <li>
          <a href="#method-i-slice">slice</a>
        </li>
      
        <li>
          <a href="#method-i-strict_loading-21">strict_loading!</a>
        </li>
      
        <li>
          <a href="#method-i-strict_loading-3F">strict_loading?</a>
        </li>
      
        <li>
          <a href="#method-i-values_at">values_at</a>
        </li>
      
    </ul>
  

  

  
    

    

    

    

    <!-- Methods -->
    
      <h2 id="class-public-methods">Class Public methods</h2>
      
        <div class="method">
          <h3 id="method-c-configurations">
            
              configurations()
            
          </h3>

          
            <div class="description">
              <p>Returns fully resolved <a href="DatabaseConfigurations.html"><code>ActiveRecord::DatabaseConfigurations</code></a> object</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 69
      def self.configurations
        @@configurations
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L69" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-configurations-3D">
            
              configurations=(config)
            
          </h3>

          
            <div class="description">
              <p>Contains the database configuration - as is typically stored in config/database.yml - as an <a href="DatabaseConfigurations.html"><code>ActiveRecord::DatabaseConfigurations</code></a> object.</p>

<p>For example, the following database.yml‚Ä¶</p>

<pre><code>development:
  adapter: sqlite3
  database: db/development.sqlite3

production:
  adapter: sqlite3
  database: db/production.sqlite3
</code></pre>

<p>‚Ä¶would result in <a href="Core.html#method-c-configurations"><code>ActiveRecord::Base.configurations</code></a> to look like this:</p>

<pre><code>#&lt;ActiveRecord::DatabaseConfigurations:0x00007fd1acbdf800 @configurations=[
  #&lt;ActiveRecord::DatabaseConfigurations::HashConfig:0x00007fd1acbded10 @env_name=&quot;development&quot;,
    @name=&quot;primary&quot;, @config={adapter: &quot;sqlite3&quot;, database: &quot;db/development.sqlite3&quot;}&gt;,
  #&lt;ActiveRecord::DatabaseConfigurations::HashConfig:0x00007fd1acbdea90 @env_name=&quot;production&quot;,
    @name=&quot;primary&quot;, @config={adapter: &quot;sqlite3&quot;, database: &quot;db/production.sqlite3&quot;}&gt;
]&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 63
      def self.configurations=(config)
        @@configurations = ActiveRecord::DatabaseConfigurations.new(config)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L63" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-connection_class">
            
              connection_class()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 269
      def self.connection_class # :nodoc
        @connection_class ||= false
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L269" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-connection_handler">
            
              connection_handler()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 168
      def self.connection_handler
        Thread.current.thread_variable_get(:ar_connection_handler) || default_connection_handler
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L168" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-connection_handler-3D">
            
              connection_handler=(handler)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 172
      def self.connection_handler=(handler)
        Thread.current.thread_variable_set(:ar_connection_handler, handler)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L172" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-connection_handlers">
            
              connection_handlers()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 176
      def self.connection_handlers
        unless legacy_connection_handling
          raise NotImplementedError, &quot;The new connection handling does not support accessing multiple connection handlers.&quot;
        end

        @@connection_handlers ||= {}
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L176" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-connection_handlers-3D">
            
              connection_handlers=(handlers)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 184
      def self.connection_handlers=(handlers)
        unless legacy_connection_handling
          raise NotImplementedError, &quot;The new connection handling does not setting support multiple connection handlers.&quot;
        end

        @@connection_handlers = handlers
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L184" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-current_preventing_writes">
            
              current_preventing_writes()
            
          </h3>

          
            <div class="description">
              <p>Returns the symbol representing the current setting for preventing writes.</p>

<pre><code>ActiveRecord::Base.connected_to(role: :reading) do
  ActiveRecord::Base.current_preventing_writes #=&gt; true
end

ActiveRecord::Base.connected_to(role: :writing) do
  ActiveRecord::Base.current_preventing_writes #=&gt; false
end
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 242
      def self.current_preventing_writes
        if legacy_connection_handling
          connection_handler.prevent_writes
        else
          connected_to_stack.reverse_each do |hash|
            return hash[:prevent_writes] if !hash[:prevent_writes].nil? &amp;&amp; hash[:klasses].include?(Base)
            return hash[:prevent_writes] if !hash[:prevent_writes].nil? &amp;&amp; hash[:klasses].include?(connection_classes)
          end

          false
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L242" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-current_role">
            
              current_role()
            
          </h3>

          
            <div class="description">
              <p>Returns the symbol representing the current connected role.</p>

<pre><code>ActiveRecord::Base.connected_to(role: :writing) do
  ActiveRecord::Base.current_role #=&gt; :writing
end

ActiveRecord::Base.connected_to(role: :reading) do
  ActiveRecord::Base.current_role #=&gt; :reading
end
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 201
      def self.current_role
        if ActiveRecord::Base.legacy_connection_handling
          connection_handlers.key(connection_handler) || default_role
        else
          connected_to_stack.reverse_each do |hash|
            return hash[:role] if hash[:role] &amp;&amp; hash[:klasses].include?(Base)
            return hash[:role] if hash[:role] &amp;&amp; hash[:klasses].include?(connection_classes)
          end

          default_role
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L201" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-current_shard">
            
              current_shard()
            
          </h3>

          
            <div class="description">
              <p>Returns the symbol representing the current connected shard.</p>

<pre><code>ActiveRecord::Base.connected_to(role: :reading) do
  ActiveRecord::Base.current_shard #=&gt; :default
end

ActiveRecord::Base.connected_to(role: :writing, shard: :one) do
  ActiveRecord::Base.current_shard #=&gt; :one
end
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 223
      def self.current_shard
        connected_to_stack.reverse_each do |hash|
          return hash[:shard] if hash[:shard] &amp;&amp; hash[:klasses].include?(Base)
          return hash[:shard] if hash[:shard] &amp;&amp; hash[:klasses].include?(connection_classes)
        end

        default_shard
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L223" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-new">
            
              new(attributes = nil)
            
          </h3>

          
            <div class="description">
              <p>New objects can be instantiated as either empty (pass no construction parameter) or pre-set with attributes but not yet saved (pass a hash with key names matching the associated table column names). In both instances, valid attribute keys are determined by the column names of the associated table ‚Äì hence you can&#39;t have attributes that aren&#39;t part of the table columns.</p>

<h4 id="method-c-new-label-Example-3A">Example:</h4>

<pre><code># Instantiates a single new object
User.new(first_name: &#39;Jamie&#39;)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 511
    def initialize(attributes = nil)
      @new_record = true
      @attributes = self.class._default_attributes.deep_dup

      init_internals
      initialize_internals_callback

      assign_attributes(attributes) if attributes

      yield self if block_given?
      _run_initialize_callbacks
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L511" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-3C-3D-3E">
            
              &lt;=&gt;(other_object)
            
          </h3>

          
            <div class="description">
              <p>Allows sort on objects</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 662
    def &lt;=&gt;(other_object)
      if other_object.is_a?(self.class)
        to_key &lt;=&gt; other_object.to_key
      else
        super
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L662" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-3D-3D">
            
              ==(comparison_object)
            
          </h3>

          
            <div class="description">
              <p>Returns true if <code>comparison_object</code> is the same exact object, or <code>comparison_object</code> is of the same type and <code>self</code> has an ID and it is equal to <code>comparison_object.id</code>.</p>

<p>Note that new records are different from any other record by definition, unless the other record is the receiver itself. Besides, if you fetch existing records with <code>select</code> and leave the ID out, you&#39;re on your own, this predicate will return false.</p>

<p>Note also that destroying a record preserves its ID in the model instance, so deleted models are still comparable.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Core.html#method-i-eql-3F">eql?</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 630
    def ==(comparison_object)
      super ||
        comparison_object.instance_of?(self.class) &amp;&amp;
        !id.nil? &amp;&amp;
        comparison_object.id == id
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L630" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-clone">
            
              clone
            
          </h3>

          
            <div class="description">
              <p>Identical to Ruby&#39;s clone method.  This is a ‚Äúshallow‚Äù copy.  Be warned that your attributes are not copied. That means that modifying attributes of the clone will modify the original, since they will both point to the same attributes hash. If you need a copy of your attributes hash, please use the <a href="Core.html#method-i-dup"><code>dup</code></a> method.</p>

<pre><code>user = User.first
new_user = user.clone
user.name               # =&gt; &quot;Bob&quot;
new_user.name = &quot;Joe&quot;
user.name               # =&gt; &quot;Joe&quot;

user.object_id == new_user.object_id            # =&gt; false
user.name.object_id == new_user.name.object_id  # =&gt; true

user.name.object_id == user.dup.name.object_id  # =&gt; false
</code></pre>
            </div>
          

          

          

          
          
            <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L563" target="_blank" class="github_url">üîé See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-connection_handler">
            
              connection_handler()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 704
    def connection_handler
      self.class.connection_handler
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L704" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-dup">
            
              dup
            
          </h3>

          
            <div class="description">
              <p>Duped objects have no id assigned and are treated as new records. Note that this is a ‚Äúshallow‚Äù copy as it copies the object&#39;s attributes only, not its associations. The extent of a ‚Äúdeep‚Äù copy is application specific and is therefore left to the application to implement according to its need. The dup method does not preserve the timestamps (created|updated)_(at|on).</p>
            </div>
          

          

          

          
          
            <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L580" target="_blank" class="github_url">üîé See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-encode_with">
            
              encode_with(coder)
            
          </h3>

          
            <div class="description">
              <p>Populate <code>coder</code> with attributes about this record that should be serialized. The structure of <code>coder</code> defined in this method is guaranteed to match the structure of <code>coder</code> passed to the <a href="Core.html#method-i-init_with"><code>init_with</code></a> method.</p>

<p>Example:</p>

<pre><code>class Post &lt; ActiveRecord::Base
end
coder = {}
Post.new.encode_with(coder)
coder # =&gt; {&quot;attributes&quot; =&gt; {&quot;id&quot; =&gt; nil, ... }}
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 615
    def encode_with(coder)
      self.class.yaml_encoder.encode(@attributes, coder)
      coder[&quot;new_record&quot;] = new_record?
      coder[&quot;active_record_yaml_version&quot;] = 2
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L615" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-eql-3F">
            
              eql?(comparison_object)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Core.html#method-i-3D-3D">==</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-freeze">
            
              freeze()
            
          </h3>

          
            <div class="description">
              <p>Clone and freeze the attributes hash such that associations are still accessible, even on destroyed records, but cloned models will not be frozen.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 651
    def freeze
      @attributes = @attributes.clone.freeze
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L651" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-frozen-3F">
            
              frozen?()
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the attributes hash has been frozen.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 657
    def frozen?
      @attributes.frozen?
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L657" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-hash">
            
              hash()
            
          </h3>

          
            <div class="description">
              <p>Delegates to id in order to allow two records of the same type and id to work with something like:</p>

<pre><code>[ Person.find(1), Person.find(2), Person.find(3) ] &amp; [ Person.find(1), Person.find(4) ] # =&gt; [ Person.find(1) ]
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 640
    def hash
      if id
        self.class.hash ^ id.hash
      else
        super
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L640" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-init_with">
            
              init_with(coder, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Initialize an empty model object from <code>coder</code>. <code>coder</code> should be the result of previously encoding an Active Record model, using <a href="Core.html#method-i-encode_with"><code>encode_with</code></a>.</p>

<pre><code>class Post &lt; ActiveRecord::Base
end

old_post = Post.new(title: &quot;hello world&quot;)
coder = {}
old_post.encode_with(coder)

post = Post.allocate
post.init_with(coder)
post.title # =&gt; &#39;hello world&#39;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 538
    def init_with(coder, &amp;block)
      coder = LegacyYamlAdapter.convert(self.class, coder)
      attributes = self.class.yaml_encoder.decode(coder)
      init_with_attributes(attributes, coder[&quot;new_record&quot;], &amp;block)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L538" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-inspect">
            
              inspect()
            
          </h3>

          
            <div class="description">
              <p>Returns the contents of the record as a nicely formatted string.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 709
    def inspect
      # We check defined?(@attributes) not to issue warnings if the object is
      # allocated but not initialized.
      inspection = if defined?(@attributes) &amp;&amp; @attributes
        self.class.attribute_names.collect do |name|
          if _has_attribute?(name)
            &quot;#{name}: #{attribute_for_inspect(name)}&quot;
          end
        end.compact.join(&quot;, &quot;)
      else
        &quot;not initialized&quot;
      end

      &quot;#&lt;#{self.class} #{inspection}&gt;&quot;
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L709" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-pretty_print">
            
              pretty_print(pp)
            
          </h3>

          
            <div class="description">
              <p>Takes a PP and prettily prints this record to it, allowing you to get a nice result from <code>pp record</code> when pp is required.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 727
    def pretty_print(pp)
      return super if custom_inspect_method_defined?
      pp.object_address_group(self) do
        if defined?(@attributes) &amp;&amp; @attributes
          attr_names = self.class.attribute_names.select { |name| _has_attribute?(name) }
          pp.seplist(attr_names, proc { pp.text &quot;,&quot; }) do |attr_name|
            pp.breakable &quot; &quot;
            pp.group(1) do
              pp.text attr_name
              pp.text &quot;:&quot;
              pp.breakable
              value = _read_attribute(attr_name)
              value = inspection_filter.filter_param(attr_name, value) unless value.nil?
              pp.pp value
            end
          end
        else
          pp.breakable &quot; &quot;
          pp.text &quot;not initialized&quot;
        end
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L727" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-readonly-21">
            
              readonly!()
            
          </h3>

          
            <div class="description">
              <p>Marks this record as read only.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 700
    def readonly!
      @readonly = true
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L700" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-readonly-3F">
            
              readonly?()
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the record is read only.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 679
    def readonly?
      @readonly
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L679" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-slice">
            
              slice(*methods)
            
          </h3>

          
            <div class="description">
              <p>Returns a hash of the given methods with their names as keys and returned values as values.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 751
    def slice(*methods)
      methods.flatten.index_with { |method| public_send(method) }.with_indifferent_access
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L751" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-strict_loading-21">
            
              strict_loading!()
            
          </h3>

          
            <div class="description">
              <p>Sets the record to strict_loading mode. This will raise an error if the record tries to lazily load an association.</p>

<pre><code>user = User.first
user.strict_loading!
user.comments.to_a
=&gt; ActiveRecord::StrictLoadingViolationError
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 695
    def strict_loading!
      @strict_loading = true
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L695" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-strict_loading-3F">
            
              strict_loading?()
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the record is in strict_loading mode.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 684
    def strict_loading?
      @strict_loading
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L684" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-values_at">
            
              values_at(*methods)
            
          </h3>

          
            <div class="description">
              <p>Returns an array of the values returned by the given methods.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/core.rb, line 756
    def values_at(*methods)
      methods.flatten.map! { |method| public_send(method) }
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/9ab33753b6bab1809fc73d35b98a5c1d0c96ba1b/activerecord/lib/active_record/core.rb#L756" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
  
</div>

    </div>
</div>
