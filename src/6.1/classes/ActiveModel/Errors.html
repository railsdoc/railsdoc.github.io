---
title: ActiveModel::Errors
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 6.1.6</span><br />
        
        <div class="type">Class</div>
        <h1>
            ActiveModel::Errors
            
                <span class="parent">&lt;
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/activemodel/lib/active_model/errors_rb.html">activemodel/lib/active_model/errors.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="class-ActiveModel::Errors-label-Active+Model+Errors">Active Model Errors</h2>

<p>Provides error related functionalities you can include in your object for handling error messages and interacting with Action View helpers.</p>

<p>A minimal implementation could be:</p>

<pre><code>class Person
  # Required dependency for ActiveModel::Errors
  extend ActiveModel::Naming

  def initialize
    @errors = ActiveModel::Errors.new(self)
  end

  attr_accessor :name
  attr_reader   :errors

  def validate!
    errors.add(:name, :blank, message: &quot;cannot be nil&quot;) if name.nil?
  end

  # The following methods are needed to be minimally implemented

  def read_attribute_for_validation(attr)
    send(attr)
  end

  def self.human_attribute_name(attr, options = {})
    attr
  end

  def self.lookup_ancestors
    [self]
  end
end
</code></pre>

<p>The last three methods are required in your object for <code>Errors</code> to be able to generate error messages correctly and also handle multiple languages. Of course, if you extend your object with <code>ActiveModel::Translation</code> you will not need to implement the last two. Likewise, using <code>ActiveModel::Validations</code> will handle the validation related methods for you.</p>

<p>The above allows you to do:</p>

<pre><code>person = Person.new
person.validate!            # =&gt; [&quot;cannot be nil&quot;]
person.errors.full_messages # =&gt; [&quot;name cannot be nil&quot;]
# etc..
</code></pre>

    </div>
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-5B-5D">[]</a>
        </li>
      
        <li>
          <a href="#method-i-add">add</a>
        </li>
      
        <li>
          <a href="#method-i-added-3F">added?</a>
        </li>
      
        <li>
          <a href="#method-i-as_json">as_json</a>
        </li>
      
        <li>
          <a href="#method-i-attribute_names">attribute_names</a>
        </li>
      
        <li>
          <a href="#method-i-delete">delete</a>
        </li>
      
        <li>
          <a href="#method-i-details">details</a>
        </li>
      
        <li>
          <a href="#method-i-each">each</a>
        </li>
      
        <li>
          <a href="#method-i-full_message">full_message</a>
        </li>
      
        <li>
          <a href="#method-i-full_messages">full_messages</a>
        </li>
      
        <li>
          <a href="#method-i-full_messages_for">full_messages_for</a>
        </li>
      
        <li>
          <a href="#method-i-generate_message">generate_message</a>
        </li>
      
        <li>
          <a href="#method-i-group_by_attribute">group_by_attribute</a>
        </li>
      
        <li>
          <a href="#method-i-has_key-3F">has_key?</a>
        </li>
      
        <li>
          <a href="#method-i-import">import</a>
        </li>
      
        <li>
          <a href="#method-i-include-3F">include?</a>
        </li>
      
        <li>
          <a href="#method-i-key-3F">key?</a>
        </li>
      
        <li>
          <a href="#method-i-keys">keys</a>
        </li>
      
        <li>
          <a href="#method-i-merge-21">merge!</a>
        </li>
      
        <li>
          <a href="#method-i-messages">messages</a>
        </li>
      
        <li>
          <a href="#method-i-messages_for">messages_for</a>
        </li>
      
        <li>
          <a href="#method-c-new">new</a>
        </li>
      
        <li>
          <a href="#method-i-of_kind-3F">of_kind?</a>
        </li>
      
        <li>
          <a href="#method-i-slice-21">slice!</a>
        </li>
      
        <li>
          <a href="#method-i-to_a">to_a</a>
        </li>
      
        <li>
          <a href="#method-i-to_h">to_h</a>
        </li>
      
        <li>
          <a href="#method-i-to_hash">to_hash</a>
        </li>
      
        <li>
          <a href="#method-i-to_xml">to_xml</a>
        </li>
      
        <li>
          <a href="#method-i-values">values</a>
        </li>
      
        <li>
          <a href="#method-i-where">where</a>
        </li>
      
    </ul>
  

  
    <!-- Includes -->
    <h2 id="included-modules">Included Modules</h2>
    <ul>
      
        <li>
          
            <a href="../Enumerable.html">
              Enumerable
            </a>
          
        </li>
      
    </ul>
  

  
    

    

    

    
      <!-- Section attributes -->
      <h2 id="attributes">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>errors</td>
            <td class='attr-desc'><p>The actual array of <code>Error</code> objects This method is aliased to <code>objects</code>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>objects</td>
            <td class='attr-desc'><p>The actual array of <code>Error</code> objects This method is aliased to <code>objects</code>.</p></td>
          </tr>
        
      </table>
    

    <!-- Methods -->
    
      <h2 id="class-public-methods">Class Public methods</h2>
      
        <div class="method">
          <h3 id="method-c-new">
            
              new(base)
            
          </h3>

          
            <div class="description">
              <p>Pass in the instance of the object that is using the errors object.</p>

<pre><code>class Person
  def initialize
    @errors = ActiveModel::Errors.new(self)
  end
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-new_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 85</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">base</span>)
  <span class="ruby-ivar">@base</span> = <span class="ruby-identifier">base</span>
  <span class="ruby-ivar">@errors</span> = []
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-5B-5D">
            
              [](attribute)
            
          </h3>

          
            <div class="description">
              <p>When passed a symbol or a name of a method, returns an array of errors for the method.</p>

<pre><code>person.errors[:name]  # =&gt; [&quot;cannot be nil&quot;]
person.errors[&#39;name&#39;] # =&gt; [&quot;cannot be nil&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-5B-5D_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 207</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">[]</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-constant">DeprecationHandlingMessageArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">messages_for</span>(<span class="ruby-identifier">attribute</span>), <span class="ruby-keyword">self</span>, <span class="ruby-identifier">attribute</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-add">
            
              add(attribute, type = :invalid, **options)
            
          </h3>

          
            <div class="description">
              <p>Adds a new error of <code>type</code> on <code>attribute</code>. More than one error can be added to the same <code>attribute</code>. If no <code>type</code> is supplied, <code>:invalid</code> is assumed.</p>

<pre><code>person.errors.add(:name)
# Adds &lt;#ActiveModel::Error attribute=name, type=invalid&gt;
person.errors.add(:name, :not_implemented, message: &quot;must be implemented&quot;)
# Adds &lt;#ActiveModel::Error attribute=name, type=not_implemented,
                            options={:message=&gt;&quot;must be implemented&quot;}&gt;

person.errors.messages
# =&gt; {:name=&gt;[&quot;is invalid&quot;, &quot;must be implemented&quot;]}
</code></pre>

<p>If <code>type</code> is a string, it will be used as error message.</p>

<p>If <code>type</code> is a symbol, it will be translated using the appropriate scope (see <code>generate_message</code>).</p>

<p>If <code>type</code> is a proc, it will be called, allowing for things like <code>Time.now</code> to be used within an error.</p>

<p>If the <code>:strict</code> option is set to <code>true</code>, it will raise <a href="StrictValidationFailed.html"><code>ActiveModel::StrictValidationFailed</code></a> instead of adding the error. <code>:strict</code> option can also be set to any other exception.</p>

<pre><code>person.errors.add(:name, :invalid, strict: true)
# =&gt; ActiveModel::StrictValidationFailed: Name is invalid
person.errors.add(:name, :invalid, strict: NameIsInvalid)
# =&gt; NameIsInvalid: Name is invalid

person.errors.messages # =&gt; {}
</code></pre>

<p><code>attribute</code> should be set to <code>:base</code> if the error is not directly associated with a single attribute.</p>

<pre><code>person.errors.add(:base, :name_or_email_blank,
  message: &quot;either name or email must be present&quot;)
person.errors.messages
# =&gt; {:base=&gt;[&quot;either name or email must be present&quot;]}
person.errors.details
# =&gt; {:base=&gt;[{error: :name_or_email_blank}]}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-add_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 404</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span> = <span class="ruby-value">:invalid</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">options</span> = <span class="ruby-identifier">normalize_arguments</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">error</span> = <span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base</span>, <span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">exception</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:strict</span>]
    <span class="ruby-identifier">exception</span> = <span class="ruby-constant">ActiveModel</span><span class="ruby-operator">::</span><span class="ruby-constant">StrictValidationFailed</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exception</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">full_message</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">append</span>(<span class="ruby-identifier">error</span>)

  <span class="ruby-identifier">error</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-added-3F">
            
              added?(attribute, type = :invalid, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if an error matches provided <code>attribute</code> and <code>type</code>, or <code>false</code> otherwise. <code>type</code> is treated the same as for <code>add</code>.</p>

<pre><code>person.errors.add :name, :blank
person.errors.added? :name, :blank           # =&gt; true
person.errors.added? :name, &quot;can&#39;t be blank&quot; # =&gt; true
</code></pre>

<p>If the error requires options, then it returns <code>true</code> with the correct options, or <code>false</code> with incorrect or missing options.</p>

<pre><code>person.errors.add :name, :too_long, { count: 25 }
person.errors.added? :name, :too_long, count: 25                     # =&gt; true
person.errors.added? :name, &quot;is too long (maximum is 25 characters)&quot; # =&gt; true
person.errors.added? :name, :too_long, count: 24                     # =&gt; false
person.errors.added? :name, :too_long                                # =&gt; false
person.errors.added? :name, &quot;is too long&quot;                            # =&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-added-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 434</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">added?</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span> = <span class="ruby-value">:invalid</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">options</span> = <span class="ruby-identifier">normalize_arguments</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>
    <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">error</span>.<span class="ruby-identifier">strict_match?</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
    }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">messages_for</span>(<span class="ruby-identifier">attribute</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">type</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-as_json">
            
              as_json(options = nil)
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="../Hash.html"><code>Hash</code></a> that can be used as the JSON representation for this object. You can pass the <code>:full_messages</code> option. This determines if the json object should contain full messages or not (false by default).</p>

<pre><code>person.errors.as_json                      # =&gt; {:name=&gt;[&quot;cannot be nil&quot;]}
person.errors.as_json(full_messages: true) # =&gt; {:name=&gt;[&quot;name cannot be nil&quot;]}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-as_json_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">as_json</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">to_hash</span>(<span class="ruby-identifier">options</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:full_messages</span>])
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-attribute_names">
            
              attribute_names()
            
          </h3>

          
            <div class="description">
              <p>Returns all error attribute names</p>

<pre><code>person.errors.messages        # =&gt; {:name=&gt;[&quot;cannot be nil&quot;, &quot;must be specified&quot;]}
person.errors.attribute_names # =&gt; [:name]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-attribute_names_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 284</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">attribute_names</span>
  <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:attribute</span>).<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-delete">
            
              delete(attribute, type = nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Delete messages for <code>key</code>. Returns the deleted messages.</p>

<pre><code>person.errors[:name]        # =&gt; [&quot;cannot be nil&quot;]
person.errors.delete(:name) # =&gt; [&quot;cannot be nil&quot;]
person.errors[:name]        # =&gt; []
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-delete_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">options</span> = <span class="ruby-identifier">normalize_arguments</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">where</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">error</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:message</span>).<span class="ruby-identifier">presence</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-details">
            
              details()
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="../Hash.html"><code>Hash</code></a> of attributes with an array of their error details.</p>

<p>Updating this hash would still update errors state for backward compatibility, but this behavior is deprecated.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-details_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">details</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">group_by_attribute</span>.<span class="ruby-identifier">transform_values</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">errors</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:details</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">DeprecationHandlingDetailsHash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hash</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-each">
            
              each(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Iterates through each error object.</p>

<pre><code>person.errors.add(:name, :too_short, count: 2)
person.errors.each do |error|
  # Will yield &lt;#ActiveModel::Error attribute=name, type=too_short,
                                    options={:count=&gt;3}&gt;
end
</code></pre>

<p>To be backward compatible with past deprecated hash-like behavior, when block accepts two parameters instead of one, it iterates through each error key, value pair in the error messages hash. Yields the attribute and the error for that attribute. If the attribute has more than one error message, yields once for each error message.</p>

<pre><code>person.errors.add(:name, :blank, message: &quot;can&#39;t be blank&quot;)
person.errors.each do |attribute, message|
  # Will yield :name and &quot;can&#39;t be blank&quot;
end

person.errors.add(:name, :not_specified, message: &quot;must be specified&quot;)
person.errors.each do |attribute, message|
  # Will yield :name and &quot;can&#39;t be blank&quot;
  # then yield :name and &quot;must be specified&quot;
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-each_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 235</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1</span>
        <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-identifier">&lt;&lt;~MSG</span>)
<span class="ruby-value">          Enumerating ActiveModel::Errors as a hash has been deprecated.
          In Rails 6.1, `errors` is an array of Error objects,
          therefore it should be accessed by a block with a single block
          parameter like this:

          person.errors.each do |error|
            attribute = error.attribute
            message = error.message
          end

          You are passing a block expecting two parameters,
          so the old hash behavior is simulated. As this is deprecated,
          this will result in an ArgumentError in Rails 7.0.
</span><span class="ruby-identifier">        MSG</span>
        <span class="ruby-ivar">@errors</span>.
          <span class="ruby-identifier">sort</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">attribute</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">attribute</span> }.
          <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span> }
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-full_message">
            
              full_message(attribute, message)
            
          </h3>

          
            <div class="description">
              <p>Returns a full message for a given attribute.</p>

<pre><code>person.errors.full_message(:name, &#39;is invalid&#39;) # =&gt; &quot;Name is invalid&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-full_message_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 513</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">full_message</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">message</span>)
  <span class="ruby-constant">Error</span>.<span class="ruby-identifier">full_message</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">message</span>, <span class="ruby-ivar">@base</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-full_messages">
            
              full_messages()
            
          </h3>

          
            <div class="description">
              <p>Returns all the full error messages in an array.</p>

<pre><code>class Person
  validates_presence_of :name, :address, :email
  validates_length_of :name, in: 5..30
end

person = Person.create(address: &#39;123 First St.&#39;)
person.errors.full_messages
# =&gt; [&quot;Name is too short (minimum is 5 characters)&quot;, &quot;Name can&#39;t be blank&quot;, &quot;Email can&#39;t be blank&quot;]
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Errors.html#method-i-to_a">to_a</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-full_messages_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 477</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">full_messages</span>
  <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:full_message</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-full_messages_for">
            
              full_messages_for(attribute)
            
          </h3>

          
            <div class="description">
              <p>Returns all the full error messages for a given attribute in an array.</p>

<pre><code>class Person
  validates_presence_of :name, :email
  validates_length_of :name, in: 5..30
end

person = Person.create()
person.errors.full_messages_for(:name)
# =&gt; [&quot;Name is too short (minimum is 5 characters)&quot;, &quot;Name can&#39;t be blank&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-full_messages_for_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 492</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">full_messages_for</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">where</span>(<span class="ruby-identifier">attribute</span>).<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:full_message</span>).<span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-generate_message">
            
              generate_message(attribute, type = :invalid, options = {})
            
          </h3>

          
            <div class="description">
              <p>Translates an error message in its default scope (<code>activemodel.errors.messages</code>).</p>

<p><a href="Error.html"><code>Error</code></a> messages are first looked up in <code>activemodel.errors.models.MODEL.attributes.ATTRIBUTE.MESSAGE</code>, if it&#39;s not there, it&#39;s looked up in <code>activemodel.errors.models.MODEL.MESSAGE</code> and if that is not there also, it returns the translation of the default message (e.g. <code>activemodel.errors.messages.MESSAGE</code>). The translated model name, translated attribute name and the value are available for interpolation.</p>

<p>When using inheritance in your models, it will check all the inherited models too, but only if the model itself hasn&#39;t been found. Say you have <code>class Admin &lt; User; end</code> and you wanted the translation for the <code>:blank</code> error message for the <code>title</code> attribute, it looks for these translations:</p>
<ul><li>
<p><code>activemodel.errors.models.admin.attributes.title.blank</code></p>
</li><li>
<p><code>activemodel.errors.models.admin.blank</code></p>
</li><li>
<p><code>activemodel.errors.models.user.attributes.title.blank</code></p>
</li><li>
<p><code>activemodel.errors.models.user.blank</code></p>
</li><li>
<p>any default you provided through the <code>options</code> hash (in the <code>activemodel.errors</code> scope)</p>
</li><li>
<p><code>activemodel.errors.messages.blank</code></p>
</li><li>
<p><code>errors.attributes.title.blank</code></p>
</li><li>
<p><code>errors.messages.blank</code></p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-generate_message_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 541</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">generate_message</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span> = <span class="ruby-value">:invalid</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-constant">Error</span>.<span class="ruby-identifier">generate_message</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-ivar">@base</span>, <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-group_by_attribute">
            
              group_by_attribute()
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="../Hash.html"><code>Hash</code></a> of attributes with an array of their <a href="Error.html"><code>Error</code></a> objects.</p>

<pre><code>person.errors.group_by_attribute
# =&gt; {:name=&gt;[&lt;#ActiveModel::Error&gt;, &lt;#ActiveModel::Error&gt;]}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-group_by_attribute_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 359</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">group_by_attribute</span>
  <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">group_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:attribute</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-has_key-3F">
            
              has_key?(attribute)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Errors.html#method-i-include-3F">include?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 id="method-i-import">
            
              import(error, override_options = {})
            
          </h3>

          
            <div class="description">
              <p>Imports one error Imported errors are wrapped as a <a href="NestedError.html"><code>NestedError</code></a>, providing access to original error object. If attribute or type needs to be overridden, use <code>override_options</code>.</p>

<p>override_options - <a href="../Hash.html"><code>Hash</code></a> @option override_options [Symbol] :attribute Override the attribute the error belongs to @option override_options [Symbol] :type Override type of the error.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-import_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">import</span>(<span class="ruby-identifier">error</span>, <span class="ruby-identifier">override_options</span> = {})
  [<span class="ruby-value">:attribute</span>, <span class="ruby-value">:type</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">override_options</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">key</span>)
      <span class="ruby-identifier">override_options</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">override_options</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">to_sym</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">append</span>(<span class="ruby-constant">NestedError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base</span>, <span class="ruby-identifier">error</span>, <span class="ruby-identifier">override_options</span>))
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-include-3F">
            
              include?(attribute)
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the error messages include an error for the given key <code>attribute</code>, <code>false</code> otherwise.</p>

<pre><code>person.errors.messages        # =&gt; {:name=&gt;[&quot;cannot be nil&quot;]}
person.errors.include?(:name) # =&gt; true
person.errors.include?(:age)  # =&gt; false
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Errors.html#method-i-has_key-3F">has_key?</a>, <a href="Errors.html#method-i-key-3F">key?</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-include-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 180</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">include?</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">error</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">to_sym</span>)
  }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-key-3F">
            
              key?(attribute)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Errors.html#method-i-include-3F">include?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 id="method-i-keys">
            
              keys()
            
          </h3>

          
            <div class="description">
              <p>Returns all message keys.</p>

<pre><code>person.errors.messages # =&gt; {:name=&gt;[&quot;cannot be nil&quot;, &quot;must be specified&quot;]}
person.errors.keys     # =&gt; [:name]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-keys_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 273</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">keys</span>
  <span class="ruby-identifier">deprecation_removal_warning</span>(<span class="ruby-value">:keys</span>, <span class="ruby-string">&quot;errors.attribute_names&quot;</span>)
  <span class="ruby-identifier">keys</span> = <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:attribute</span>)
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">uniq!</span>
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-merge-21">
            
              merge!(other)
            
          </h3>

          
            <div class="description">
              <p>Merges the errors from <code>other</code>, each <code>Error</code> wrapped as <code>NestedError</code>.</p>

<p>other - The <a href="Errors.html"><code>ActiveModel::Errors</code></a> instance.</p>

<p>Examples</p>

<pre><code>person.errors.merge!(other)
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-merge-21_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 135</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">merge!</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-identifier">other</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">import</span>(<span class="ruby-identifier">error</span>)
  }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-messages">
            
              messages()
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="../Hash.html"><code>Hash</code></a> of attributes with an array of their error messages.</p>

<p>Updating this hash would still update errors state for backward compatibility, but this behavior is deprecated.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-messages_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 340</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">messages</span>
  <span class="ruby-constant">DeprecationHandlingMessageHash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-messages_for">
            
              messages_for(attribute)
            
          </h3>

          
            <div class="description">
              <p>Returns all the error messages for a given attribute in an array.</p>

<pre><code>class Person
  validates_presence_of :name, :email
  validates_length_of :name, in: 5..30
end

person = Person.create()
person.errors.messages_for(:name)
# =&gt; [&quot;is too short (minimum is 5 characters)&quot;, &quot;can&#39;t be blank&quot;]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-messages_for_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 506</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">messages_for</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">where</span>(<span class="ruby-identifier">attribute</span>).<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:message</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-of_kind-3F">
            
              of_kind?(attribute, type = :invalid)
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if an error on the attribute with the given type is present, or <code>false</code> otherwise. <code>type</code> is treated the same as for <code>add</code>.</p>

<pre><code>person.errors.add :age
person.errors.add :name, :too_long, { count: 25 }
person.errors.of_kind? :age                                            # =&gt; true
person.errors.of_kind? :name                                           # =&gt; false
person.errors.of_kind? :name, :too_long                                # =&gt; true
person.errors.of_kind? :name, &quot;is too long (maximum is 25 characters)&quot; # =&gt; true
person.errors.of_kind? :name, :not_too_long                            # =&gt; false
person.errors.of_kind? :name, &quot;is too long&quot;                            # =&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-of_kind-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">of_kind?</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span> = <span class="ruby-value">:invalid</span>)
  <span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span> = <span class="ruby-identifier">normalize_arguments</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>
    <span class="ruby-operator">!</span><span class="ruby-identifier">where</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>).<span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">messages_for</span>(<span class="ruby-identifier">attribute</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">type</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-slice-21">
            
              slice!(*keys)
            
          </h3>

          
            <div class="description">
              <p>Removes all errors except the given keys. Returns a hash containing the removed errors.</p>

<pre><code>person.errors.keys                  # =&gt; [:name, :age, :gender, :city]
person.errors.slice!(:age, :gender) # =&gt; { :name=&gt;[&quot;cannot be nil&quot;], :city=&gt;[&quot;cannot be nil&quot;] }
person.errors.keys                  # =&gt; [:age, :gender]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-slice-21_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">slice!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">deprecation_removal_warning</span>(<span class="ruby-value">:slice!</span>)

  <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_sym</span>)

  <span class="ruby-identifier">results</span> = <span class="ruby-identifier">messages</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)

  <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">keep_if</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">error</span>.<span class="ruby-identifier">attribute</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">results</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-to_a">
            
              to_a()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Errors.html#method-i-full_messages">full_messages</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 id="method-i-to_h">
            
              to_h()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-to_h_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 326</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_h</span>
      <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-identifier">&lt;&lt;~EOM</span>)
<span class="ruby-value">        ActiveModel::Errors#to_h is deprecated and will be removed in Rails 7.0.
        Please use `ActiveModel::Errors.to_hash` instead. The values in the hash
        returned by `ActiveModel::Errors.to_hash` is an array of error messages.
</span><span class="ruby-identifier">      EOM</span>

      <span class="ruby-identifier">to_hash</span>.<span class="ruby-identifier">transform_values</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">last</span> }
    <span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-to_hash">
            
              to_hash(full_messages = false)
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="../Hash.html"><code>Hash</code></a> of attributes with their error messages. If <code>full_messages</code> is <code>true</code>, it will contain full messages (see <code>full_message</code>).</p>

<pre><code>person.errors.to_hash       # =&gt; {:name=&gt;[&quot;cannot be nil&quot;]}
person.errors.to_hash(true) # =&gt; {:name=&gt;[&quot;name cannot be nil&quot;]}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-to_hash_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 319</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_hash</span>(<span class="ruby-identifier">full_messages</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">message_method</span> = <span class="ruby-identifier">full_messages</span> <span class="ruby-operator">?</span> <span class="ruby-value">:full_message</span> <span class="ruby-operator">:</span> <span class="ruby-value">:message</span>
  <span class="ruby-identifier">group_by_attribute</span>.<span class="ruby-identifier">transform_values</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">errors</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">message_method</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-to_xml">
            
              to_xml(options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns an xml formatted representation of the <a href="Errors.html"><code>Errors</code></a> hash.</p>

<pre><code>person.errors.add(:name, :blank, message: &quot;can&#39;t be blank&quot;)
person.errors.add(:name, :not_specified, message: &quot;must be specified&quot;)
person.errors.to_xml
# =&gt;
#  &lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;
#  &lt;errors&gt;
#    &lt;error&gt;name can&#39;t be blank&lt;/error&gt;
#    &lt;error&gt;name must be specified&lt;/error&gt;
#  &lt;/errors&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-to_xml_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 299</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_xml</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">deprecation_removal_warning</span>(<span class="ruby-value">:to_xml</span>)
  <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_xml</span>({ <span class="ruby-value">root:</span> <span class="ruby-string">&quot;errors&quot;</span>, <span class="ruby-value">skip_types:</span> <span class="ruby-keyword">true</span> }.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>))
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-values">
            
              values()
            
          </h3>

          
            <div class="description">
              <p>Returns all message values.</p>

<pre><code>person.errors.messages # =&gt; {:name=&gt;[&quot;cannot be nil&quot;, &quot;must be specified&quot;]}
person.errors.values   # =&gt; [[&quot;cannot be nil&quot;, &quot;must be specified&quot;]]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-values_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 264</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">values</span>
  <span class="ruby-identifier">deprecation_removal_warning</span>(<span class="ruby-value">:values</span>, <span class="ruby-string">&quot;errors.map { |error| error.message }&quot;</span>)
  <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:message</span>).<span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-where">
            
              where(attribute, type = nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Search for errors matching <code>attribute</code>, <code>type</code> or <code>options</code>.</p>

<p>Only supplied params will be matched.</p>

<pre><code>person.errors.where(:name) # =&gt; all name errors.
person.errors.where(:name, :too_short) # =&gt; all name errors being too short
person.errors.where(:name, :too_short, minimum: 2) # =&gt; all name errors being too short and minimum is 2
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-where_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activemodel/lib/active_model/errors.rb, line 167</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">where</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">options</span> = <span class="ruby-identifier">normalize_arguments</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-ivar">@errors</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">error</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
</div>
