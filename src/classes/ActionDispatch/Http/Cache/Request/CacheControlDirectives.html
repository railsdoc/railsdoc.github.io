---
title: ActionDispatch::Http::Cache::Request::CacheControlDirectives
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 8.1.0.rc1</span><br />
        
        <div class="type">Class</div>
        <h1>
            ActionDispatch::Http::Cache::Request::CacheControlDirectives
            
                <span class="parent">&lt;
                    
                    <a href="../../../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../../../files/actionpack/lib/action_dispatch/http/cache_rb.html">actionpack/lib/action_dispatch/http/cache.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Represents the HTTP Cache-Control header for requests, providing methods to access various cache control directives Reference: <a href="https://www.rfc-editor.org/rfc/rfc9111.html#name-request-directives">www.rfc-editor.org/rfc/rfc9111.html#name-request-directives</a></p>

    </div>
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-max_stale-3F">max_stale?</a>
        </li>
      
        <li>
          <a href="#method-i-max_stale_unlimited-3F">max_stale_unlimited?</a>
        </li>
      
        <li>
          <a href="#method-c-new">new</a>
        </li>
      
        <li>
          <a href="#method-i-no_cache-3F">no_cache?</a>
        </li>
      
        <li>
          <a href="#method-i-no_store-3F">no_store?</a>
        </li>
      
        <li>
          <a href="#method-i-no_transform-3F">no_transform?</a>
        </li>
      
        <li>
          <a href="#method-i-only_if_cached-3F">only_if_cached?</a>
        </li>
      
    </ul>
  

  

  
    

    

    

    
      <!-- Section attributes -->
      <h2 id="attributes">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>max_age</td>
            <td class='attr-desc'><p>Returns the value of the max-age directive. This directive indicates that the client is willing to accept a response whose age is no greater than the specified number of seconds.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>max_stale</td>
            <td class='attr-desc'><p>Returns the value of the max-stale directive. When max-stale is present with a value, returns that integer value. When max-stale is present without a value, returns true (unlimited staleness). When max-stale is not present, returns nil.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>min_fresh</td>
            <td class='attr-desc'><p>Returns the value of the min-fresh directive. This directive indicates that the client is willing to accept a response whose freshness lifetime is no less than its current age plus the specified time in seconds.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>stale_if_error</td>
            <td class='attr-desc'><p>Returns the value of the stale-if-error directive. This directive indicates that the client is willing to accept a stale response if the check for a fresh one fails with an error for the specified number of seconds.</p></td>
          </tr>
        
      </table>
    

    <!-- Methods -->
    
      <h2 id="class-public-methods">Class Public methods</h2>
      
        <div class="method">
          <h3 id="method-c-new"><code><b>new</b>(cache_control_header)</code></h3>

          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/cache.rb, line 75
def initialize(cache_control_header)
  @only_if_cached = false
  @no_cache = false
  @no_store = false
  @no_transform = false
  @max_age = nil
  @max_stale = nil
  @min_fresh = nil
  @stale_if_error = false
  parse_directives(cache_control_header)
end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/actionpack/lib/action_dispatch/http/cache.rb#L75" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-max_stale-3F"><code><b>max_stale?</b>()</code></h3>

          <div class="description">
<p>Returns true if max-stale directive is present (with or without a value)</p>
</div>

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/cache.rb, line 127
def max_stale?
  !@max_stale.nil?
end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/actionpack/lib/action_dispatch/http/cache.rb#L127" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-max_stale_unlimited-3F"><code><b>max_stale_unlimited?</b>()</code></h3>

          <div class="description">
<p>Returns true if max-stale directive is present without a value (unlimited staleness)</p>
</div>

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/cache.rb, line 132
def max_stale_unlimited?
  @max_stale == true
end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/actionpack/lib/action_dispatch/http/cache.rb#L132" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-no_cache-3F"><code><b>no_cache?</b>()</code></h3>

          <div class="description">
<p>Returns true if the no-cache directive is present. This directive indicates that a cache must not use the response to satisfy subsequent requests without successful validation on the origin server.</p>
</div>

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/cache.rb, line 98
def no_cache?
  @no_cache
end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/actionpack/lib/action_dispatch/http/cache.rb#L98" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-no_store-3F"><code><b>no_store?</b>()</code></h3>

          <div class="description">
<p>Returns true if the no-store directive is present. This directive indicates that a cache must not store any part of the request or response.</p>
</div>

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/cache.rb, line 105
def no_store?
  @no_store
end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/actionpack/lib/action_dispatch/http/cache.rb#L105" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-no_transform-3F"><code><b>no_transform?</b>()</code></h3>

          <div class="description">
<p>Returns true if the no-transform directive is present. This directive indicates that a cache or proxy must not transform the payload.</p>
</div>

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/cache.rb, line 111
def no_transform?
  @no_transform
end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/actionpack/lib/action_dispatch/http/cache.rb#L111" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-only_if_cached-3F"><code><b>only_if_cached?</b>()</code></h3>

          <div class="description">
<p>Returns true if the only-if-cached directive is present. This directive indicates that the client only wishes to obtain a stored response. If a valid stored response is not available, the server should respond with a 504 (Gateway Timeout) status.</p>
</div>

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_dispatch/http/cache.rb, line 91
def only_if_cached?
  @only_if_cached
end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/actionpack/lib/action_dispatch/http/cache.rb#L91" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
  
</div>

    </div>
</div>
