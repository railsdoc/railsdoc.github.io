---
title: ActionView::Helpers::UrlHelper
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 7.0.3</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActionView::Helpers::UrlHelper
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/actionview/lib/action_view/helpers/url_helper_rb.html">actionview/lib/action_view/helpers/url_helper.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Provides a set of methods for making links and getting URLs that depend on the routing subsystem (see <a href="../../ActionDispatch/Routing.html"><code>ActionDispatch::Routing</code></a>). This allows you to use the same format for links in views and controllers.</p>

    </div>
  

  

  
  


  
    <h2 id="namespace">Namespace</h2>

    
      <h3 id="module">Module</h3>
      <ul>
      
        <li><a href="UrlHelper/ClassMethods.html">ActionView::Helpers::UrlHelper::ClassMethods</a></li>
      
      </ul>
    

    
  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-_current_page-3F">_current_page?</a>
        </li>
      
        <li>
          <a href="#method-i-button_to">button_to</a>
        </li>
      
        <li>
          <a href="#method-i-current_page-3F">current_page?</a>
        </li>
      
        <li>
          <a href="#method-i-link_to">link_to</a>
        </li>
      
        <li>
          <a href="#method-i-link_to_if">link_to_if</a>
        </li>
      
        <li>
          <a href="#method-i-link_to_unless">link_to_unless</a>
        </li>
      
        <li>
          <a href="#method-i-link_to_unless_current">link_to_unless_current</a>
        </li>
      
        <li>
          <a href="#method-i-mail_to">mail_to</a>
        </li>
      
        <li>
          <a href="#method-i-phone_to">phone_to</a>
        </li>
      
        <li>
          <a href="#method-i-sms_to">sms_to</a>
        </li>
      
    </ul>
  

  
    <!-- Includes -->
    <h2 id="included-modules">Included Modules</h2>
    <ul>
      
        <li>
          
            <a href="TagHelper.html">
              ActionView::Helpers::TagHelper
            </a>
          
        </li>
      
    </ul>
  

  
    

    

    
      <!-- Section constants -->
      <h2 id="constants">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">BUTTON_TAG_METHOD_VERBS</td>
            <td>=</td>
            <td class="attr-value">%w{patch put delete}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>This helper may be included in any class that includes the URL helpers of a routes (routes.url_helpers). Some methods provided here will only work in the context of a request (<a href="UrlHelper.html#method-i-link_to_unless_current"><code>link_to_unless_current</code></a>, for instance), which must be provided as a method called request on the context.</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">STRINGIFIED_COMMON_METHODS</td>
            <td>=</td>
            <td class="attr-value">{
get:    &quot;get&quot;,
delete: &quot;delete&quot;,
patch:  &quot;patch&quot;,
post:   &quot;post&quot;,
put:    &quot;put&quot;,
}.freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    

    

    <!-- Methods -->
    
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-_current_page-3F">
            
              _current_page?(options = nil, check_parameters: false, **options_as_kwargs)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="UrlHelper.html#method-i-current_page-3F">current_page?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 id="method-i-button_to">
            
              button_to(name = nil, options = nil, html_options = nil, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Generates a form containing a single button that submits to the URL created by the set of <code>options</code>. This is the safest method to ensure links that cause changes to your data are not triggered by search bots or accelerators. If the HTML button does not work with your layout, you can also consider using the <code>link_to</code> method with the <code>:method</code> modifier as described in the <code>link_to</code> documentation.</p>

<p>You can control the form and button behavior with <code>html_options</code>. Most values in <code>html_options</code> are passed through to the button element. For example, passing a <code>:class</code> option within <code>html_options</code> will set the class attribute of the button element.</p>

<p>The class attribute of the form element can be set by passing a <code>:form_class</code> option within <code>html_options</code>. It defaults to <code>&quot;button_to&quot;</code> to allow styling of the form and its children.</p>

<p>The form submits a POST request by default. You can specify a different HTTP verb via the <code>:method</code> option within <code>html_options</code>.</p>

<h4 id="method-i-button_to-label-Options">Options</h4>

<p>The <code>options</code> hash accepts the same options as <code>url_for</code>. To generate a <code>&lt;form&gt;</code> element without an <code>[action]</code> attribute, pass <code>false</code>:</p>

<pre><code>&lt;%= button_to &quot;New&quot;, false %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; class=&quot;button_to&quot;&gt;
#      &lt;button type=&quot;submit&quot;&gt;New&lt;/button&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;/&gt;
#    &lt;/form&gt;&quot;
</code></pre>

<p>Most values in <code>html_options</code> are passed through to the button element, but there are a few special options:</p>
<ul><li>
<p><code>:method</code> - Symbol of HTTP verb. Supported verbs are <code>:post</code>, <code>:get</code>, <code>:delete</code>, <code>:patch</code>, and <code>:put</code>. By default it will be <code>:post</code>.</p>
</li><li>
<p><code>:disabled</code> - If set to true, it will generate a disabled button.</p>
</li><li>
<p><code>:data</code> - This option can be used to add custom data attributes.</p>
</li><li>
<p><code>:form</code> - This hash will be form attributes</p>
</li><li>
<p><code>:form_class</code> - This controls the class of the form within which the submit button will be placed</p>
</li><li>
<p><code>:params</code> - Hash of parameters to be rendered as hidden fields within the form.</p>
</li></ul>

<h4 id="method-i-button_to-label-Examples">Examples</h4>

<pre><code>&lt;%= button_to &quot;New&quot;, action: &quot;new&quot; %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/controller/new&quot; class=&quot;button_to&quot;&gt;
#      &lt;button type=&quot;submit&quot;&gt;New&lt;/button&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot; autocomplete=&quot;off&quot;/&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to &quot;New&quot;, new_article_path %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/articles/new&quot; class=&quot;button_to&quot;&gt;
#      &lt;button type=&quot;submit&quot;&gt;New&lt;/button&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot; autocomplete=&quot;off&quot;/&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to &quot;New&quot;, new_article_path, params: { time: Time.now  } %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/articles/new&quot; class=&quot;button_to&quot;&gt;
#      &lt;button type=&quot;submit&quot;&gt;New&lt;/button&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;/&gt;
#      &lt;input type=&quot;hidden&quot; name=&quot;time&quot; value=&quot;2021-04-08 14:06:09 -0500&quot; autocomplete=&quot;off&quot;&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to [:make_happy, @user] do %&gt;
  Make happy &lt;strong&gt;&lt;%= @user.name %&gt;&lt;/strong&gt;
&lt;% end %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/users/1/make_happy&quot; class=&quot;button_to&quot;&gt;
#      &lt;button type=&quot;submit&quot;&gt;
#        Make happy &lt;strong&gt;&lt;%= @user.name %&gt;&lt;/strong&gt;
#      &lt;/button&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;  autocomplete=&quot;off&quot;/&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to &quot;New&quot;, { action: &quot;new&quot; }, form_class: &quot;new-thing&quot; %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/controller/new&quot; class=&quot;new-thing&quot;&gt;
#      &lt;button type=&quot;submit&quot;&gt;New&lt;/button&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;  autocomplete=&quot;off&quot;/&gt;
#    &lt;/form&gt;&quot;

&lt;%= button_to &quot;Create&quot;, { action: &quot;create&quot; }, form: { &quot;data-type&quot; =&gt; &quot;json&quot; } %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/images/create&quot; class=&quot;button_to&quot; data-type=&quot;json&quot;&gt;
#      &lt;button type=&quot;submit&quot;&gt;Create&lt;/button&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;  autocomplete=&quot;off&quot;/&gt;
#    &lt;/form&gt;&quot;
</code></pre>

<h4 id="method-i-button_to-label-Deprecated-3A+Rails+UJS+Attributes">Deprecated: Rails UJS Attributes</h4>

<p>Prior to Rails 7, Rails shipped with a JavaScript library called <code>@rails/ujs</code> on by default. Following Rails 7, this library is no longer on by default. This library integrated with the following options:</p>
<ul><li>
<p><code>:remote</code> -  If set to true, will allow <code>@rails/ujs</code> to control the submit behavior. By default this behavior is an Ajax submit.</p>
</li></ul>

<p><code>@rails/ujs</code> also integrated with the following <code>:data</code> options:</p>
<ul><li>
<p><code>confirm: &quot;question?&quot;</code> - This will allow <code>@rails/ujs</code> to prompt with the question specified (in this case, the resulting text would be <code>question?</code>). If the user accepts, the button is processed normally, otherwise no action is taken.</p>
</li><li>
<p><code>:disable_with</code> - Value of this parameter will be used as the value for a disabled version of the submit button when the form is submitted.</p>
</li></ul>

<h5 id="method-i-button_to-label-Rails+UJS+Examples">Rails UJS Examples</h5>

<pre><code>&lt;%= button_to &quot;Create&quot;, { action: &quot;create&quot; }, remote: true, form: { &quot;data-type&quot; =&gt; &quot;json&quot; } %&gt;
# =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/images/create&quot; class=&quot;button_to&quot; data-remote=&quot;true&quot; data-type=&quot;json&quot;&gt;
#      &lt;button type=&quot;submit&quot;&gt;Create&lt;/button&gt;
#      &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;10f2163b45388899ad4d5ae948988266befcb6c3d1b2451cf657a0c293d605a6&quot;  autocomplete=&quot;off&quot;/&gt;
#    &lt;/form&gt;&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-button_to_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionview/lib/action_view/helpers/url_helper.rb, line 331</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">button_to</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">html_options</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">html_options</span>, <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>, <span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">html_options</span> <span class="ruby-operator">||=</span> {}
  <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>

  <span class="ruby-identifier">url</span> =
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">options</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">FalseClass</span> <span class="ruby-keyword">then</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">else</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">remote</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;remote&quot;</span>)
  <span class="ruby-identifier">params</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;params&quot;</span>)

  <span class="ruby-identifier">authenticity_token</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;authenticity_token&quot;</span>)

  <span class="ruby-identifier">method</span>     = (<span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;method&quot;</span>).<span class="ruby-identifier">presence</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">method_for_options</span>(<span class="ruby-identifier">options</span>)).<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">method_tag</span> = <span class="ruby-constant">BUTTON_TAG_METHOD_VERBS</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">method_tag</span>(<span class="ruby-identifier">method</span>) <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>.<span class="ruby-identifier">html_safe</span>

  <span class="ruby-identifier">form_method</span>  = <span class="ruby-identifier">method</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;get&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;get&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;post&quot;</span>
  <span class="ruby-identifier">form_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;form&quot;</span>) <span class="ruby-operator">||</span> {}
  <span class="ruby-identifier">form_options</span>[<span class="ruby-value">:class</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;form_class&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-string">&quot;button_to&quot;</span>
  <span class="ruby-identifier">form_options</span>[<span class="ruby-value">:method</span>] = <span class="ruby-identifier">form_method</span>
  <span class="ruby-identifier">form_options</span>[<span class="ruby-value">:action</span>] = <span class="ruby-identifier">url</span>
  <span class="ruby-identifier">form_options</span>[<span class="ruby-value">:&#39;data-remote&#39;</span>] = <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">remote</span>

  <span class="ruby-identifier">request_token_tag</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">form_method</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;post&quot;</span>
    <span class="ruby-identifier">request_method</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;post&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">method</span>
    <span class="ruby-identifier">token_tag</span>(<span class="ruby-identifier">authenticity_token</span>, <span class="ruby-value">form_options:</span> { <span class="ruby-value">action:</span> <span class="ruby-identifier">url</span>, <span class="ruby-value">method:</span> <span class="ruby-identifier">request_method</span> })
  <span class="ruby-keyword">else</span>
    <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">convert_options_to_data_attributes</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>)
  <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;type&quot;</span>] = <span class="ruby-string">&quot;submit&quot;</span>

  <span class="ruby-identifier">button</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">content_tag</span>(<span class="ruby-string">&quot;button&quot;</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">button_to_generates_button_tag</span>
    <span class="ruby-identifier">content_tag</span>(<span class="ruby-string">&quot;button&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">url</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;value&quot;</span>] = <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">url</span>
    <span class="ruby-identifier">tag</span>(<span class="ruby-string">&quot;input&quot;</span>, <span class="ruby-identifier">html_options</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">inner_tags</span> = <span class="ruby-identifier">method_tag</span>.<span class="ruby-identifier">safe_concat</span>(<span class="ruby-identifier">button</span>).<span class="ruby-identifier">safe_concat</span>(<span class="ruby-identifier">request_token_tag</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>
    <span class="ruby-identifier">to_form_params</span>(<span class="ruby-identifier">params</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">inner_tags</span>.<span class="ruby-identifier">safe_concat</span> <span class="ruby-identifier">tag</span>(<span class="ruby-value">:input</span>, <span class="ruby-value">type:</span> <span class="ruby-string">&quot;hidden&quot;</span>, <span class="ruby-value">name:</span> <span class="ruby-identifier">param</span>[<span class="ruby-value">:name</span>], <span class="ruby-value">value:</span> <span class="ruby-identifier">param</span>[<span class="ruby-value">:value</span>],
                                 <span class="ruby-value">autocomplete:</span> <span class="ruby-string">&quot;off&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">content_tag</span>(<span class="ruby-string">&quot;form&quot;</span>, <span class="ruby-identifier">inner_tags</span>, <span class="ruby-identifier">form_options</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-current_page-3F">
            
              current_page?(options = nil, check_parameters: false, **options_as_kwargs)
            
          </h3>

          
            <div class="description">
              <p>True if the current request URI was generated by the given <code>options</code>.</p>

<h4 id="method-i-current_page-3F-label-Examples">Examples</h4>

<p>Let&#39;s say we&#39;re in the <code>http://www.example.com/shop/checkout?order=desc&amp;page=1</code> action.</p>

<pre><code>current_page?(action: &#39;process&#39;)
# =&gt; false

current_page?(action: &#39;checkout&#39;)
# =&gt; true

current_page?(controller: &#39;library&#39;, action: &#39;checkout&#39;)
# =&gt; false

current_page?(controller: &#39;shop&#39;, action: &#39;checkout&#39;)
# =&gt; true

current_page?(controller: &#39;shop&#39;, action: &#39;checkout&#39;, order: &#39;asc&#39;)
# =&gt; false

current_page?(controller: &#39;shop&#39;, action: &#39;checkout&#39;, order: &#39;desc&#39;, page: &#39;1&#39;)
# =&gt; true

current_page?(controller: &#39;shop&#39;, action: &#39;checkout&#39;, order: &#39;desc&#39;, page: &#39;2&#39;)
# =&gt; false

current_page?(&#39;http://www.example.com/shop/checkout&#39;)
# =&gt; true

current_page?(&#39;http://www.example.com/shop/checkout&#39;, check_parameters: true)
# =&gt; false

current_page?(&#39;/shop/checkout&#39;)
# =&gt; true

current_page?(&#39;http://www.example.com/shop/checkout?order=desc&amp;page=1&#39;)
# =&gt; true
</code></pre>

<p>Let&#39;s say we&#39;re in the <code>http://www.example.com/products</code> action with method POST in case of invalid product.</p>

<pre><code>current_page?(controller: &#39;product&#39;, action: &#39;index&#39;)
# =&gt; false
</code></pre>

<p>We can also pass in the symbol arguments instead of strings.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="UrlHelper.html#method-i-_current_page-3F">_current_page?</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-current_page-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionview/lib/action_view/helpers/url_helper.rb, line 582</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">current_page?</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-value">check_parameters:</span> <span class="ruby-keyword">false</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options_as_kwargs</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">request</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;You cannot use helpers that need to determine the current &quot;</span> \
          <span class="ruby-string">&quot;page unless your view context provides a Request object &quot;</span> \
          <span class="ruby-string">&quot;in a #request method&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">get?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">head?</span>

  <span class="ruby-identifier">options</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">options_as_kwargs</span>
  <span class="ruby-identifier">check_parameters</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:check_parameters</span>)
  <span class="ruby-identifier">url_string</span> = <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">unescape</span>(<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)).<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span>)

  <span class="ruby-comment"># We ignore any extra parameters in the request_uri if the</span>
  <span class="ruby-comment"># submitted URL doesn&#39;t have any either. This lets the function</span>
  <span class="ruby-comment"># work with things like ?order=asc</span>
  <span class="ruby-comment"># the behaviour can be disabled with check_parameters: true</span>
  <span class="ruby-identifier">request_uri</span> = <span class="ruby-identifier">url_string</span>.<span class="ruby-identifier">index</span>(<span class="ruby-string">&quot;?&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">check_parameters</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">fullpath</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-identifier">request_uri</span> = <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">unescape</span>(<span class="ruby-identifier">request_uri</span>).<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-regexp">%r{^\w+://}</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-identifier">url_string</span>)
    <span class="ruby-identifier">request_uri</span> = <span class="ruby-node">+&quot;#{request.protocol}#{request.host_with_port}#{request_uri}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">remove_trailing_slash!</span>(<span class="ruby-identifier">url_string</span>)
  <span class="ruby-identifier">remove_trailing_slash!</span>(<span class="ruby-identifier">request_uri</span>)

  <span class="ruby-identifier">url_string</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">request_uri</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-link_to">
            
              link_to(name = nil, options = nil, html_options = nil, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates an anchor element of the given <code>name</code> using a URL created by the set of <code>options</code>. See the valid options in the documentation for <code>url_for</code>. It&#39;s also possible to pass a String instead of an options hash, which generates an anchor element that uses the value of the String as the href for the link. Using a <code>:back</code> Symbol instead of an options hash will generate a link to the referrer (a JavaScript back link will be used in place of a referrer if none exists). If <code>nil</code> is passed as the name the value of the link itself will become the name.</p>

<h4 id="method-i-link_to-label-Signatures">Signatures</h4>

<pre><code>link_to(body, url, html_options = {})
  # url is a String; you can use URL helpers like
  # posts_path

link_to(body, url_options = {}, html_options = {})
  # url_options, except :method, is passed to url_for

link_to(options = {}, html_options = {}) do
  # name
end

link_to(url, html_options = {}) do
  # name
end

link_to(active_record_model)
</code></pre>

<h4 id="method-i-link_to-label-Options">Options</h4>
<ul><li>
<p><code>:data</code> - This option can be used to add custom data attributes.</p>
</li></ul>

<h4 id="method-i-link_to-label-Examples">Examples</h4>

<p>Because it relies on <code>url_for</code>, <code>link_to</code> supports both older-style controller/action/id arguments and newer RESTful routes. Current Rails style favors RESTful routes whenever possible, so base your application on resources and use</p>

<pre><code>link_to &quot;Profile&quot;, profile_path(@profile)
# =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;
</code></pre>

<p>or the even pithier</p>

<pre><code>link_to &quot;Profile&quot;, @profile
# =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;
</code></pre>

<p>in place of the older more verbose, non-resource-oriented</p>

<pre><code>link_to &quot;Profile&quot;, controller: &quot;profiles&quot;, action: &quot;show&quot;, id: @profile
# =&gt; &lt;a href=&quot;/profiles/show/1&quot;&gt;Profile&lt;/a&gt;
</code></pre>

<p>Similarly,</p>

<pre><code>link_to &quot;Profiles&quot;, profiles_path
# =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;
</code></pre>

<p>is better than</p>

<pre><code>link_to &quot;Profiles&quot;, controller: &quot;profiles&quot;
# =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;
</code></pre>

<p>When name is <code>nil</code> the href is presented instead</p>

<pre><code>link_to nil, &quot;http://example.com&quot;
# =&gt; &lt;a href=&quot;http://www.example.com&quot;&gt;http://www.example.com&lt;/a&gt;
</code></pre>

<p>More concise yet, when <code>name</code> is an Active Record model that defines a <code>to_s</code> method returning a default value or a model instance attribute</p>

<pre><code>link_to @profile
# =&gt; &lt;a href=&quot;http://www.example.com/profiles/1&quot;&gt;Eileen&lt;/a&gt;
</code></pre>

<p>You can use a block as well if your link target is hard to fit into the name parameter. <a href="../../ERB.html"><code>ERB</code></a> example:</p>

<pre><code>&lt;%= link_to(@profile) do %&gt;
  &lt;strong&gt;&lt;%= @profile.name %&gt;&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
&lt;% end %&gt;
# =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;
       &lt;strong&gt;David&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
     &lt;/a&gt;
</code></pre>

<p>Classes and ids for CSS are easy to produce:</p>

<pre><code>link_to &quot;Articles&quot;, articles_path, id: &quot;news&quot;, class: &quot;article&quot;
# =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;
</code></pre>

<p>Be careful when using the older argument style, as an extra literal hash is needed:</p>

<pre><code>link_to &quot;Articles&quot;, { controller: &quot;articles&quot; }, id: &quot;news&quot;, class: &quot;article&quot;
# =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;
</code></pre>

<p>Leaving the hash off gives the wrong link:</p>

<pre><code>link_to &quot;WRONG!&quot;, controller: &quot;articles&quot;, id: &quot;news&quot;, class: &quot;article&quot;
# =&gt; &lt;a href=&quot;/articles/index/news?class=article&quot;&gt;WRONG!&lt;/a&gt;
</code></pre>

<p><code>link_to</code> can also produce links with anchors or query strings:</p>

<pre><code>link_to &quot;Comment wall&quot;, profile_path(@profile, anchor: &quot;wall&quot;)
# =&gt; &lt;a href=&quot;/profiles/1#wall&quot;&gt;Comment wall&lt;/a&gt;

link_to &quot;Ruby on Rails search&quot;, controller: &quot;searches&quot;, query: &quot;ruby on rails&quot;
# =&gt; &lt;a href=&quot;/searches?query=ruby+on+rails&quot;&gt;Ruby on Rails search&lt;/a&gt;

link_to &quot;Nonsense search&quot;, searches_path(foo: &quot;bar&quot;, baz: &quot;quux&quot;)
# =&gt; &lt;a href=&quot;/searches?foo=bar&amp;baz=quux&quot;&gt;Nonsense search&lt;/a&gt;
</code></pre>

<p>You can set any link attributes such as <code>target</code>, <code>rel</code>, <code>type</code>:</p>

<pre><code>link_to &quot;External link&quot;, &quot;http://www.rubyonrails.org/&quot;, target: &quot;_blank&quot;, rel: &quot;nofollow&quot;
# =&gt; &lt;a href=&quot;http://www.rubyonrails.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;External link&lt;/a&gt;
</code></pre>

<h4 id="method-i-link_to-label-Deprecated-3A+Rails+UJS+Attributes">Deprecated: Rails UJS Attributes</h4>

<p>Prior to Rails 7, Rails shipped with a JavaScript library called <code>@rails/ujs</code> on by default. Following Rails 7, this library is no longer on by default. This library integrated with the following options:</p>
<ul><li>
<p><code>method: symbol of HTTP verb</code> - This modifier will dynamically create an HTML form and immediately submit the form for processing using the HTTP verb specified. Useful for having links perform a POST operation in dangerous actions like deleting a record (which search bots can follow while spidering your site). Supported verbs are <code>:post</code>, <code>:delete</code>, <code>:patch</code>, and <code>:put</code>. Note that if the user has JavaScript disabled, the request will fall back to using GET. If <code>href: &#39;#&#39;</code> is used and the user has JavaScript disabled clicking the link will have no effect. If you are relying on the POST behavior, you should check for it in your controller&#39;s action by using the request object&#39;s methods for <code>post?</code>, <code>delete?</code>, <code>patch?</code>, or <code>put?</code>.</p>
</li><li>
<p><code>remote: true</code> - This will allow <code>@rails/ujs</code> to make an Ajax request to the URL in question instead of following the link.</p>
</li></ul>

<p><code>@rails/ujs</code> also integrated with the following <code>:data</code> options:</p>
<ul><li>
<p><code>confirm: &quot;question?&quot;</code> - This will allow <code>@rails/ujs</code> to prompt with the question specified (in this case, the resulting text would be <code>question?</code>). If the user accepts, the link is processed normally, otherwise no action is taken.</p>
</li><li>
<p><code>:disable_with</code> - Value of this parameter will be used as the name for a disabled version of the link.</p>
</li></ul>

<h5 id="method-i-link_to-label-Rails+UJS+Examples">Rails UJS Examples</h5>

<pre><code>link_to &quot;Remove Profile&quot;, profile_path(@profile), method: :delete
# =&gt; &lt;a href=&quot;/profiles/1&quot; rel=&quot;nofollow&quot; data-method=&quot;delete&quot;&gt;Remove Profile&lt;/a&gt;

link_to &quot;Visit Other Site&quot;, &quot;http://www.rubyonrails.org/&quot;, data: { confirm: &quot;Are you sure?&quot; }
# =&gt; &lt;a href=&quot;http://www.rubyonrails.org/&quot; data-confirm=&quot;Are you sure?&quot;&gt;Visit Other Site&lt;/a&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-link_to_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionview/lib/action_view/helpers/url_helper.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">link_to</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">html_options</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">html_options</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">options</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">block</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">options</span> <span class="ruby-operator">||=</span> {}

  <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">convert_options_to_data_attributes</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>)

  <span class="ruby-identifier">url</span> = <span class="ruby-identifier">url_target</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;href&quot;</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">url</span>

  <span class="ruby-identifier">content_tag</span>(<span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">url</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-link_to_if">
            
              link_to_if(condition, name, options = {}, html_options = {}, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates a link tag of the given <code>name</code> using a URL created by the set of <code>options</code> if <code>condition</code> is true, otherwise only the name is returned. To specialize the default behavior, you can pass a block that accepts the name or the full argument list for <code>link_to_if</code>.</p>

<h4 id="method-i-link_to_if-label-Examples">Examples</h4>

<pre><code>&lt;%= link_to_if(@current_user.nil?, &quot;Login&quot;, { controller: &quot;sessions&quot;, action: &quot;new&quot; }) %&gt;
# If the user isn&#39;t logged in...
# =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;

&lt;%=
   link_to_if(@current_user.nil?, &quot;Login&quot;, { controller: &quot;sessions&quot;, action: &quot;new&quot; }) do
     link_to(@current_user.login, { controller: &quot;accounts&quot;, action: &quot;show&quot;, id: @current_user })
   end
%&gt;
# If the user isn&#39;t logged in...
# =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;
# If they are logged in...
# =&gt; &lt;a href=&quot;/accounts/show/3&quot;&gt;my_username&lt;/a&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-link_to_if_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionview/lib/action_view/helpers/url_helper.rb, line 471</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">link_to_if</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">condition</span>
    <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">capture</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">capture</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-link_to_unless">
            
              link_to_unless(condition, name, options = {}, html_options = {}, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates a link tag of the given <code>name</code> using a URL created by the set of <code>options</code> unless <code>condition</code> is true, in which case only the name is returned. To specialize the default behavior (i.e., show a login link rather than just the plaintext link text), you can pass a block that accepts the name or the full argument list for <code>link_to_unless</code>.</p>

<h4 id="method-i-link_to_unless-label-Examples">Examples</h4>

<pre><code>&lt;%= link_to_unless(@current_user.nil?, &quot;Reply&quot;, { action: &quot;reply&quot; }) %&gt;
# If the user is logged in...
# =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;

&lt;%=
   link_to_unless(@current_user.nil?, &quot;Reply&quot;, { action: &quot;reply&quot; }) do |name|
     link_to(name, { controller: &quot;accounts&quot;, action: &quot;signup&quot; })
   end
%&gt;
# If the user is logged in...
# =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;
# If not...
# =&gt; &lt;a href=&quot;/accounts/signup&quot;&gt;Reply&lt;/a&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-link_to_unless_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionview/lib/action_view/helpers/url_helper.rb, line 448</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">link_to_unless</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">link_to_if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-link_to_unless_current">
            
              link_to_unless_current(name, options = {}, html_options = {}, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates a link tag of the given <code>name</code> using a URL created by the set of <code>options</code> unless the current request URI is the same as the links, in which case only the name is returned (or the given block is yielded, if one exists). You can give <code>link_to_unless_current</code> a block which will specialize the default behavior (e.g., show a “Start Here” link rather than the link&#39;s text).</p>

<h4 id="method-i-link_to_unless_current-label-Examples">Examples</h4>

<p>Let&#39;s say you have a navigation menu…</p>

<pre><code>&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;&lt;%= link_to_unless_current(&quot;Home&quot;, { action: &quot;index&quot; }) %&gt;&lt;/li&gt;
  &lt;li&gt;&lt;%= link_to_unless_current(&quot;About Us&quot;, { action: &quot;about&quot; }) %&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>If in the “about” action, it will render…</p>

<pre><code>&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;/controller/index&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;About Us&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>…but if in the “index” action, it will render:</p>

<pre><code>&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;Home&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/controller/about&quot;&gt;About Us&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>The implicit block given to <code>link_to_unless_current</code> is evaluated if the current action is the action given. So, if we had a comments page and wanted to render a “Go Back” link instead of a link to the comments page, we could do something like this…</p>

<pre><code>&lt;%=
    link_to_unless_current(&quot;Comment&quot;, { controller: &quot;comments&quot;, action: &quot;new&quot; }) do
       link_to(&quot;Go back&quot;, { controller: &quot;posts&quot;, action: &quot;index&quot; })
    end
 %&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-link_to_unless_current_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionview/lib/action_view/helpers/url_helper.rb, line 424</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">link_to_unless_current</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">link_to_unless</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-mail_to">
            
              mail_to(email_address, name = nil, html_options = {}, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates a mailto link tag to the specified <code>email_address</code>, which is also used as the name of the link unless <code>name</code> is specified. Additional HTML attributes for the link can be passed in <code>html_options</code>.</p>

<p><code>mail_to</code> has several methods for customizing the email itself by passing special keys to <code>html_options</code>.</p>

<h4 id="method-i-mail_to-label-Options">Options</h4>
<ul><li>
<p><code>:subject</code> - Preset the subject line of the email.</p>
</li><li>
<p><code>:body</code> - Preset the body of the email.</p>
</li><li>
<p><code>:cc</code> - Carbon Copy additional recipients on the email.</p>
</li><li>
<p><code>:bcc</code> - Blind Carbon Copy additional recipients on the email.</p>
</li><li>
<p><code>:reply_to</code> - Preset the Reply-To field of the email.</p>
</li></ul>

<h4 id="method-i-mail_to-label-Obfuscation">Obfuscation</h4>

<p>Prior to Rails 4.0, <code>mail_to</code> provided options for encoding the address in order to hinder email harvesters.  To take advantage of these options, install the <code>actionview-encoded_mail_to</code> gem.</p>

<h4 id="method-i-mail_to-label-Examples">Examples</h4>

<pre><code>mail_to &quot;me@domain.com&quot;
# =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;me@domain.com&lt;/a&gt;

mail_to &quot;me@domain.com&quot;, &quot;My email&quot;
# =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;My email&lt;/a&gt;

mail_to &quot;me@domain.com&quot;, cc: &quot;ccaddress@domain.com&quot;,
         subject: &quot;This is an example email&quot;
# =&gt; &lt;a href=&quot;mailto:me@domain.com?cc=ccaddress@domain.com&amp;subject=This%20is%20an%20example%20email&quot;&gt;me@domain.com&lt;/a&gt;
</code></pre>

<p>You can use a block as well if your link target is hard to fit into the name parameter. <a href="../../ERB.html"><code>ERB</code></a> example:</p>

<pre><code>&lt;%= mail_to &quot;me@domain.com&quot; do %&gt;
  &lt;strong&gt;Email me:&lt;/strong&gt; &lt;span&gt;me@domain.com&lt;/span&gt;
&lt;% end %&gt;
# =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;
       &lt;strong&gt;Email me:&lt;/strong&gt; &lt;span&gt;me@domain.com&lt;/span&gt;
     &lt;/a&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-mail_to_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionview/lib/action_view/helpers/url_helper.rb, line 521</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mail_to</span>(<span class="ruby-identifier">email_address</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">html_options</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>, <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
  <span class="ruby-identifier">html_options</span> = (<span class="ruby-identifier">html_options</span> <span class="ruby-operator">||</span> {}).<span class="ruby-identifier">stringify_keys</span>

  <span class="ruby-identifier">extras</span> = <span class="ruby-node">%w{ cc bcc body subject reply_to }</span>.<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">option</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">item</span>).<span class="ruby-identifier">presence</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">next</span>
    <span class="ruby-node">&quot;#{item.dasherize}=#{ERB::Util.url_encode(option)}&quot;</span>
  }.<span class="ruby-identifier">compact</span>
  <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;?&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;&amp;&quot;</span>)

  <span class="ruby-identifier">encoded_email_address</span> = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">url_encode</span>(<span class="ruby-identifier">email_address</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&quot;%40&quot;</span>, <span class="ruby-string">&quot;@&quot;</span>)
  <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;href&quot;</span>] = <span class="ruby-node">&quot;mailto:#{encoded_email_address}#{extras}&quot;</span>

  <span class="ruby-identifier">content_tag</span>(<span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-phone_to">
            
              phone_to(phone_number, name = nil, html_options = {}, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates a TEL anchor link tag to the specified <code>phone_number</code>. When the link is clicked, the default app to make phone calls is opened and prepopulated with the phone number.</p>

<p>If <code>name</code> is not specified, <code>phone_number</code> will be used as the name of the link.</p>

<p>A <code>country_code</code> option is supported, which prepends a plus sign and the given country code to the linked phone number. For example, <code>country_code: &quot;01&quot;</code> will prepend <code>+01</code> to the linked phone number.</p>

<p>Additional HTML attributes for the link can be passed via <code>html_options</code>.</p>

<h4 id="method-i-phone_to-label-Options">Options</h4>
<ul><li>
<p><code>:country_code</code> - Prepends the country code to the phone number</p>
</li></ul>

<h4 id="method-i-phone_to-label-Examples">Examples</h4>

<pre><code>phone_to &quot;1234567890&quot;
# =&gt; &lt;a href=&quot;tel:1234567890&quot;&gt;1234567890&lt;/a&gt;

phone_to &quot;1234567890&quot;, &quot;Phone me&quot;
# =&gt; &lt;a href=&quot;tel:1234567890&quot;&gt;Phone me&lt;/a&gt;

phone_to &quot;1234567890&quot;, country_code: &quot;01&quot;
# =&gt; &lt;a href=&quot;tel:+011234567890&quot;&gt;1234567890&lt;/a&gt;
</code></pre>

<p>You can use a block as well if your link target is hard to fit into the name parameter. ERB example:</p>

<pre><code>&lt;%= phone_to &quot;1234567890&quot; do %&gt;
  &lt;strong&gt;Phone me:&lt;/strong&gt;
&lt;% end %&gt;
# =&gt; &lt;a href=&quot;tel:1234567890&quot;&gt;
       &lt;strong&gt;Phone me:&lt;/strong&gt;
     &lt;/a&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-phone_to_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionview/lib/action_view/helpers/url_helper.rb, line 716</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">phone_to</span>(<span class="ruby-identifier">phone_number</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">html_options</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>, <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
  <span class="ruby-identifier">html_options</span> = (<span class="ruby-identifier">html_options</span> <span class="ruby-operator">||</span> {}).<span class="ruby-identifier">stringify_keys</span>

  <span class="ruby-identifier">country_code</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;country_code&quot;</span>).<span class="ruby-identifier">presence</span>
  <span class="ruby-identifier">country_code</span> = <span class="ruby-identifier">country_code</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;+#{ERB::Util.url_encode(country_code)}&quot;</span>

  <span class="ruby-identifier">encoded_phone_number</span> = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">url_encode</span>(<span class="ruby-identifier">phone_number</span>)
  <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;href&quot;</span>] = <span class="ruby-node">&quot;tel:#{country_code}#{encoded_phone_number}&quot;</span>

  <span class="ruby-identifier">content_tag</span>(<span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">phone_number</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-sms_to">
            
              sms_to(phone_number, name = nil, html_options = {}, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates an SMS anchor link tag to the specified <code>phone_number</code>. When the link is clicked, the default SMS messaging app is opened ready to send a message to the linked phone number. If the <code>body</code> option is specified, the contents of the message will be preset to <code>body</code>.</p>

<p>If <code>name</code> is not specified, <code>phone_number</code> will be used as the name of the link.</p>

<p>A <code>country_code</code> option is supported, which prepends a plus sign and the given country code to the linked phone number. For example, <code>country_code: &quot;01&quot;</code> will prepend <code>+01</code> to the linked phone number.</p>

<p>Additional HTML attributes for the link can be passed via <code>html_options</code>.</p>

<h4 id="method-i-sms_to-label-Options">Options</h4>
<ul><li>
<p><code>:country_code</code> - Prepend the country code to the phone number.</p>
</li><li>
<p><code>:body</code> - Preset the body of the message.</p>
</li></ul>

<h4 id="method-i-sms_to-label-Examples">Examples</h4>

<pre><code>sms_to &quot;5155555785&quot;
# =&gt; &lt;a href=&quot;sms:5155555785;&quot;&gt;5155555785&lt;/a&gt;

sms_to &quot;5155555785&quot;, country_code: &quot;01&quot;
# =&gt; &lt;a href=&quot;sms:+015155555785;&quot;&gt;5155555785&lt;/a&gt;

sms_to &quot;5155555785&quot;, &quot;Text me&quot;
# =&gt; &lt;a href=&quot;sms:5155555785;&quot;&gt;Text me&lt;/a&gt;

sms_to &quot;5155555785&quot;, body: &quot;I have a question about your product.&quot;
# =&gt; &lt;a href=&quot;sms:5155555785;?body=I%20have%20a%20question%20about%20your%20product&quot;&gt;5155555785&lt;/a&gt;
</code></pre>

<p>You can use a block as well if your link target is hard to fit into the name parameter. ERB example:</p>

<pre><code>&lt;%= sms_to &quot;5155555785&quot; do %&gt;
  &lt;strong&gt;Text me:&lt;/strong&gt;
&lt;% end %&gt;
# =&gt; &lt;a href=&quot;sms:5155555785;&quot;&gt;
       &lt;strong&gt;Text me:&lt;/strong&gt;
     &lt;/a&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-sms_to_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionview/lib/action_view/helpers/url_helper.rb, line 665</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sms_to</span>(<span class="ruby-identifier">phone_number</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">html_options</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>, <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
  <span class="ruby-identifier">html_options</span> = (<span class="ruby-identifier">html_options</span> <span class="ruby-operator">||</span> {}).<span class="ruby-identifier">stringify_keys</span>

  <span class="ruby-identifier">country_code</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;country_code&quot;</span>).<span class="ruby-identifier">presence</span>
  <span class="ruby-identifier">country_code</span> = <span class="ruby-identifier">country_code</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;+#{ERB::Util.url_encode(country_code)}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>

  <span class="ruby-identifier">body</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;body&quot;</span>).<span class="ruby-identifier">presence</span>
  <span class="ruby-identifier">body</span> = <span class="ruby-identifier">body</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;?&amp;body=#{ERB::Util.url_encode(body)}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>

  <span class="ruby-identifier">encoded_phone_number</span> = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">url_encode</span>(<span class="ruby-identifier">phone_number</span>)
  <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;href&quot;</span>] = <span class="ruby-node">&quot;sms:#{country_code}#{encoded_phone_number};#{body}&quot;</span>

  <span class="ruby-identifier">content_tag</span>(<span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">phone_number</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
</div>
