---
title: ActionController::Parameters
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 8.0.0</span><br />
        
        <div class="type">Class</div>
        <h1>
            ActionController::Parameters
            
                <span class="parent">&lt;
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/actionpack/lib/action_controller/metal/strong_parameters_rb.html">actionpack/lib/action_controller/metal/strong_parameters.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="class-ActionController::Parameters-label-Action+Controller+Parameters">Action Controller <a href="Parameters.html"><code>Parameters</code></a></h1>

<p>Allows you to choose which attributes should be permitted for mass updating and thus prevent accidentally exposing that which shouldn’t be exposed.</p>

<p>Provides methods for filtering and requiring params:</p>
<ul><li>
<p><code>expect</code> to safely permit and require parameters in one step.</p>
</li><li>
<p><code>permit</code> to filter params for mass assignment.</p>
</li><li>
<p><code>require</code> to require a parameter or raise an error.</p>
</li></ul>

<p>Examples:</p>

<pre><code>params = ActionController::Parameters.new({
  person: {
    name: &quot;Francesco&quot;,
    age:  22,
    role: &quot;admin&quot;
  }
})

permitted = params.expect(person: [:name, :age])
permitted # =&gt; #&lt;ActionController::Parameters {&quot;name&quot;=&gt;&quot;Francesco&quot;, &quot;age&quot;=&gt;22} permitted: true&gt;

Person.first.update!(permitted)
# =&gt; #&lt;Person id: 1, name: &quot;Francesco&quot;, age: 22, role: &quot;user&quot;&gt;
</code></pre>

<p><a href="Parameters.html"><code>Parameters</code></a> provides two options that control the top-level behavior of new instances:</p>
<ul><li>
<p><code>permit_all_parameters</code> - If it’s <code>true</code>, all the parameters will be permitted by default. The default is <code>false</code>.</p>
</li><li>
<p><code>action_on_unpermitted_parameters</code> - Controls behavior when parameters that are not explicitly permitted are found. The default value is <code>:log</code> in test and development environments, <code>false</code> otherwise. The values can be:</p>
<ul><li>
<p><code>false</code> to take no action.</p>
</li><li>
<p><code>:log</code> to emit an <code>ActiveSupport::Notifications.instrument</code> event on the <code>unpermitted_parameters.action_controller</code> topic and log at the DEBUG level.</p>
</li><li>
<p><code>:raise</code> to raise an <a href="UnpermittedParameters.html"><code>ActionController::UnpermittedParameters</code></a> exception.</p>
</li></ul>
</li></ul>

<p>Examples:</p>

<pre><code>params = ActionController::Parameters.new
params.permitted? # =&gt; false

ActionController::Parameters.permit_all_parameters = true

params = ActionController::Parameters.new
params.permitted? # =&gt; true

params = ActionController::Parameters.new(a: &quot;123&quot;, b: &quot;456&quot;)
params.permit(:c)
# =&gt; #&lt;ActionController::Parameters {} permitted: true&gt;

ActionController::Parameters.action_on_unpermitted_parameters = :raise

params = ActionController::Parameters.new(a: &quot;123&quot;, b: &quot;456&quot;)
params.permit(:c)
# =&gt; ActionController::UnpermittedParameters: found unpermitted keys: a, b
</code></pre>

<p>Please note that these options <em>are not thread-safe</em>. In a multi-threaded environment they should only be set once at boot-time and never mutated at runtime.</p>

<p>You can fetch values of <code>ActionController::Parameters</code> using either <code>:key</code> or <code>&quot;key&quot;</code>.</p>

<pre><code>params = ActionController::Parameters.new(key: &quot;value&quot;)
params[:key]  # =&gt; &quot;value&quot;
params[&quot;key&quot;] # =&gt; &quot;value&quot;
</code></pre>

    </div>
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-3D-3D">==</a>
        </li>
      
        <li>
          <a href="#method-i-5B-5D">[]</a>
        </li>
      
        <li>
          <a href="#method-i-5B-5D-3D">[]=</a>
        </li>
      
        <li>
          <a href="#method-i-as_json">as_json</a>
        </li>
      
        <li>
          <a href="#method-i-compact">compact</a>
        </li>
      
        <li>
          <a href="#method-i-compact-21">compact!</a>
        </li>
      
        <li>
          <a href="#method-i-compact_blank">compact_blank</a>
        </li>
      
        <li>
          <a href="#method-i-compact_blank-21">compact_blank!</a>
        </li>
      
        <li>
          <a href="#method-i-converted_arrays">converted_arrays</a>
        </li>
      
        <li>
          <a href="#method-i-deep_dup">deep_dup</a>
        </li>
      
        <li>
          <a href="#method-i-deep_merge">deep_merge</a>
        </li>
      
        <li>
          <a href="#method-i-deep_merge-21">deep_merge!</a>
        </li>
      
        <li>
          <a href="#method-i-deep_transform_keys">deep_transform_keys</a>
        </li>
      
        <li>
          <a href="#method-i-deep_transform_keys-21">deep_transform_keys!</a>
        </li>
      
        <li>
          <a href="#method-i-delete">delete</a>
        </li>
      
        <li>
          <a href="#method-i-delete_if">delete_if</a>
        </li>
      
        <li>
          <a href="#method-i-dig">dig</a>
        </li>
      
        <li>
          <a href="#method-i-each">each</a>
        </li>
      
        <li>
          <a href="#method-i-each_key">each_key</a>
        </li>
      
        <li>
          <a href="#method-i-each_nested_attribute">each_nested_attribute</a>
        </li>
      
        <li>
          <a href="#method-i-each_pair">each_pair</a>
        </li>
      
        <li>
          <a href="#method-i-each_value">each_value</a>
        </li>
      
        <li>
          <a href="#method-i-empty-3F">empty?</a>
        </li>
      
        <li>
          <a href="#method-i-eql-3F">eql?</a>
        </li>
      
        <li>
          <a href="#method-i-except">except</a>
        </li>
      
        <li>
          <a href="#method-i-exclude-3F">exclude?</a>
        </li>
      
        <li>
          <a href="#method-i-expect">expect</a>
        </li>
      
        <li>
          <a href="#method-i-expect-21">expect!</a>
        </li>
      
        <li>
          <a href="#method-i-extract-21">extract!</a>
        </li>
      
        <li>
          <a href="#method-i-extract_value">extract_value</a>
        </li>
      
        <li>
          <a href="#method-i-fetch">fetch</a>
        </li>
      
        <li>
          <a href="#method-i-has_key-3F">has_key?</a>
        </li>
      
        <li>
          <a href="#method-i-has_value-3F">has_value?</a>
        </li>
      
        <li>
          <a href="#method-i-hash">hash</a>
        </li>
      
        <li>
          <a href="#method-i-include-3F">include?</a>
        </li>
      
        <li>
          <a href="#method-i-inspect">inspect</a>
        </li>
      
        <li>
          <a href="#method-i-keep_if">keep_if</a>
        </li>
      
        <li>
          <a href="#method-i-key-3F">key?</a>
        </li>
      
        <li>
          <a href="#method-i-keys">keys</a>
        </li>
      
        <li>
          <a href="#method-i-member-3F">member?</a>
        </li>
      
        <li>
          <a href="#method-i-merge">merge</a>
        </li>
      
        <li>
          <a href="#method-i-merge-21">merge!</a>
        </li>
      
        <li>
          <a href="#method-i-nested_attributes-3F">nested_attributes?</a>
        </li>
      
        <li>
          <a href="#method-c-new">new</a>
        </li>
      
        <li>
          <a href="#method-i-permit">permit</a>
        </li>
      
        <li>
          <a href="#method-i-permit-21">permit!</a>
        </li>
      
        <li>
          <a href="#method-i-permit_filters">permit_filters</a>
        </li>
      
        <li>
          <a href="#method-i-permitted-3F">permitted?</a>
        </li>
      
        <li>
          <a href="#method-i-reject">reject</a>
        </li>
      
        <li>
          <a href="#method-i-reject-21">reject!</a>
        </li>
      
        <li>
          <a href="#method-i-require">require</a>
        </li>
      
        <li>
          <a href="#method-i-required">required</a>
        </li>
      
        <li>
          <a href="#method-i-reverse_merge">reverse_merge</a>
        </li>
      
        <li>
          <a href="#method-i-reverse_merge-21">reverse_merge!</a>
        </li>
      
        <li>
          <a href="#method-i-select">select</a>
        </li>
      
        <li>
          <a href="#method-i-select-21">select!</a>
        </li>
      
        <li>
          <a href="#method-i-slice">slice</a>
        </li>
      
        <li>
          <a href="#method-i-slice-21">slice!</a>
        </li>
      
        <li>
          <a href="#method-i-to_h">to_h</a>
        </li>
      
        <li>
          <a href="#method-i-to_hash">to_hash</a>
        </li>
      
        <li>
          <a href="#method-i-to_param">to_param</a>
        </li>
      
        <li>
          <a href="#method-i-to_query">to_query</a>
        </li>
      
        <li>
          <a href="#method-i-to_s">to_s</a>
        </li>
      
        <li>
          <a href="#method-i-to_unsafe_h">to_unsafe_h</a>
        </li>
      
        <li>
          <a href="#method-i-to_unsafe_hash">to_unsafe_hash</a>
        </li>
      
        <li>
          <a href="#method-i-transform_keys">transform_keys</a>
        </li>
      
        <li>
          <a href="#method-i-transform_keys-21">transform_keys!</a>
        </li>
      
        <li>
          <a href="#method-i-transform_values">transform_values</a>
        </li>
      
        <li>
          <a href="#method-i-transform_values-21">transform_values!</a>
        </li>
      
        <li>
          <a href="#method-i-value-3F">value?</a>
        </li>
      
        <li>
          <a href="#method-i-values">values</a>
        </li>
      
        <li>
          <a href="#method-i-values_at">values_at</a>
        </li>
      
        <li>
          <a href="#method-i-with_defaults">with_defaults</a>
        </li>
      
        <li>
          <a href="#method-i-with_defaults-21">with_defaults!</a>
        </li>
      
        <li>
          <a href="#method-i-without">without</a>
        </li>
      
    </ul>
  

  

  
    

    

    
      <!-- Section constants -->
      <h2 id="constants">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">PERMITTED_SCALAR_TYPES</td>
            <td>=</td>
            <td class="attr-value">[
String,
Symbol,
NilClass,
Numeric,
TrueClass,
FalseClass,
Date,
Time,
# DateTimes are Dates, we document the type but avoid the redundant check.
StringIO,
IO,
ActionDispatch::Http::UploadedFile,
Rack::Test::UploadedFile,
]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>— Filtering ———————————————————-</p>

<p>This is a list of permitted scalar types that includes the ones supported in XML and JSON requests.</p>

<p>This list is in particular used to filter ordinary requests, <a href="../String.html"><code>String</code></a> goes as first element to quickly short-circuit the common case.</p>

<p>If you modify this collection please update the one in the <a href="Parameters.html#method-i-permit"><code>permit</code></a> doc as well.</p></td>
            </tr>
          
        
      </table>
    

    
      <!-- Section attributes -->
      <h2 id="attributes">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>parameters</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>permitted</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    

    <!-- Methods -->
    
      <h2 id="class-public-methods">Class Public methods</h2>
      
        <div class="method">
          <h3 id="method-c-new">
            
              new(parameters = {}, logging_context = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance. Also, sets the <code>permitted</code> attribute to the default value of <code>ActionController::Parameters.permit_all_parameters</code>.</p>

<pre><code>class Person &lt; ActiveRecord::Base
end

params = ActionController::Parameters.new(name: &quot;Francesco&quot;)
params.permitted?  # =&gt; false
Person.new(params) # =&gt; ActiveModel::ForbiddenAttributesError

ActionController::Parameters.permit_all_parameters = true

params = ActionController::Parameters.new(name: &quot;Francesco&quot;)
params.permitted?  # =&gt; true
Person.new(params) # =&gt; #&lt;Person id: nil, name: &quot;Francesco&quot;&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 287
    def initialize(parameters = {}, logging_context = {})
      parameters.each_key do |key|
        unless key.is_a?(String) || key.is_a?(Symbol)
          raise InvalidParameterKey, &quot;all keys must be Strings or Symbols, got: #{key.class}&quot;
        end
      end

      @parameters = parameters.with_indifferent_access
      @logging_context = logging_context
      @permitted = self.class.permit_all_parameters
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L287" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-3D-3D">
            
              ==(other)
            
          </h3>

          
            <div class="description">
              <p>Returns true if another <code>Parameters</code> object contains the same content and permitted flag.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 301
    def ==(other)
      if other.respond_to?(:permitted?)
        permitted? == other.permitted? &amp;&amp; parameters == other.parameters
      else
        super
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L301" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-5B-5D">
            
              [](key)
            
          </h3>

          
            <div class="description">
              <p>Returns a parameter for the given <code>key</code>. If not found, returns <code>nil</code>.</p>

<pre><code>params = ActionController::Parameters.new(person: { name: &quot;Francesco&quot; })
params[:person] # =&gt; #&lt;ActionController::Parameters {&quot;name&quot;=&gt;&quot;Francesco&quot;} permitted: false&gt;
params[:none]   # =&gt; nil
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 797
    def [](key)
      convert_hashes_to_parameters(key, @parameters[key])
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L797" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-5B-5D-3D">
            
              []=(key, value)
            
          </h3>

          
            <div class="description">
              <p>Assigns a value to a given <code>key</code>. The given key may still get filtered out when <a href="Parameters.html#method-i-permit"><code>permit</code></a> is called.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 803
    def []=(key, value)
      @parameters[key] = value
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L803" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-as_json">
            
              as_json(options=nil)

            
          </h3>

          
            <div class="description">
              <p>Returns a hash that can be used as the JSON representation for the parameters.</p>
            </div>
          

          

          

          
          
            <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L194" target="_blank" class="github_url">🔎 See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-compact">
            
              compact()
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance with <code>nil</code> values removed.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 974
    def compact
      new_instance_with_inherited_permitted_status(@parameters.compact)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L974" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-compact-21">
            
              compact!()
            
          </h3>

          
            <div class="description">
              <p>Removes all <code>nil</code> values in place and returns <code>self</code>, or <code>nil</code> if no changes were made.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 980
    def compact!
      self if @parameters.compact!
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L980" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-compact_blank">
            
              compact_blank()
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance without the blank values. Uses <a href="../Object.html#method-i-blank-3F"><code>Object#blank?</code></a> for determining if a value is blank.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 986
    def compact_blank
      reject { |_k, v| v.blank? }
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L986" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-compact_blank-21">
            
              compact_blank!()
            
          </h3>

          
            <div class="description">
              <p>Removes all blank values in place and returns self. Uses <a href="../Object.html#method-i-blank-3F"><code>Object#blank?</code></a> for determining if a value is blank.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 992
    def compact_blank!
      reject! { |_k, v| v.blank? }
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L992" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-converted_arrays">
            
              converted_arrays()
            
          </h3>

          
            <div class="description">
              <p>Attribute that keeps track of converted arrays, if any, to avoid double looping in the common use case permit + mass-assignment. Defined in a method to instantiate it only if needed.</p>

<p><a href="Testing.html"><code>Testing</code></a> membership still loops, but it’s going to be faster than our own loop that converts values. Also, we are not going to build a new array object per fetch.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 435
    def converted_arrays
      @converted_arrays ||= Set.new
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L435" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-deep_dup">
            
              deep_dup()
            
          </h3>

          
            <div class="description">
              <p>Returns a duplicate <code>ActionController::Parameters</code> instance with the same permitted parameters.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1092
    def deep_dup
      self.class.new(@parameters.deep_dup, @logging_context).tap do |duplicate|
        duplicate.permitted = @permitted
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1092" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-deep_merge">
            
              deep_merge(other_hash, &block)

            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance with <code>self</code> and <code>other_hash</code> merged recursively.</p>

<p>Like with <code>Hash#merge</code> in the standard library, a block can be provided to merge values.</p>
            </div>
          

          

          

          
          
            <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L168" target="_blank" class="github_url">🔎 See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-deep_merge-21">
            
              deep_merge!(other_hash, &block)

            
          </h3>

          
            <div class="description">
              <p>Same as <code>#deep_merge</code>, but modifies <code>self</code>.</p>
            </div>
          

          

          

          
          
            <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L183" target="_blank" class="github_url">🔎 See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-deep_transform_keys">
            
              deep_transform_keys(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance with the results of running <code>block</code> once for every key. This includes the keys from the root hash and from all nested hashes and arrays. The values are unchanged.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 924
    def deep_transform_keys(&amp;block)
      new_instance_with_inherited_permitted_status(
        _deep_transform_keys_in_object(@parameters, &amp;block).to_unsafe_h
      )
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L924" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-deep_transform_keys-21">
            
              deep_transform_keys!(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Returns the same <code>ActionController::Parameters</code> instance with changed keys. This includes the keys from the root hash and from all nested hashes and arrays. The values are unchanged.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 933
    def deep_transform_keys!(&amp;block)
      @parameters = _deep_transform_keys_in_object(@parameters, &amp;block).to_unsafe_h
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L933" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-delete">
            
              delete(key, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Deletes a key-value pair from <code>Parameters</code> and returns the value. If <code>key</code> is not found, returns <code>nil</code> (or, with optional code block, yields <code>key</code> and returns the result). This method is similar to <a href="Parameters.html#method-i-extract-21"><code>extract!</code></a>, which returns the corresponding <code>ActionController::Parameters</code> object.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 942
    def delete(key, &amp;block)
      convert_value_to_parameters(@parameters.delete(key, &amp;block))
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L942" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-delete_if">
            
              delete_if(&amp;block)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-reject-21">reject!</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-dig">
            
              dig(*keys)
            
          </h3>

          
            <div class="description">
              <p>Extracts the nested parameter from the given <code>keys</code> by calling <code>dig</code> at each step. Returns <code>nil</code> if any intermediate step is <code>nil</code>.</p>

<pre><code>params = ActionController::Parameters.new(foo: { bar: { baz: 1 } })
params.dig(:foo, :bar, :baz) # =&gt; 1
params.dig(:foo, :zot, :xyz) # =&gt; nil

params2 = ActionController::Parameters.new(foo: [10, 11, 12])
params2.dig(:foo, 1) # =&gt; 11
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 841
    def dig(*keys)
      convert_hashes_to_parameters(keys.first, @parameters[keys.first])
      @parameters.dig(*keys)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L841" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-each">
            
              each(&amp;block)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-each_pair">each_pair</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-each_key">
            
              each_key(&block)

            
          </h3>

          
            <div class="description">
              <p>Calls block once for each key in the parameters, passing the key. If no block is given, an enumerator is returned instead.</p>
            </div>
          

          

          

          
          
            <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L202" target="_blank" class="github_url">🔎 See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-each_pair">
            
              each_pair(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Convert all hashes in values into parameters, then yield each pair in the same way as <code>Hash#each_pair</code>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-each">each</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 402
    def each_pair(&amp;block)
      return to_enum(__callee__) unless block_given?
      @parameters.each_pair do |key, value|
        yield [key, convert_hashes_to_parameters(key, value)]
      end

      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L402" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-each_value">
            
              each_value(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Convert all hashes in values into parameters, then yield each value in the same way as <code>Hash#each_value</code>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 414
    def each_value(&amp;block)
      return to_enum(:each_value) unless block_given?
      @parameters.each_pair do |key, value|
        yield convert_hashes_to_parameters(key, value)
      end

      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L414" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-empty-3F">
            
              empty?()

            
          </h3>

          
            <div class="description">
              <p>Returns true if the parameters have no key/value pairs.</p>
            </div>
          

          

          

          
          
            <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L211" target="_blank" class="github_url">🔎 See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-eql-3F">
            
              eql?(other)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 309
    def eql?(other)
      self.class == other.class &amp;&amp;
        permitted? == other.permitted? &amp;&amp;
        parameters.eql?(other.parameters)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L309" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-except">
            
              except(*keys)
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance that filters out the given <code>keys</code>.</p>

<pre><code>params = ActionController::Parameters.new(a: 1, b: 2, c: 3)
params.except(:a, :b) # =&gt; #&lt;ActionController::Parameters {&quot;c&quot;=&gt;3} permitted: false&gt;
params.except(:d)     # =&gt; #&lt;ActionController::Parameters {&quot;a&quot;=&gt;1, &quot;b&quot;=&gt;2, &quot;c&quot;=&gt;3} permitted: false&gt;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-without">without</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 869
    def except(*keys)
      new_instance_with_inherited_permitted_status(@parameters.except(*keys))
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L869" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-exclude-3F">
            
              exclude?(key)

            
          </h3>

          
            <div class="description">
              <p>Returns true if the given key is not present in the parameters.</p>
            </div>
          

          

          

          
          
            <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L219" target="_blank" class="github_url">🔎 See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-expect">
            
              expect(*filters)
            
          </h3>

          
            <div class="description">
              <p><code>expect</code> is the preferred way to require and permit parameters. It is safer than the previous recommendation to call <code>permit</code> and <code>require</code> in sequence, which could allow user triggered 500 errors.</p>

<p><code>expect</code> is more strict with types to avoid a number of potential pitfalls that may be encountered with the <code>.require.permit</code> pattern.</p>

<p>For example:</p>

<pre><code>params = ActionController::Parameters.new(comment: { text: &quot;hello&quot; })
params.expect(comment: [:text])
# =&gt; #&lt;ActionController::Parameters { text: &quot;hello&quot; } permitted: true&gt;

params = ActionController::Parameters.new(comment: [{ text: &quot;hello&quot; }, { text: &quot;world&quot; }])
params.expect(comment: [:text])
# =&gt; ActionController::ParameterMissing: param is missing or the value is empty or invalid: comment
</code></pre>

<p>In order to permit an array of parameters, the array must be defined explicitly. Use double array brackets, an array inside an array, to declare that an array of parameters is expected.</p>

<pre><code>params = ActionController::Parameters.new(comments: [{ text: &quot;hello&quot; }, { text: &quot;world&quot; }])
params.expect(comments: [[:text]])
# =&gt; [#&lt;ActionController::Parameters { &quot;text&quot; =&gt; &quot;hello&quot; } permitted: true&gt;,
#     #&lt;ActionController::Parameters { &quot;text&quot; =&gt; &quot;world&quot; } permitted: true&gt;]

params = ActionController::Parameters.new(comments: { text: &quot;hello&quot; })
params.expect(comments: [[:text]])
# =&gt; ActionController::ParameterMissing: param is missing or the value is empty or invalid: comments
</code></pre>

<p><code>expect</code> is intended to protect against array tampering.</p>

<pre><code>params = ActionController::Parameters.new(user: &quot;hack&quot;)
# The previous way of requiring and permitting parameters will error
params.require(:user).permit(:name, pets: [:name]) # wrong
# =&gt; NoMethodError: undefined method `permit&#39; for an instance of String

# similarly with nested parameters
params = ActionController::Parameters.new(user: { name: &quot;Martin&quot;, pets: { name: &quot;hack&quot; } })
user_params = params.require(:user).permit(:name, pets: [:name]) # wrong
# user_params[:pets] is expected to be an array but is a hash
</code></pre>

<p><code>expect</code> solves this by being more strict with types.</p>

<pre><code>params = ActionController::Parameters.new(user: &quot;hack&quot;)
params.expect(user: [ :name, pets: [[:name]] ])
# =&gt; ActionController::ParameterMissing: param is missing or the value is empty or invalid: user

# with nested parameters
params = ActionController::Parameters.new(user: { name: &quot;Martin&quot;, pets: { name: &quot;hack&quot; } })
user_params = params.expect(user: [:name, pets: [[:name]] ])
user_params[:pets] # =&gt; nil
</code></pre>

<p>As the examples show, <code>expect</code> requires the <code>:user</code> key, and any root keys similar to the <code>.require.permit</code> pattern. If multiple root keys are expected, they will all be required.</p>

<p>params = <a href="Parameters.html#method-c-new"><code>ActionController::Parameters.new</code></a>(name: “Martin”, pies: [{ type: “dessert”, flavor: “pumpkin”}]) name, pies = params.expect(:name, pies: [[:type, :flavor]]) name # =&gt; “Martin” pies # =&gt; [#&lt;ActionController::Parameters {“type”=&gt;“dessert”, “flavor”=&gt;“pumpkin”} permitted: true&gt;]</p>

<p>When called with a hash with multiple keys, <code>expect</code> will permit the parameters and require the keys in the order they are given in the hash, returning an array of the permitted parameters.</p>

<p>params = <a href="Parameters.html#method-c-new"><code>ActionController::Parameters.new</code></a>(subject: { name: “Martin” }, object: { pie: “pumpkin” }) subject, object = params.expect(subject: [:name], object: [:pie]) subject # =&gt; <ActionController::Parameters {“name”=&gt;“Martin”} permitted: true&gt; object # =&gt; <ActionController::Parameters {“pie”=&gt;“pumpkin”} permitted: true&gt;</p>

<p>Besides being more strict about array vs hash params, <code>expect</code> uses permit internally, so it will behave similarly.</p>

<pre><code>params = ActionController::Parameters.new({
  person: {
    name: &quot;Francesco&quot;,
    age:  22,
    pets: [{
      name: &quot;Purplish&quot;,
      category: &quot;dogs&quot;
    }]
  }
})

permitted = params.expect(person: [ :name, { pets: [[:name]] } ])
permitted.permitted?           # =&gt; true
permitted[:name]               # =&gt; &quot;Francesco&quot;
permitted[:age]                # =&gt; nil
permitted[:pets][0][:name]     # =&gt; &quot;Purplish&quot;
permitted[:pets][0][:category] # =&gt; nil
</code></pre>

<p>An array of permitted scalars may be expected with the following:</p>

<pre><code>params = ActionController::Parameters.new(tags: [&quot;rails&quot;, &quot;parameters&quot;])
permitted = params.expect(tags: [])
permitted.permitted?      # =&gt; true
permitted.is_a?(Array)    # =&gt; true
permitted.size            # =&gt; 2
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 772
    def expect(*filters)
      params = permit_filters(filters)
      keys = filters.flatten.flat_map { |f| f.is_a?(Hash) ? f.keys : f }
      values = params.require(keys)
      values.size == 1 ? values.first : values
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L772" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-expect-21">
            
              expect!(*filters)
            
          </h3>

          
            <div class="description">
              <p>Same as <code>expect</code>, but raises an <code>ActionController::ExpectedParameterMissing</code> instead of <code>ActionController::ParameterMissing</code>. Unlike <code>expect</code> which will render a 400 response, <code>expect!</code> will raise an exception that is not handled. This is intended for debugging invalid params for an internal <a href="API.html"><code>API</code></a> where incorrectly formatted params would indicate a bug in a client library that should be fixed.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 786
    def expect!(*filters)
      expect(*filters)
    rescue ParameterMissing =&gt; e
      raise ExpectedParameterMissing.new(e.param, e.keys)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L786" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-extract-21">
            
              extract!(*keys)
            
          </h3>

          
            <div class="description">
              <p>Removes and returns the key/value pairs matching the given keys.</p>

<pre><code>params = ActionController::Parameters.new(a: 1, b: 2, c: 3)
params.extract!(:a, :b) # =&gt; #&lt;ActionController::Parameters {&quot;a&quot;=&gt;1, &quot;b&quot;=&gt;2} permitted: false&gt;
params                  # =&gt; #&lt;ActionController::Parameters {&quot;c&quot;=&gt;3} permitted: false&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 879
    def extract!(*keys)
      new_instance_with_inherited_permitted_status(@parameters.extract!(*keys))
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L879" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-extract_value">
            
              extract_value(key, delimiter: &quot;_&quot;)
            
          </h3>

          
            <div class="description">
              <p>Returns parameter value for the given <code>key</code> separated by <code>delimiter</code>.</p>

<pre><code>params = ActionController::Parameters.new(id: &quot;1_123&quot;, tags: &quot;ruby,rails&quot;)
params.extract_value(:id) # =&gt; [&quot;1&quot;, &quot;123&quot;]
params.extract_value(:tags, delimiter: &quot;,&quot;) # =&gt; [&quot;ruby&quot;, &quot;rails&quot;]
params.extract_value(:non_existent_key) # =&gt; nil
</code></pre>

<p>Note that if the given <code>key</code>‘s value contains blank elements, then the returned array will include empty strings.</p>

<pre><code>params = ActionController::Parameters.new(tags: &quot;ruby,rails,,web&quot;)
params.extract_value(:tags, delimiter: &quot;,&quot;) # =&gt; [&quot;ruby&quot;, &quot;rails&quot;, &quot;&quot;, &quot;web&quot;]
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1110
    def extract_value(key, delimiter: &quot;_&quot;)
      @parameters[key]&amp;.split(delimiter, -1)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1110" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-fetch">
            
              fetch(key, *args)
            
          </h3>

          
            <div class="description">
              <p>Returns a parameter for the given <code>key</code>. If the <code>key</code> can’t be found, there are several options: With no other arguments, it will raise an <a href="ParameterMissing.html"><code>ActionController::ParameterMissing</code></a> error; if a second argument is given, then that is returned (converted to an instance of <code>ActionController::Parameters</code> if possible); if a block is given, then that will be run and its result returned.</p>

<pre><code>params = ActionController::Parameters.new(person: { name: &quot;Francesco&quot; })
params.fetch(:person)               # =&gt; #&lt;ActionController::Parameters {&quot;name&quot;=&gt;&quot;Francesco&quot;} permitted: false&gt;
params.fetch(:none)                 # =&gt; ActionController::ParameterMissing: param is missing or the value is empty or invalid: none
params.fetch(:none, {})             # =&gt; #&lt;ActionController::Parameters {} permitted: false&gt;
params.fetch(:none, &quot;Francesco&quot;)    # =&gt; &quot;Francesco&quot;
params.fetch(:none) { &quot;Francesco&quot; } # =&gt; &quot;Francesco&quot;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 820
    def fetch(key, *args)
      convert_value_to_parameters(
        @parameters.fetch(key) {
          if block_given?
            yield
          else
            args.fetch(0) { raise ActionController::ParameterMissing.new(key, @parameters.keys) }
          end
        }
      )
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L820" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-has_key-3F">
            
              has_key?
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-include-3F">include?</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-has_value-3F">
            
              has_value?(value)
            
          </h3>

          
            <div class="description">
              <p>Returns true if the given value is present for some key in the parameters.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-value-3F">value?</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 997
    def has_value?(value)
      each_value.include?(convert_value_to_parameters(value))
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L997" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-hash">
            
              hash()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 315
    def hash
      [self.class, @parameters, @permitted].hash
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L315" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-include-3F">
            
              include?(key)
            
          </h3>

          
            <div class="description">
              <p>Returns true if the given key is present in the parameters.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-has_key-3F">has_key?</a>, <a href="Parameters.html#method-i-key-3F">key?</a>, <a href="Parameters.html#method-i-member-3F">member?</a>
            </div>
          

          

          
          
            <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L227" target="_blank" class="github_url">🔎 See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-inspect">
            
              inspect()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1055
    def inspect
      &quot;#&lt;#{self.class} #{@parameters} permitted: #{@permitted}&gt;&quot;
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1055" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-keep_if">
            
              keep_if(&amp;block)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-select-21">select!</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-key-3F">
            
              key?
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-include-3F">include?</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-keys">
            
              keys()

            
          </h3>

          
            <div class="description">
              <p>Returns a new array of the keys of the parameters.</p>
            </div>
          

          

          

          
          
            <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L235" target="_blank" class="github_url">🔎 See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-member-3F">
            
              member?
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-include-3F">include?</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-merge">
            
              merge(other_hash)
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance with all keys from <code>other_hash</code> merged into current hash.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1011
    def merge(other_hash)
      new_instance_with_inherited_permitted_status(
        @parameters.merge(other_hash.to_h)
      )
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1011" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-merge-21">
            
              merge!(other_hash)

            
          </h3>

          
            <div class="description">
              <p>Returns the current <code>ActionController::Parameters</code> instance with <code>other_hash</code> merged into current hash.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1022
    def merge!(other_hash, &amp;block)
      @parameters.merge!(other_hash.to_h, &amp;block)
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1022" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-permit">
            
              permit(*filters)
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance that includes only the given <code>filters</code> and sets the <code>permitted</code> attribute for the object to <code>true</code>. This is useful for limiting which attributes should be allowed for mass updating.</p>

<pre><code>params = ActionController::Parameters.new(name: &quot;Francesco&quot;, age: 22, role: &quot;admin&quot;)
permitted = params.permit(:name, :age)
permitted.permitted?      # =&gt; true
permitted.has_key?(:name) # =&gt; true
permitted.has_key?(:age)  # =&gt; true
permitted.has_key?(:role) # =&gt; false
</code></pre>

<p>Only permitted scalars pass the filter. For example, given</p>

<pre><code>params.permit(:name)
</code></pre>

<p><code>:name</code> passes if it is a key of <code>params</code> whose associated value is of type <code>String</code>, <code>Symbol</code>, <code>NilClass</code>, <code>Numeric</code>, <code>TrueClass</code>, <code>FalseClass</code>, <code>Date</code>, <code>Time</code>, <code>DateTime</code>, <code>StringIO</code>, <code>IO</code>, <a href="../ActionDispatch/Http/UploadedFile.html"><code>ActionDispatch::Http::UploadedFile</code></a> or <code>Rack::Test::UploadedFile</code>. Otherwise, the key <code>:name</code> is filtered out.</p>

<p>You may declare that the parameter should be an array of permitted scalars by mapping it to an empty array:</p>

<pre><code>params = ActionController::Parameters.new(tags: [&quot;rails&quot;, &quot;parameters&quot;])
params.permit(tags: [])
</code></pre>

<p>Sometimes it is not possible or convenient to declare the valid keys of a hash parameter or its internal structure. Just map to an empty hash:</p>

<pre><code>params.permit(preferences: {})
</code></pre>

<p>Be careful because this opens the door to arbitrary input. In this case, <code>permit</code> ensures values in the returned structure are permitted scalars and filters out anything else.</p>

<p>You can also use <code>permit</code> on nested parameters:</p>

<pre><code>params = ActionController::Parameters.new({
  person: {
    name: &quot;Francesco&quot;,
    age:  22,
    pets: [{
      name: &quot;Purplish&quot;,
      category: &quot;dogs&quot;
    }]
  }
})

permitted = params.permit(person: [ :name, { pets: :name } ])
permitted.permitted?                    # =&gt; true
permitted[:person][:name]               # =&gt; &quot;Francesco&quot;
permitted[:person][:age]                # =&gt; nil
permitted[:person][:pets][0][:name]     # =&gt; &quot;Purplish&quot;
permitted[:person][:pets][0][:category] # =&gt; nil
</code></pre>

<p>This has the added benefit of rejecting user-modified inputs that send a string when a hash is expected.</p>

<p>When followed by <code>require</code>, you can both filter and require parameters following the typical pattern of a <a href="../Rails.html"><code>Rails</code></a> form. The <code>expect</code> method was made specifically for this use case and is the recommended way to require and permit parameters.</p>

<pre><code> permitted = params.expect(person: [:name, :age])
</code></pre>

<p>When using <code>permit</code> and <code>require</code> separately, pay careful attention to the order of the method calls.</p>

<pre><code> params = ActionController::Parameters.new(person: { name: &quot;Martin&quot;, age: 40, role: &quot;admin&quot; })
 permitted = params.permit(person: [:name, :age]).require(:person) # correct
</code></pre>

<p>When require is used first, it is possible for users of your application to trigger a NoMethodError when the user, for example, sends a string for :person.</p>

<pre><code> params = ActionController::Parameters.new(person: &quot;tampered&quot;)
 permitted = params.require(:person).permit(:name, :age) # not recommended
 # =&gt; NoMethodError: undefined method `permit&#39; for an instance of String
</code></pre>

<p>Note that if you use <code>permit</code> in a key that points to a hash, it won’t allow all the hash. You also need to specify which attributes inside the hash should be permitted.</p>

<pre><code>params = ActionController::Parameters.new({
  person: {
    contact: {
      email: &quot;none@test.com&quot;,
      phone: &quot;555-1234&quot;
    }
  }
})

params.permit(person: :contact).require(:person)
# =&gt; #&lt;ActionController::Parameters {} permitted: true&gt;

params.permit(person: { contact: :phone }).require(:person)
# =&gt; #&lt;ActionController::Parameters {&quot;contact&quot;=&gt;#&lt;ActionController::Parameters {&quot;phone&quot;=&gt;&quot;555-1234&quot;} permitted: true&gt;} permitted: true&gt;

params.permit(person: { contact: [ :email, :phone ] }).require(:person)
# =&gt; #&lt;ActionController::Parameters {&quot;contact&quot;=&gt;#&lt;ActionController::Parameters {&quot;email&quot;=&gt;&quot;none@test.com&quot;, &quot;phone&quot;=&gt;&quot;555-1234&quot;} permitted: true&gt;} permitted: true&gt;
</code></pre>

<p>If your parameters specify multiple parameters indexed by a number, you can permit each set of parameters under the numeric key to be the same using the same syntax as permitting a single item.</p>

<pre><code>params = ActionController::Parameters.new({
  person: {
    &#39;0&#39;: {
      email: &quot;none@test.com&quot;,
      phone: &quot;555-1234&quot;
    },
    &#39;1&#39;: {
      email: &quot;nothing@test.com&quot;,
      phone: &quot;555-6789&quot;
    },
  }
})
params.permit(person: [:email]).to_h
# =&gt; {&quot;person&quot;=&gt;{&quot;0&quot;=&gt;{&quot;email&quot;=&gt;&quot;none@test.com&quot;}, &quot;1&quot;=&gt;{&quot;email&quot;=&gt;&quot;nothing@test.com&quot;}}}
</code></pre>

<p>If you want to specify what keys you want from each numeric key, you can instead specify each one individually</p>

<pre><code>params = ActionController::Parameters.new({
  person: {
    &#39;0&#39;: {
      email: &quot;none@test.com&quot;,
      phone: &quot;555-1234&quot;
    },
    &#39;1&#39;: {
      email: &quot;nothing@test.com&quot;,
      phone: &quot;555-6789&quot;
    },
  }
})
params.permit(person: { &#39;0&#39;: [:email], &#39;1&#39;: [:phone]}).to_h
# =&gt; {&quot;person&quot;=&gt;{&quot;0&quot;=&gt;{&quot;email&quot;=&gt;&quot;none@test.com&quot;}, &quot;1&quot;=&gt;{&quot;phone&quot;=&gt;&quot;555-6789&quot;}}}
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 668
    def permit(*filters)
      permit_filters(filters, on_unpermitted: self.class.action_on_unpermitted_parameters, explicit_arrays: false)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L668" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-permit-21">
            
              permit!()
            
          </h3>

          
            <div class="description">
              <p>Sets the <code>permitted</code> attribute to <code>true</code>. This can be used to pass mass assignment. Returns <code>self</code>.</p>

<pre><code>class Person &lt; ActiveRecord::Base
end

params = ActionController::Parameters.new(name: &quot;Francesco&quot;)
params.permitted?  # =&gt; false
Person.new(params) # =&gt; ActiveModel::ForbiddenAttributesError
params.permit!
params.permitted?  # =&gt; true
Person.new(params) # =&gt; #&lt;Person id: nil, name: &quot;Francesco&quot;&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 461
    def permit!
      each_pair do |key, value|
        Array.wrap(value).flatten.each do |v|
          v.permit! if v.respond_to? :permit!
        end
      end

      @permitted = true
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L461" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-permitted-3F">
            
              permitted?()
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the parameter is permitted, <code>false</code> otherwise.</p>

<pre><code>params = ActionController::Parameters.new
params.permitted? # =&gt; false
params.permit!
params.permitted? # =&gt; true
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 445
    def permitted?
      @permitted
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L445" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-reject">
            
              reject(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance with items that the block evaluates to true removed.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 961
    def reject(&amp;block)
      new_instance_with_inherited_permitted_status(@parameters.reject(&amp;block))
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L961" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-reject-21">
            
              reject!(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Removes items that the block evaluates to true and returns self.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-delete_if">delete_if</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 966
    def reject!(&amp;block)
      @parameters.reject!(&amp;block)
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L966" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-require">
            
              require(key)
            
          </h3>

          
            <div class="description">
              <p>This method accepts both a single key and an array of keys.</p>

<p>When passed a single key, if it exists and its associated value is either present or the singleton <code>false</code>, returns said value:</p>

<pre><code>ActionController::Parameters.new(person: { name: &quot;Francesco&quot; }).require(:person)
# =&gt; #&lt;ActionController::Parameters {&quot;name&quot;=&gt;&quot;Francesco&quot;} permitted: false&gt;
</code></pre>

<p>Otherwise raises <a href="ParameterMissing.html"><code>ActionController::ParameterMissing</code></a>:</p>

<pre><code>ActionController::Parameters.new.require(:person)
# ActionController::ParameterMissing: param is missing or the value is empty or invalid: person

ActionController::Parameters.new(person: nil).require(:person)
# ActionController::ParameterMissing: param is missing or the value is empty or invalid: person

ActionController::Parameters.new(person: &quot;\t&quot;).require(:person)
# ActionController::ParameterMissing: param is missing or the value is empty or invalid: person

ActionController::Parameters.new(person: {}).require(:person)
# ActionController::ParameterMissing: param is missing or the value is empty or invalid: person
</code></pre>

<p>When given an array of keys, the method tries to require each one of them in order. If it succeeds, an array with the respective return values is returned:</p>

<pre><code>params = ActionController::Parameters.new(user: { ... }, profile: { ... })
user_params, profile_params = params.require([:user, :profile])
</code></pre>

<p>Otherwise, the method re-raises the first exception found:</p>

<pre><code>params = ActionController::Parameters.new(user: {}, profile: {})
user_params, profile_params = params.require([:user, :profile])
# ActionController::ParameterMissing: param is missing or the value is empty or invalid: user
</code></pre>

<p>This method is not recommended for fetching terminal values because it does not permit the values. For example, this can cause problems:</p>

<pre><code># CAREFUL
params = ActionController::Parameters.new(person: { name: &quot;Finn&quot; })
name = params.require(:person).require(:name) # CAREFUL
</code></pre>

<p>It is recommended to use <code>expect</code> instead:</p>

<pre><code>def person_params
  # params.expect(person: :name).require(:name)
end
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-required">required</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 519
    def require(key)
      return key.map { |k| require(k) } if key.is_a?(Array)
      value = self[key]
      if value.present? || value == false
        value
      else
        raise ParameterMissing.new(key, @parameters.keys)
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L519" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-required">
            
              required(key)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-require">require</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-reverse_merge">
            
              reverse_merge(other_hash)
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance with all keys from current hash merged into <code>other_hash</code>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-with_defaults">with_defaults</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1033
    def reverse_merge(other_hash)
      new_instance_with_inherited_permitted_status(
        other_hash.to_h.merge(@parameters)
      )
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1033" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-reverse_merge-21">
            
              reverse_merge!(other_hash)
            
          </h3>

          
            <div class="description">
              <p>Returns the current <code>ActionController::Parameters</code> instance with current hash merged into <code>other_hash</code>.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-with_defaults-21">with_defaults!</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1042
    def reverse_merge!(other_hash)
      @parameters.merge!(other_hash.to_h) { |key, left, right| left }
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1042" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-select">
            
              select(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance with only items that the block evaluates to true.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 948
    def select(&amp;block)
      new_instance_with_inherited_permitted_status(@parameters.select(&amp;block))
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L948" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-select-21">
            
              select!(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Equivalent to Hash#keep_if, but returns <code>nil</code> if no changes were made.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-keep_if">keep_if</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 953
    def select!(&amp;block)
      @parameters.select!(&amp;block)
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L953" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-slice">
            
              slice(*keys)
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance that includes only the given <code>keys</code>. If the given <code>keys</code> don’t exist, returns an empty hash.</p>

<pre><code>params = ActionController::Parameters.new(a: 1, b: 2, c: 3)
params.slice(:a, :b) # =&gt; #&lt;ActionController::Parameters {&quot;a&quot;=&gt;1, &quot;b&quot;=&gt;2} permitted: false&gt;
params.slice(:d)     # =&gt; #&lt;ActionController::Parameters {} permitted: false&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 852
    def slice(*keys)
      new_instance_with_inherited_permitted_status(@parameters.slice(*keys))
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L852" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-slice-21">
            
              slice!(*keys)
            
          </h3>

          
            <div class="description">
              <p>Returns the current <code>ActionController::Parameters</code> instance which contains only the given <code>keys</code>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 858
    def slice!(*keys)
      @parameters.slice!(*keys)
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L858" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-to_h">
            
              to_h(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Returns a safe <a href="../ActiveSupport/HashWithIndifferentAccess.html"><code>ActiveSupport::HashWithIndifferentAccess</code></a> representation of the parameters with all unpermitted keys removed.</p>

<pre><code>params = ActionController::Parameters.new({
  name: &quot;Senjougahara Hitagi&quot;,
  oddity: &quot;Heavy stone crab&quot;
})
params.to_h
# =&gt; ActionController::UnfilteredParameters: unable to convert unpermitted parameters to hash

safe_params = params.permit(:name)
safe_params.to_h # =&gt; {&quot;name&quot;=&gt;&quot;Senjougahara Hitagi&quot;}
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 331
    def to_h(&amp;block)
      if permitted?
        convert_parameters_to_hashes(@parameters, :to_h, &amp;block)
      else
        raise UnfilteredParameters
      end
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L331" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-to_hash">
            
              to_hash()
            
          </h3>

          
            <div class="description">
              <p>Returns a safe <code>Hash</code> representation of the parameters with all unpermitted keys removed.</p>

<pre><code>params = ActionController::Parameters.new({
  name: &quot;Senjougahara Hitagi&quot;,
  oddity: &quot;Heavy stone crab&quot;
})
params.to_hash
# =&gt; ActionController::UnfilteredParameters: unable to convert unpermitted parameters to hash

safe_params = params.permit(:name)
safe_params.to_hash # =&gt; {&quot;name&quot;=&gt;&quot;Senjougahara Hitagi&quot;}
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 351
    def to_hash
      to_h.to_hash
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L351" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-to_param">
            
              to_param(*args)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-to_query">to_query</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-to_query">
            
              to_query(*args)
            
          </h3>

          
            <div class="description">
              <p>Returns a string representation of the receiver suitable for use as a URL query string:</p>

<pre><code>params = ActionController::Parameters.new({
  name: &quot;David&quot;,
  nationality: &quot;Danish&quot;
})
params.to_query
# =&gt; ActionController::UnfilteredParameters: unable to convert unpermitted parameters to hash

safe_params = params.permit(:name, :nationality)
safe_params.to_query
# =&gt; &quot;name=David&amp;nationality=Danish&quot;
</code></pre>

<p>An optional namespace can be passed to enclose key names:</p>

<pre><code>params = ActionController::Parameters.new({
  name: &quot;David&quot;,
  nationality: &quot;Danish&quot;
})
safe_params = params.permit(:name, :nationality)
safe_params.to_query(&quot;user&quot;)
# =&gt; &quot;user%5Bname%5D=David&amp;user%5Bnationality%5D=Danish&quot;
</code></pre>

<p>The string pairs <code>&quot;key=value&quot;</code> that conform the query string are sorted lexicographically in ascending order.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-to_param">to_param</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 381
    def to_query(*args)
      to_h.to_query(*args)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L381" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-to_s">
            
              to_s()

            
          </h3>

          
            <div class="description">
              <p>Returns the content of the parameters as a string.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 250
    delegate :keys, :empty?, :exclude?, :include?,
      :as_json, :to_s, :each_key, to: :@parameters
</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L250" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-to_unsafe_h">
            
              to_unsafe_h()
            
          </h3>

          
            <div class="description">
              <p>Returns an unsafe, unfiltered <a href="../ActiveSupport/HashWithIndifferentAccess.html"><code>ActiveSupport::HashWithIndifferentAccess</code></a> representation of the parameters.</p>

<pre><code>params = ActionController::Parameters.new({
  name: &quot;Senjougahara Hitagi&quot;,
  oddity: &quot;Heavy stone crab&quot;
})
params.to_unsafe_h
# =&gt; {&quot;name&quot;=&gt;&quot;Senjougahara Hitagi&quot;, &quot;oddity&quot; =&gt; &quot;Heavy stone crab&quot;}
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Parameters.html#method-i-to_unsafe_hash">to_unsafe_hash</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 395
    def to_unsafe_h
      convert_parameters_to_hashes(@parameters, :to_unsafe_h)
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L395" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-to_unsafe_hash">
            
              to_unsafe_hash()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-to_unsafe_h">to_unsafe_h</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-transform_keys">
            
              transform_keys(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance with the results of running <code>block</code> once for every key. The values are unchanged.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 906
    def transform_keys(&amp;block)
      return to_enum(:transform_keys) unless block_given?
      new_instance_with_inherited_permitted_status(
        @parameters.transform_keys(&amp;block)
      )
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L906" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-transform_keys-21">
            
              transform_keys!(&amp;block)
            
          </h3>

          
            <div class="description">
              <p>Performs keys transformation and returns the altered <code>ActionController::Parameters</code> instance.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 915
    def transform_keys!(&amp;block)
      return to_enum(:transform_keys!) unless block_given?
      @parameters.transform_keys!(&amp;block)
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L915" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-transform_values">
            
              transform_values()
            
          </h3>

          
            <div class="description">
              <p>Returns a new <code>ActionController::Parameters</code> instance with the results of running <code>block</code> once for every value. The keys are unchanged.</p>

<pre><code>params = ActionController::Parameters.new(a: 1, b: 2, c: 3)
params.transform_values { |x| x * 2 }
# =&gt; #&lt;ActionController::Parameters {&quot;a&quot;=&gt;2, &quot;b&quot;=&gt;4, &quot;c&quot;=&gt;6} permitted: false&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 889
    def transform_values
      return to_enum(:transform_values) unless block_given?
      new_instance_with_inherited_permitted_status(
        @parameters.transform_values { |v| yield convert_value_to_parameters(v) }
      )
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L889" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-transform_values-21">
            
              transform_values!()
            
          </h3>

          
            <div class="description">
              <p>Performs values transformation and returns the altered <code>ActionController::Parameters</code> instance.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 898
    def transform_values!
      return to_enum(:transform_values!) unless block_given?
      @parameters.transform_values! { |v| yield convert_value_to_parameters(v) }
      self
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L898" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-value-3F">
            
              value?(value)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-has_value-3F">has_value?</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-values">
            
              values()
            
          </h3>

          
            <div class="description">
              <p>Returns a new array of the values of the parameters.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 424
    def values
      to_enum(:each_value).to_a
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L424" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-values_at">
            
              values_at(*keys)
            
          </h3>

          
            <div class="description">
              <p>Returns values that were assigned to the given <code>keys</code>. Note that all the <code>Hash</code> objects will be converted to <code>ActionController::Parameters</code>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1005
    def values_at(*keys)
      convert_value_to_parameters(@parameters.values_at(*keys))
    end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1005" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-with_defaults">
            
              with_defaults(other_hash)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-reverse_merge">reverse_merge</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-with_defaults-21">
            
              with_defaults!(other_hash)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-reverse_merge-21">reverse_merge!</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-without">
            
              without(*keys)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Parameters.html#method-i-except">except</a>
            </div>
          

          
          
        </div>
        
      
      <h2 id="instance-protected-methods">Instance Protected methods</h2>
      
        <div class="method">
          <h3 id="method-i-each_nested_attribute">
            
              each_nested_attribute()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1123
      def each_nested_attribute
        hash = self.class.new
        self.each { |k, v| hash[k] = yield v if Parameters.nested_attribute?(k, v) }
        hash
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1123" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-nested_attributes-3F">
            
              nested_attributes?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1119
      def nested_attributes?
        @parameters.any? { |k, v| Parameters.nested_attribute?(k, v) }
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1119" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-permit_filters">
            
              permit_filters(filters, on_unpermitted: nil, explicit_arrays: true)
            
          </h3>

          
            <div class="description">
              <p>Filters self and optionally checks for unpermitted keys</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionpack/lib/action_controller/metal/strong_parameters.rb, line 1130
      def permit_filters(filters, on_unpermitted: nil, explicit_arrays: true)
        params = self.class.new

        filters.flatten.each do |filter|
          case filter
          when Symbol, String
            # Declaration [:name, &quot;age&quot;]
            permitted_scalar_filter(params, filter)
          when Hash
            # Declaration [{ person: ... }]
            hash_filter(params, filter, on_unpermitted:, explicit_arrays:)
          end
        end

        unpermitted_parameters!(params, on_unpermitted:)

        params.permit!
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/dd8f7185faeca6ee968a6e9367f6d8601a83b8db/actionpack/lib/action_controller/metal/strong_parameters.rb#L1130" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
  
</div>

    </div>
</div>
