---
title: ActiveRecord::ModelSchema
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 8.1.0.rc1</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActiveRecord::ModelSchema
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/activerecord/lib/active_record/model_schema_rb.html">activerecord/lib/active_record/model_schema.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  

  

  
  


  
    <h2 id="namespace">Namespace</h2>

    
      <h3 id="module">Module</h3>
      <ul>
      
        <li><a href="ModelSchema/ClassMethods.html">ActiveRecord::ModelSchema::ClassMethods</a></li>
      
      </ul>
    

    
  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-id_value">id_value</a>
        </li>
      
        <li>
          <a href="#method-c-immutable_strings_by_default-3D">immutable_strings_by_default=</a>
        </li>
      
        <li>
          <a href="#method-c-implicit_order_column">implicit_order_column</a>
        </li>
      
        <li>
          <a href="#method-c-implicit_order_column-3D">implicit_order_column=</a>
        </li>
      
        <li>
          <a href="#method-c-inheritance_column">inheritance_column</a>
        </li>
      
        <li>
          <a href="#method-c-inheritance_column-3D">inheritance_column=</a>
        </li>
      
        <li>
          <a href="#method-c-internal_metadata_table_name">internal_metadata_table_name</a>
        </li>
      
        <li>
          <a href="#method-c-internal_metadata_table_name-3D">internal_metadata_table_name=</a>
        </li>
      
        <li>
          <a href="#method-c-pluralize_table_names">pluralize_table_names</a>
        </li>
      
        <li>
          <a href="#method-c-pluralize_table_names-3D">pluralize_table_names=</a>
        </li>
      
        <li>
          <a href="#method-c-primary_key_prefix_type">primary_key_prefix_type</a>
        </li>
      
        <li>
          <a href="#method-c-primary_key_prefix_type-3D">primary_key_prefix_type=</a>
        </li>
      
        <li>
          <a href="#method-c-schema_migrations_table_name">schema_migrations_table_name</a>
        </li>
      
        <li>
          <a href="#method-c-schema_migrations_table_name-3D">schema_migrations_table_name=</a>
        </li>
      
        <li>
          <a href="#method-c-table_name_prefix">table_name_prefix</a>
        </li>
      
        <li>
          <a href="#method-c-table_name_prefix-3D">table_name_prefix=</a>
        </li>
      
        <li>
          <a href="#method-c-table_name_suffix">table_name_suffix</a>
        </li>
      
        <li>
          <a href="#method-c-table_name_suffix-3D">table_name_suffix=</a>
        </li>
      
    </ul>
  

  

  
    

    

    

    

    <!-- Methods -->
    
      <h2 id="class-public-methods">Class Public methods</h2>
      
        <div class="method">
          <h3 id="method-c-immutable_strings_by_default-3D"><code><b>immutable_strings_by_default=</b>(bool)
</code></h3>

          <div class="description">
<p>Determines whether columns should infer their type as <code>:string</code> or <code>:immutable_string</code>. This setting does not affect the behavior of <code>attribute :foo, :string</code>. Defaults to false.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L131" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-implicit_order_column"><code><b>implicit_order_column</b>
</code></h3>

          <div class="description">
<p>The name of the column(s) records are ordered by if no explicit order clause is used during an ordered finder call. If not set the primary key is used.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L113" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-implicit_order_column-3D"><code><b>implicit_order_column=</b>(column_name)
</code></h3>

          <div class="description">
<p>Sets the column(s) to sort records by when no explicit order clause is used during an ordered finder call. Useful for models where the primary key isnâ€™t an auto-incrementing integer (such as UUID).</p>

<p>By default, records are subsorted by primary key to ensure deterministic results. To disable this subsort behavior, set â€˜implicit_order_column` to `[â€œcolumn_nameâ€, nil]`.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L120" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-inheritance_column"><code><b>inheritance_column</b>
</code></h3>

          <div class="description">
<p>The name of the table column which stores the class name on single-table inheritance situations.</p>

<p>The default inheritance column name is <code>type</code>, which means itâ€™s a reserved word inside Active Record. To be able to use single-table inheritance with another column name, or to use the column <code>type</code> in your own model for something else, you can set <a href="ModelSchema.html#method-c-inheritance_column"><code>inheritance_column</code></a>:</p>

<pre><code>self.inheritance_column = &#39;zoink&#39;
</code></pre>

<p>If you wish to disable single-table inheritance altogether you can set <a href="ModelSchema.html#method-c-inheritance_column"><code>inheritance_column</code></a> to <code>nil</code></p>

<pre><code>self.inheritance_column = nil
</code></pre>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L139" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-inheritance_column-3D"><code><b>inheritance_column=</b>(column)
</code></h3>

          <div class="description">
<p>Defines the name of the table column which will store the class name on single-table inheritance situations.</p>
</div>

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">ğŸ“ Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/model_schema.rb, line 164
included do
  class_attribute :primary_key_prefix_type, instance_writer: false
  class_attribute :table_name_prefix, instance_writer: false, default: &quot;&quot;
  class_attribute :table_name_suffix, instance_writer: false, default: &quot;&quot;
  class_attribute :schema_migrations_table_name, instance_accessor: false, default: &quot;schema_migrations&quot;
  class_attribute :internal_metadata_table_name, instance_accessor: false, default: &quot;ar_internal_metadata&quot;
  class_attribute :pluralize_table_names, instance_writer: false, default: true
  class_attribute :implicit_order_column, instance_accessor: false
  class_attribute :immutable_strings_by_default, instance_accessor: false

  class_attribute :inheritance_column, instance_accessor: false, default: &quot;type&quot;
  singleton_class.class_eval do
    alias_method :_inheritance_column=, :inheritance_column=
    private :_inheritance_column=
    alias_method :inheritance_column=, :real_inheritance_column=
  end

  self.protected_environments = [&quot;production&quot;]

  self.ignored_columns = [].freeze
  self.only_columns = [].freeze

  delegate :type_for_attribute, :column_for_attribute, to: :class

  initialize_load_schema_monitor
end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L164" target="_blank" class="github_url">ğŸ” See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-internal_metadata_table_name"><code><b>internal_metadata_table_name</b>
</code></h3>

          <div class="description">
<p>The name of the internal metadata table. By default, the value is <code>&quot;ar_internal_metadata&quot;</code>.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L85" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-internal_metadata_table_name-3D"><code><b>internal_metadata_table_name=</b>(table_name)
</code></h3>

          <div class="description">
<p>Sets the name of the internal metadata table.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L91" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-pluralize_table_names"><code><b>pluralize_table_names</b>
</code></h3>

          <div class="description">
<p>Indicates whether table names should be the pluralized versions of the corresponding class names. If true, the default table name for a Product class will be â€œproductsâ€. If false, it would just be â€œproductâ€. See table_name for the full rules on table/class naming. This is true, by default.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L97" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-pluralize_table_names-3D"><code><b>pluralize_table_names=</b>(value)
</code></h3>

          <div class="description">
<p>Set whether table names should be the pluralized versions of the corresponding class names. If true, the default table name for a Product class will be â€œproductsâ€. If false, it would just be â€œproductâ€. See table_name for the full rules on table/class naming. This is true, by default.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L105" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-primary_key_prefix_type"><code><b>primary_key_prefix_type</b>
</code></h3>

          <div class="description">
<p>The prefix type that will be prepended to every primary key column name. The options are <code>:table_name</code> and <code>:table_name_with_underscore</code>. If the first is specified, the Product class will look for â€œproductidâ€ instead of â€œidâ€ as the primary column. If the latter is specified, the Product class will look for â€œproduct_idâ€ instead of â€œidâ€. Remember that this is a global setting for all Active Records.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L17" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-primary_key_prefix_type-3D"><code><b>primary_key_prefix_type=</b>(prefix_type)
</code></h3>

          <div class="description">
<p>Sets the prefix type that will be prepended to every primary key column name. The options are <code>:table_name</code> and <code>:table_name_with_underscore</code>. If the first is specified, the Product class will look for â€œproductidâ€ instead of â€œidâ€ as the primary column. If the latter is specified, the Product class will look for â€œproduct_idâ€ instead of â€œidâ€. Remember that this is a global setting for all Active Records.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L27" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-schema_migrations_table_name"><code><b>schema_migrations_table_name</b>
</code></h3>

          <div class="description">
<p>The name of the schema migrations table. By default, the value is <code>&quot;schema_migrations&quot;</code>.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L73" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-schema_migrations_table_name-3D"><code><b>schema_migrations_table_name=</b>(table_name)
</code></h3>

          <div class="description">
<p>Sets the name of the schema migrations table.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L79" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-table_name_prefix"><code><b>table_name_prefix</b>
</code></h3>

          <div class="description">
<p>The prefix string to prepend to every table name.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L37" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-table_name_prefix-3D"><code><b>table_name_prefix=</b>(prefix)
</code></h3>

          <div class="description">
<p>Sets the prefix string to prepend to every table name. So if set to â€œbasecamp_â€, all table names will be named like â€œbasecamp_projectsâ€, â€œbasecamp_peopleâ€, etc. This is a convenient way of creating a namespace for tables in a shared database. By default, the prefix is the empty string.</p>

<p>If you are organizing your models within modules you can add a prefix to the models within a namespace by defining a singleton method in the parent module called <a href="ModelSchema.html#method-c-table_name_prefix"><code>table_name_prefix</code></a> which returns your chosen prefix.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L43" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-table_name_suffix"><code><b>table_name_suffix</b>
</code></h3>

          <div class="description">
<p>The suffix string to append to every table name.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L56" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
        <div class="method">
          <h3 id="method-c-table_name_suffix-3D"><code><b>table_name_suffix=</b>(suffix)
</code></h3>

          <div class="description">
<p>Works like <a href="ModelSchema.html#method-c-table_name_prefix-3D"><code>table_name_prefix=</code></a>, but appends instead of prepends (set to â€œ_basecampâ€ gives â€œprojects_basecampâ€, â€œpeople_basecampâ€). By default, the suffix is the empty string.</p>

<p>If you are organizing your models within modules, you can add a suffix to the models within a namespace by defining a singleton method in the parent module called <a href="ModelSchema.html#method-c-table_name_suffix"><code>table_name_suffix</code></a> which returns your chosen suffix.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L62" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
      
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-id_value"><code><b>id_value</b>
</code></h3>

          <div class="description">
<p>Returns the underlying column value for a column named â€œidâ€. Useful when defining a composite primary key including an â€œidâ€ column so that the value is readable.</p>
</div>

          

          

          
          
            <a href="https://github.com/rails/rails/blob/4720fe9c00605d6ad2d50904e98a4d5522ffbce2/activerecord/lib/active_record/model_schema.rb#L10" target="_blank" class="github_url">ğŸ” See on GitHub</a>
          
        </div>
        
      
    
  
</div>

    </div>
</div>
