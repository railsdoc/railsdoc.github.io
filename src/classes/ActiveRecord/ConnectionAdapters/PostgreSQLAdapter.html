---
title: ActiveRecord::ConnectionAdapters::PostgreSQLAdapter
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 7.1.0</span><br />
        
        <div class="type">Class</div>
        <h1>
            ActiveRecord::ConnectionAdapters::PostgreSQLAdapter
            
                <span class="parent">&lt;
                    
                    <a href="AbstractAdapter.html">ActiveRecord::ConnectionAdapters::AbstractAdapter</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activerecord/lib/active_record/connection_adapters/postgresql_adapter_rb.html">activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="class-ActiveRecord::ConnectionAdapters::PostgreSQLAdapter-label-Active+Record+PostgreSQL+Adapter">Active Record PostgreSQL Adapter</h1>

<p>The PostgreSQL adapter works with the native C (<a href="https://github.com/ged/ruby-pg">github.com/ged/ruby-pg</a>) driver.</p>

<p>Options:</p>
<ul><li>
<p><code>:host</code> - Defaults to a Unix-domain socket in /tmp. On machines without Unix-domain sockets, the default is to connect to localhost.</p>
</li><li>
<p><code>:port</code> - Defaults to 5432.</p>
</li><li>
<p><code>:username</code> - Defaults to be the same as the operating system name of the user running the application.</p>
</li><li>
<p><code>:password</code> - Password to be used if the server demands password authentication.</p>
</li><li>
<p><code>:database</code> - Defaults to be the same as the username.</p>
</li><li>
<p><code>:schema_search_path</code> - An optional schema search path for the connection given as a string of comma-separated schema names. This is backward-compatible with the <code>:schema_order</code> option.</p>
</li><li>
<p><code>:encoding</code> - An optional client encoding that is used in a <code>SET client_encoding TO &lt;encoding&gt;</code> call on the connection.</p>
</li><li>
<p><code>:min_messages</code> - An optional client min messages that is used in a <code>SET client_min_messages TO &lt;min_messages&gt;</code> call on the connection.</p>
</li><li>
<p><code>:variables</code> - An optional hash of additional parameters that will be used in <code>SET SESSION key = val</code> calls on the connection.</p>
</li><li>
<p><code>:insert_returning</code> - An optional boolean to control the use of <code>RETURNING</code> for <code>INSERT</code> statements defaults to true.</p>
</li></ul>

<p>Any further options are used as connection parameters to libpq. See <a href="https://www.postgresql.org/docs/current/static/libpq-connect.html">www.postgresql.org/docs/current/static/libpq-connect.html</a> for the list of parameters.</p>

<p>In addition, default connection parameters of libpq can be set per environment variables. See <a href="https://www.postgresql.org/docs/current/static/libpq-envars.html">www.postgresql.org/docs/current/static/libpq-envars.html</a> .</p>

    </div>
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-active-3F">active?</a>
        </li>
      
        <li>
          <a href="#method-i-add_enum_value">add_enum_value</a>
        </li>
      
        <li>
          <a href="#method-i-create_enum">create_enum</a>
        </li>
      
        <li>
          <a href="#method-c-create_unlogged_tables">create_unlogged_tables</a>
        </li>
      
        <li>
          <a href="#method-c-datetime_type">datetime_type</a>
        </li>
      
        <li>
          <a href="#method-c-dbconsole">dbconsole</a>
        </li>
      
        <li>
          <a href="#method-i-disable_extension">disable_extension</a>
        </li>
      
        <li>
          <a href="#method-i-disconnect-21">disconnect!</a>
        </li>
      
        <li>
          <a href="#method-i-drop_enum">drop_enum</a>
        </li>
      
        <li>
          <a href="#method-i-enable_extension">enable_extension</a>
        </li>
      
        <li>
          <a href="#method-i-enum_types">enum_types</a>
        </li>
      
        <li>
          <a href="#method-i-extension_available-3F">extension_available?</a>
        </li>
      
        <li>
          <a href="#method-i-extension_enabled-3F">extension_enabled?</a>
        </li>
      
        <li>
          <a href="#method-i-extensions">extensions</a>
        </li>
      
        <li>
          <a href="#method-i-index_algorithms">index_algorithms</a>
        </li>
      
        <li>
          <a href="#method-i-max_identifier_length">max_identifier_length</a>
        </li>
      
        <li>
          <a href="#method-c-new">new</a>
        </li>
      
        <li>
          <a href="#method-c-new_client">new_client</a>
        </li>
      
        <li>
          <a href="#method-i-rename_enum">rename_enum</a>
        </li>
      
        <li>
          <a href="#method-i-rename_enum_value">rename_enum_value</a>
        </li>
      
        <li>
          <a href="#method-i-reset-21">reset!</a>
        </li>
      
        <li>
          <a href="#method-i-session_auth-3D">session_auth=</a>
        </li>
      
        <li>
          <a href="#method-i-set_standard_conforming_strings">set_standard_conforming_strings</a>
        </li>
      
        <li>
          <a href="#method-i-supports_advisory_locks-3F">supports_advisory_locks?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_bulk_alter-3F">supports_bulk_alter?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_check_constraints-3F">supports_check_constraints?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_comments-3F">supports_comments?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_common_table_expressions-3F">supports_common_table_expressions?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_datetime_with_precision-3F">supports_datetime_with_precision?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_ddl_transactions-3F">supports_ddl_transactions?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_deferrable_constraints-3F">supports_deferrable_constraints?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_exclusion_constraints-3F">supports_exclusion_constraints?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_explain-3F">supports_explain?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_expression_index-3F">supports_expression_index?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_extensions-3F">supports_extensions?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_foreign_keys-3F">supports_foreign_keys?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_foreign_tables-3F">supports_foreign_tables?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_index_include-3F">supports_index_include?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_index_sort_order-3F">supports_index_sort_order?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_insert_conflict_target-3F">supports_insert_conflict_target?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_insert_on_conflict-3F">supports_insert_on_conflict?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_insert_on_duplicate_skip-3F">supports_insert_on_duplicate_skip?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_insert_on_duplicate_update-3F">supports_insert_on_duplicate_update?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_insert_returning-3F">supports_insert_returning?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_json-3F">supports_json?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_lazy_transactions-3F">supports_lazy_transactions?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_materialized_views-3F">supports_materialized_views?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_nulls_not_distinct-3F">supports_nulls_not_distinct?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_optimizer_hints-3F">supports_optimizer_hints?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_partial_index-3F">supports_partial_index?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_partitioned_indexes-3F">supports_partitioned_indexes?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_pgcrypto_uuid-3F">supports_pgcrypto_uuid?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_restart_db_transaction-3F">supports_restart_db_transaction?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_savepoints-3F">supports_savepoints?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_transaction_isolation-3F">supports_transaction_isolation?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_unique_constraints-3F">supports_unique_constraints?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_validate_constraints-3F">supports_validate_constraints?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_views-3F">supports_views?</a>
        </li>
      
        <li>
          <a href="#method-i-supports_virtual_columns-3F">supports_virtual_columns?</a>
        </li>
      
        <li>
          <a href="#method-i-table_name_length">table_name_length</a>
        </li>
      
        <li>
          <a href="#method-i-use_insert_returning-3F">use_insert_returning?</a>
        </li>
      
    </ul>
  

  
    <!-- Includes -->
    <h2 id="included-modules">Included Modules</h2>
    <ul>
      
        <li>
          
            <a href="PostgreSQL/Quoting.html">
              ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting
            </a>
          
        </li>
      
        <li>
          
            <a href="PostgreSQL/SchemaStatements.html">
              ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements
            </a>
          
        </li>
      
        <li>
          
            <a href="PostgreSQL/DatabaseStatements.html">
              ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements
            </a>
          
        </li>
      
    </ul>
  

  
    

    

    
      <!-- Section constants -->
      <h2 id="constants">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">ADAPTER_NAME</td>
            <td>=</td>
            <td class="attr-value">&quot;PostgreSQL&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">DEADLOCK_DETECTED</td>
            <td>=</td>
            <td class="attr-value">&quot;40P01&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">DUPLICATE_DATABASE</td>
            <td>=</td>
            <td class="attr-value">&quot;42P04&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">FOREIGN_KEY_VIOLATION</td>
            <td>=</td>
            <td class="attr-value">&quot;23503&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">LOCK_NOT_AVAILABLE</td>
            <td>=</td>
            <td class="attr-value">&quot;55P03&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">NATIVE_DATABASE_TYPES</td>
            <td>=</td>
            <td class="attr-value">{
primary_key: &quot;bigserial primary key&quot;,
string:      { name: &quot;character varying&quot; },
text:        { name: &quot;text&quot; },
integer:     { name: &quot;integer&quot;, limit: 4 },
bigint:      { name: &quot;bigint&quot; },
float:       { name: &quot;float&quot; },
decimal:     { name: &quot;decimal&quot; },
datetime:    {}, # set dynamically based on datetime_type
timestamp:   { name: &quot;timestamp&quot; },
timestamptz: { name: &quot;timestamptz&quot; },
time:        { name: &quot;time&quot; },
date:        { name: &quot;date&quot; },
daterange:   { name: &quot;daterange&quot; },
numrange:    { name: &quot;numrange&quot; },
tsrange:     { name: &quot;tsrange&quot; },
tstzrange:   { name: &quot;tstzrange&quot; },
int4range:   { name: &quot;int4range&quot; },
int8range:   { name: &quot;int8range&quot; },
binary:      { name: &quot;bytea&quot; },
boolean:     { name: &quot;boolean&quot; },
xml:         { name: &quot;xml&quot; },
tsvector:    { name: &quot;tsvector&quot; },
hstore:      { name: &quot;hstore&quot; },
inet:        { name: &quot;inet&quot; },
cidr:        { name: &quot;cidr&quot; },
macaddr:     { name: &quot;macaddr&quot; },
uuid:        { name: &quot;uuid&quot; },
json:        { name: &quot;json&quot; },
jsonb:       { name: &quot;jsonb&quot; },
ltree:       { name: &quot;ltree&quot; },
citext:      { name: &quot;citext&quot; },
point:       { name: &quot;point&quot; },
line:        { name: &quot;line&quot; },
lseg:        { name: &quot;lseg&quot; },
box:         { name: &quot;box&quot; },
path:        { name: &quot;path&quot; },
polygon:     { name: &quot;polygon&quot; },
circle:      { name: &quot;circle&quot; },
bit:         { name: &quot;bit&quot; },
bit_varying: { name: &quot;bit varying&quot; },
money:       { name: &quot;money&quot; },
interval:    { name: &quot;interval&quot; },
oid:         { name: &quot;oid&quot; },
enum:        {} # special type https://www.postgresql.org/docs/current/datatype-enum.html
}</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">NOT_NULL_VIOLATION</td>
            <td>=</td>
            <td class="attr-value">&quot;23502&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">NUMERIC_VALUE_OUT_OF_RANGE</td>
            <td>=</td>
            <td class="attr-value">&quot;22003&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">QUERY_CANCELED</td>
            <td>=</td>
            <td class="attr-value">&quot;57014&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">SERIALIZATION_FAILURE</td>
            <td>=</td>
            <td class="attr-value">&quot;40001&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">UNIQUE_VIOLATION</td>
            <td>=</td>
            <td class="attr-value">&quot;23505&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">VALUE_LIMIT_VIOLATION</td>
            <td>=</td>
            <td class="attr-value">&quot;22001&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>See <a href="https://www.postgresql.org/docs/current/static/errcodes-appendix.html">www.postgresql.org/docs/current/static/errcodes-appendix.html</a></p></td>
            </tr>
          
        
      </table>
    

    

    <!-- Methods -->
    
      <h2 id="class-public-methods">Class Public methods</h2>
      
        <div class="method">
          <h3 id="method-c-create_unlogged_tables">
            
              create_unlogged_tables
            
          </h3>

          
            <div class="description">
              <p>PostgreSQL allows the creation of “unlogged” tables, which do not record data in the PostgreSQL Write-Ahead Log. This can make the tables faster, but significantly increases the risk of data loss if the database crashes. As a result, this should not be used in production environments. If you would like all created tables to be unlogged in the test environment you can add the following line to your test.rb file:</p>

<pre><code>ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.create_unlogged_tables = true
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-create_unlogged_tables_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 115</span>
<span class="ruby-identifier">class_attribute</span> <span class="ruby-value">:create_unlogged_tables</span>, <span class="ruby-value">default:</span> <span class="ruby-keyword">false</span>
</code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-datetime_type">
            
              datetime_type
            
          </h3>

          
            <div class="description">
              <p>PostgreSQL supports multiple types for DateTimes. By default, if you use <code>datetime</code> in migrations, Rails will translate this to a PostgreSQL “timestamp without time zone”. Change this in an initializer to use another <a href="PostgreSQLAdapter.html#NATIVE_DATABASE_TYPES"><code>NATIVE_DATABASE_TYPES</code></a>. For example, to store DateTimes as “timestamp with time zone”:</p>

<pre><code>ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.datetime_type = :timestamptz
</code></pre>

<p>Or if you are adding a custom type:</p>

<pre><code>ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::NATIVE_DATABASE_TYPES[:my_custom_type] = { name: &quot;my_custom_type_name&quot; }
ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.datetime_type = :my_custom_type
</code></pre>

<p>If you’re using <code>:ruby</code> as your <code>config.active_record.schema_format</code> and you change this setting, you should immediately run <code>bin/rails db:migrate</code> to update the types in your schema.rb.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-datetime_type_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 133</span>
<span class="ruby-identifier">class_attribute</span> <span class="ruby-value">:datetime_type</span>, <span class="ruby-value">default:</span> <span class="ruby-value">:timestamp</span>
</code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-dbconsole">
            
              dbconsole(config, options = {})
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-dbconsole_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dbconsole</span>(<span class="ruby-identifier">config</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">pg_config</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">configuration_hash</span>

  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;PGUSER&quot;</span>]         = <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:username</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:username</span>]
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;PGHOST&quot;</span>]         = <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:host</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:host</span>]
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;PGPORT&quot;</span>]         = <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:port</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:port</span>]
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;PGPASSWORD&quot;</span>]     = <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:password</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:password</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:include_password</span>]
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;PGSSLMODE&quot;</span>]      = <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:sslmode</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:sslmode</span>]
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;PGSSLCERT&quot;</span>]      = <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:sslcert</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:sslcert</span>]
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;PGSSLKEY&quot;</span>]       = <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:sslkey</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:sslkey</span>]
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;PGSSLROOTCERT&quot;</span>]  = <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:sslrootcert</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:sslrootcert</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:variables</span>]
    <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;PGOPTIONS&quot;</span>] = <span class="ruby-identifier">pg_config</span>[<span class="ruby-value">:variables</span>].<span class="ruby-identifier">filter_map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
      <span class="ruby-node">&quot;-c #{name}=#{value.to_s.gsub(/[ \\]/, &#39;\\\\\0&#39;)}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;:default&quot;</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-value">:default</span>
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot; &quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">find_cmd_and_exec</span>(<span class="ruby-string">&quot;psql&quot;</span>, <span class="ruby-identifier">config</span>.<span class="ruby-identifier">database</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-new">
            
              new(...)
            
          </h3>

          
            <div class="description">
              <p>Initializes and connects a PostgreSQL adapter.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-new_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 317</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-operator">...</span>)
  <span class="ruby-keyword">super</span>

  <span class="ruby-identifier">conn_params</span> = <span class="ruby-ivar">@config</span>.<span class="ruby-identifier">compact</span>

  <span class="ruby-comment"># Map ActiveRecords param names to PGs.</span>
  <span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:user</span>] = <span class="ruby-identifier">conn_params</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:username</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:username</span>]
  <span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:dbname</span>] = <span class="ruby-identifier">conn_params</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:database</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:database</span>]

  <span class="ruby-comment"># Forward only valid config params to PG::Connection.connect.</span>
  <span class="ruby-identifier">valid_conn_param_keys</span> = <span class="ruby-constant">PG</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span>.<span class="ruby-identifier">conndefaults_hash</span>.<span class="ruby-identifier">keys</span> <span class="ruby-operator">+</span> [<span class="ruby-value">:requiressl</span>]
  <span class="ruby-identifier">conn_params</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">valid_conn_param_keys</span>)

  <span class="ruby-ivar">@connection_parameters</span> = <span class="ruby-identifier">conn_params</span>

  <span class="ruby-ivar">@max_identifier_length</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@type_map</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@raw_connection</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@notice_receiver_sql_warnings</span> = []

  <span class="ruby-ivar">@use_insert_returning</span> = <span class="ruby-ivar">@config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:insert_returning</span>) <span class="ruby-operator">?</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">type_cast_config_to_boolean</span>(<span class="ruby-ivar">@config</span>[<span class="ruby-value">:insert_returning</span>]) <span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-new_client">
            
              new_client(conn_params)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-new_client_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 68</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">new_client</span>(<span class="ruby-identifier">conn_params</span>)
  <span class="ruby-constant">PG</span>.<span class="ruby-identifier">connect</span>(<span class="ruby-operator">**</span><span class="ruby-identifier">conn_params</span>)
<span class="ruby-keyword">rescue</span> <span class="ruby-operator">::</span><span class="ruby-constant">PG</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">error</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">conn_params</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:dbname</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;postgres&quot;</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ConnectionNotEstablished</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">conn_params</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:dbname</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:dbname</span>])
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">NoDatabaseError</span>.<span class="ruby-identifier">db_error</span>(<span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:dbname</span>])
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">conn_params</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:user</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:user</span>])
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">DatabaseConnectionError</span>.<span class="ruby-identifier">username_error</span>(<span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:user</span>])
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">conn_params</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:host</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:host</span>])
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">DatabaseConnectionError</span>.<span class="ruby-identifier">hostname_error</span>(<span class="ruby-identifier">conn_params</span>[<span class="ruby-value">:host</span>])
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ConnectionNotEstablished</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-active-3F">
            
              active?()
            
          </h3>

          
            <div class="description">
              <p>Is this connection alive and ready for queries?</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-active-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">active?</span>
  <span class="ruby-ivar">@lock</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@raw_connection</span>
    <span class="ruby-ivar">@raw_connection</span>.<span class="ruby-identifier">query</span> <span class="ruby-string">&quot;;&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">PG</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-add_enum_value">
            
              add_enum_value(type_name, value, options = {})
            
          </h3>

          
            <div class="description">
              <p>Add enum value to an existing enum type.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-add_enum_value_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 565</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add_enum_value</span>(<span class="ruby-identifier">type_name</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">before</span>, <span class="ruby-identifier">after</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value">:before</span>, <span class="ruby-value">:after</span>)
  <span class="ruby-identifier">sql</span> = <span class="ruby-node">+&quot;ALTER TYPE #{quote_table_name(type_name)} ADD VALUE &#39;#{value}&#39;&quot;</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">before</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">after</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;Cannot have both :before and :after at the same time&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">before</span>
    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; BEFORE &#39;#{before}&#39;&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">after</span>
    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; AFTER &#39;#{after}&#39;&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">execute</span>(<span class="ruby-identifier">sql</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-identifier">reload_type_map</span> }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-create_enum">
            
              create_enum(name, values, **options)
            
          </h3>

          
            <div class="description">
              <p>Given a name and an array of values, creates an enum type.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-create_enum_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 520</span>
      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create_enum</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">values</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
        <span class="ruby-identifier">sql_values</span> = <span class="ruby-identifier">values</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">quote</span>(<span class="ruby-identifier">s</span>) }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;, &quot;</span>)
        <span class="ruby-identifier">scope</span> = <span class="ruby-identifier">quoted_scope</span>(<span class="ruby-identifier">name</span>)
        <span class="ruby-identifier">query</span> = <span class="ruby-identifier">&lt;&lt;~SQL</span>
<span class="ruby-value">          DO $$
          BEGIN
              IF NOT EXISTS (
                SELECT 1
                FROM pg_type t
                JOIN pg_namespace n ON t.typnamespace = n.oid
                WHERE t.typname = #{scope[:name]}
                  AND n.nspname = #{scope[:schema]}
              ) THEN
                  CREATE TYPE #{quote_table_name(name)} AS ENUM (#{sql_values});
              END IF;
          END
          $$;
</span><span class="ruby-identifier">        SQL</span>
        <span class="ruby-identifier">internal_exec_query</span>(<span class="ruby-identifier">query</span>)
      <span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-disable_extension">
            
              disable_extension(name, force: false)
            
          </h3>

          
            <div class="description">
              <p>Removes an extension from the database.</p>
<dl class="rdoc-list label-list"><dt><code>:force</code>
<dd>
<p>Set to <code>:cascade</code> to drop dependent objects as well. Defaults to false.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-disable_extension_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 478</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">disable_extension</span>(<span class="ruby-identifier">name</span>, <span class="ruby-value">force:</span> <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">internal_exec_query</span>(<span class="ruby-node">&quot;DROP EXTENSION IF EXISTS \&quot;#{name}\&quot;#{&#39; CASCADE&#39; if force == :cascade}&quot;</span>).<span class="ruby-identifier">tap</span> {
    <span class="ruby-identifier">reload_type_map</span>
  }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-disconnect-21">
            
              disconnect!()
            
          </h3>

          
            <div class="description">
              <p>Disconnects from the database if already connected. Otherwise, this method does nothing.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-disconnect-21_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 378</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">disconnect!</span>
  <span class="ruby-ivar">@lock</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">super</span>
    <span class="ruby-ivar">@raw_connection</span>&amp;.<span class="ruby-identifier">close</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@raw_connection</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-drop_enum">
            
              drop_enum(name, values = nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Drops an enum type.</p>

<p>If the <code>if_exists: true</code> option is provided, the enum is dropped only if it exists. Otherwise, if the enum doesn’t exist, an error is raised.</p>

<p>The <code>values</code> parameter will be ignored if present. It can be helpful to provide this in a migration’s <code>change</code> method so it can be reverted. In that case, <code>values</code> will be used by <a href="PostgreSQLAdapter.html#method-i-create_enum"><code>create_enum</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-drop_enum_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 550</span>
      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">drop_enum</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">values</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
        <span class="ruby-identifier">query</span> = <span class="ruby-identifier">&lt;&lt;~SQL</span>
<span class="ruby-value">          DROP TYPE#{&#39; IF EXISTS&#39; if options[:if_exists]} #{quote_table_name(name)};
</span><span class="ruby-identifier">        SQL</span>
        <span class="ruby-identifier">internal_exec_query</span>(<span class="ruby-identifier">query</span>)
      <span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-enable_extension">
            
              enable_extension(name, **)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-enable_extension_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 465</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">enable_extension</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">**</span>)
  <span class="ruby-identifier">schema</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;.&quot;</span>).<span class="ruby-identifier">values_at</span>(<span class="ruby-value">-2</span>, <span class="ruby-value">-1</span>)
  <span class="ruby-identifier">sql</span> = <span class="ruby-node">+&quot;CREATE EXTENSION IF NOT EXISTS \&quot;#{name}\&quot;&quot;</span>
  <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; SCHEMA #{schema}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schema</span>

  <span class="ruby-identifier">internal_exec_query</span>(<span class="ruby-identifier">sql</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-identifier">reload_type_map</span> }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-enum_types">
            
              enum_types()
            
          </h3>

          
            <div class="description">
              <p>Returns a list of defined enum types, and their values.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-enum_types_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 497</span>
      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">enum_types</span>
        <span class="ruby-identifier">query</span> = <span class="ruby-identifier">&lt;&lt;~SQL</span>
<span class="ruby-value">          SELECT
            type.typname AS name,
            type.OID AS oid,
            n.nspname AS schema,
            string_agg(enum.enumlabel, &#39;,&#39; ORDER BY enum.enumsortorder) AS value
          FROM pg_enum AS enum
          JOIN pg_type AS type ON (type.oid = enum.enumtypid)
          JOIN pg_namespace n ON type.typnamespace = n.oid
          WHERE n.nspname = ANY (current_schemas(false))
          GROUP BY type.OID, n.nspname, type.typname;
</span><span class="ruby-identifier">        SQL</span>

        <span class="ruby-identifier">internal_exec_query</span>(<span class="ruby-identifier">query</span>, <span class="ruby-string">&quot;SCHEMA&quot;</span>, <span class="ruby-value">allow_retry:</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">materialize_transactions:</span> <span class="ruby-keyword">false</span>).<span class="ruby-identifier">cast_values</span>.<span class="ruby-identifier">each_with_object</span>({}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span>, <span class="ruby-identifier">memo</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">name</span>, <span class="ruby-identifier">schema</span> = <span class="ruby-identifier">row</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">row</span>[<span class="ruby-value">2</span>]
          <span class="ruby-identifier">schema</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schema</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">current_schema</span>
          <span class="ruby-identifier">full_name</span> = [<span class="ruby-identifier">schema</span>, <span class="ruby-identifier">name</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;.&quot;</span>)
          <span class="ruby-identifier">memo</span>[<span class="ruby-identifier">full_name</span>] = <span class="ruby-identifier">row</span>.<span class="ruby-identifier">last</span>
        <span class="ruby-keyword">end</span>.<span class="ruby-identifier">to_a</span>
      <span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-extension_available-3F">
            
              extension_available?(name)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-extension_available-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 484</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">extension_available?</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">query_value</span>(<span class="ruby-node">&quot;SELECT true FROM pg_available_extensions WHERE name = #{quote(name)}&quot;</span>, <span class="ruby-string">&quot;SCHEMA&quot;</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-extension_enabled-3F">
            
              extension_enabled?(name)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-extension_enabled-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 488</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">extension_enabled?</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">query_value</span>(<span class="ruby-node">&quot;SELECT installed_version IS NOT NULL FROM pg_available_extensions WHERE name = #{quote(name)}&quot;</span>, <span class="ruby-string">&quot;SCHEMA&quot;</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-extensions">
            
              extensions()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-extensions_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 492</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">extensions</span>
  <span class="ruby-identifier">internal_exec_query</span>(<span class="ruby-string">&quot;SELECT extname FROM pg_extension&quot;</span>, <span class="ruby-string">&quot;SCHEMA&quot;</span>, <span class="ruby-value">allow_retry:</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">materialize_transactions:</span> <span class="ruby-keyword">false</span>).<span class="ruby-identifier">cast_values</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-index_algorithms">
            
              index_algorithms()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-index_algorithms_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 284</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">index_algorithms</span>
  { <span class="ruby-value">concurrently:</span> <span class="ruby-string">&quot;CONCURRENTLY&quot;</span> }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-max_identifier_length">
            
              max_identifier_length()
            
          </h3>

          
            <div class="description">
              <p>Returns the configured supported identifier length supported by PostgreSQL</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-max_identifier_length_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 595</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">max_identifier_length</span>
  <span class="ruby-ivar">@max_identifier_length</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">query_value</span>(<span class="ruby-string">&quot;SHOW max_identifier_length&quot;</span>, <span class="ruby-string">&quot;SCHEMA&quot;</span>).<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-rename_enum">
            
              rename_enum(name, options = {})
            
          </h3>

          
            <div class="description">
              <p>Rename an existing enum type to something else.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-rename_enum_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 558</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">rename_enum</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">to</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:to</span>) { <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;:to is required&quot;</span> }

  <span class="ruby-identifier">exec_query</span>(<span class="ruby-node">&quot;ALTER TYPE #{quote_table_name(name)} RENAME TO #{to}&quot;</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-identifier">reload_type_map</span> }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-rename_enum_value">
            
              rename_enum_value(type_name, options = {})
            
          </h3>

          
            <div class="description">
              <p>Rename enum value on an existing enum type.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-rename_enum_value_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 581</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">rename_enum_value</span>(<span class="ruby-identifier">type_name</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">database_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">10_00_00</span> <span class="ruby-comment"># &gt;= 10.0</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;Renaming enum values is only supported in PostgreSQL 10 or later&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">from</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:from</span>) { <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;:from is required&quot;</span> }
  <span class="ruby-identifier">to</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:to</span>) { <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;:to is required&quot;</span> }

  <span class="ruby-identifier">execute</span>(<span class="ruby-node">&quot;ALTER TYPE #{quote_table_name(type_name)} RENAME VALUE &#39;#{from}&#39; TO &#39;#{to}&#39;&quot;</span>).<span class="ruby-identifier">tap</span> {
    <span class="ruby-identifier">reload_type_map</span>
  }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-reset-21">
            
              reset!()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-reset-21_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 363</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">reset!</span>
  <span class="ruby-ivar">@lock</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">connect!</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@raw_connection</span>

    <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@raw_connection</span>.<span class="ruby-identifier">transaction_status</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">PG</span><span class="ruby-operator">::</span><span class="ruby-constant">PQTRANS_IDLE</span>
      <span class="ruby-ivar">@raw_connection</span>.<span class="ruby-identifier">query</span> <span class="ruby-string">&quot;ROLLBACK&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@raw_connection</span>.<span class="ruby-identifier">query</span> <span class="ruby-string">&quot;DISCARD ALL&quot;</span>

    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-session_auth-3D">
            
              session_auth=(user)
            
          </h3>

          
            <div class="description">
              <p>Set the authorized user for this session</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-session_auth-3D_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 608</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">session_auth=</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-identifier">clear_cache!</span>
  <span class="ruby-identifier">internal_execute</span>(<span class="ruby-node">&quot;SET SESSION AUTHORIZATION #{user}&quot;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-value">materialize_transactions:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-set_standard_conforming_strings">
            
              set_standard_conforming_strings()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-set_standard_conforming_strings_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 404</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_standard_conforming_strings</span>
  <span class="ruby-identifier">internal_execute</span>(<span class="ruby-string">&quot;SET standard_conforming_strings = on&quot;</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_advisory_locks-3F">
            
              supports_advisory_locks?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_advisory_locks-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_advisory_locks?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_bulk_alter-3F">
            
              supports_bulk_alter?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_bulk_alter-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_bulk_alter?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_check_constraints-3F">
            
              supports_check_constraints?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_check_constraints-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 221</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_check_constraints?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_comments-3F">
            
              supports_comments?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_comments-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_comments?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_common_table_expressions-3F">
            
              supports_common_table_expressions?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_common_table_expressions-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 443</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_common_table_expressions?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_datetime_with_precision-3F">
            
              supports_datetime_with_precision?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_datetime_with_precision-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_datetime_with_precision?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_ddl_transactions-3F">
            
              supports_ddl_transactions?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_ddl_transactions-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 408</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_ddl_transactions?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_deferrable_constraints-3F">
            
              supports_deferrable_constraints?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_deferrable_constraints-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 237</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_deferrable_constraints?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_exclusion_constraints-3F">
            
              supports_exclusion_constraints?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_exclusion_constraints-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_exclusion_constraints?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_explain-3F">
            
              supports_explain?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_explain-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 416</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_explain?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_expression_index-3F">
            
              supports_expression_index?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_expression_index-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_expression_index?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_extensions-3F">
            
              supports_extensions?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_extensions-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 420</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_extensions?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_foreign_keys-3F">
            
              supports_foreign_keys?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_foreign_keys-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 217</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_foreign_keys?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_foreign_tables-3F">
            
              supports_foreign_tables?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_foreign_tables-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_foreign_tables?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_index_include-3F">
            
              supports_index_include?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_index_include-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_index_include?</span>
  <span class="ruby-identifier">database_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">11_00_00</span> <span class="ruby-comment"># &gt;= 11.0</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_index_sort_order-3F">
            
              supports_index_sort_order?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_index_sort_order-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_index_sort_order?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_insert_conflict_target-3F">
            
              supports_insert_conflict_target?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="PostgreSQLAdapter.html#method-i-supports_insert_on_conflict-3F">supports_insert_on_conflict?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_insert_on_conflict-3F">
            
              supports_insert_on_conflict?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="PostgreSQLAdapter.html#method-i-supports_insert_on_duplicate_skip-3F">supports_insert_on_duplicate_skip?</a>, <a href="PostgreSQLAdapter.html#method-i-supports_insert_on_duplicate_update-3F">supports_insert_on_duplicate_update?</a>, <a href="PostgreSQLAdapter.html#method-i-supports_insert_conflict_target-3F">supports_insert_conflict_target?</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_insert_on_conflict-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 269</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_insert_on_conflict?</span>
  <span class="ruby-identifier">database_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">9_05_00</span> <span class="ruby-comment"># &gt;= 9.5</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_insert_on_duplicate_skip-3F">
            
              supports_insert_on_duplicate_skip?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="PostgreSQLAdapter.html#method-i-supports_insert_on_conflict-3F">supports_insert_on_conflict?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_insert_on_duplicate_update-3F">
            
              supports_insert_on_duplicate_update?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="PostgreSQLAdapter.html#method-i-supports_insert_on_conflict-3F">supports_insert_on_conflict?</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_insert_returning-3F">
            
              supports_insert_returning?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_insert_returning-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_insert_returning?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_json-3F">
            
              supports_json?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_json-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_json?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_lazy_transactions-3F">
            
              supports_lazy_transactions?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_lazy_transactions-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 447</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_lazy_transactions?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_materialized_views-3F">
            
              supports_materialized_views?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_materialized_views-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 424</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_materialized_views?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_nulls_not_distinct-3F">
            
              supports_nulls_not_distinct?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_nulls_not_distinct-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 280</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_nulls_not_distinct?</span>
  <span class="ruby-identifier">database_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">15_00_00</span> <span class="ruby-comment"># &gt;= 15.0</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_optimizer_hints-3F">
            
              supports_optimizer_hints?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_optimizer_hints-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 436</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_optimizer_hints?</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@has_pg_hint_plan</span>)
    <span class="ruby-ivar">@has_pg_hint_plan</span> = <span class="ruby-identifier">extension_available?</span>(<span class="ruby-string">&quot;pg_hint_plan&quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@has_pg_hint_plan</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_partial_index-3F">
            
              supports_partial_index?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_partial_index-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 201</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_partial_index?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_partitioned_indexes-3F">
            
              supports_partitioned_indexes?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_partitioned_indexes-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_partitioned_indexes?</span>
  <span class="ruby-identifier">database_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">11_00_00</span> <span class="ruby-comment"># &gt;= 11.0</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_pgcrypto_uuid-3F">
            
              supports_pgcrypto_uuid?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_pgcrypto_uuid-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 432</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_pgcrypto_uuid?</span>
  <span class="ruby-identifier">database_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">9_04_00</span> <span class="ruby-comment"># &gt;= 9.4</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_restart_db_transaction-3F">
            
              supports_restart_db_transaction?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_restart_db_transaction-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 261</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_restart_db_transaction?</span>
  <span class="ruby-identifier">database_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">12_00_00</span> <span class="ruby-comment"># &gt;= 12.0</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_savepoints-3F">
            
              supports_savepoints?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_savepoints-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 257</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_savepoints?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_transaction_isolation-3F">
            
              supports_transaction_isolation?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_transaction_isolation-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_transaction_isolation?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_unique_constraints-3F">
            
              supports_unique_constraints?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_unique_constraints-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_unique_constraints?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_validate_constraints-3F">
            
              supports_validate_constraints?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_validate_constraints-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 233</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_validate_constraints?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_views-3F">
            
              supports_views?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_views-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_views?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-supports_virtual_columns-3F">
            
              supports_virtual_columns?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-supports_virtual_columns-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">supports_virtual_columns?</span>
  <span class="ruby-identifier">database_version</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">12_00_00</span> <span class="ruby-comment"># &gt;= 12.0</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-table_name_length">
            
              table_name_length()
            
          </h3>

          
            <div class="description">
              <p>Returns the maximum length of a table name.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-table_name_length_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 600</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">table_name_length</span>
  <span class="ruby-comment"># PostgreSQL automatically creates an index for PRIMARY KEY with name consisting of</span>
  <span class="ruby-comment"># truncated table name and &quot;_pkey&quot; suffix fitting into max_identifier_length number of characters.</span>
  <span class="ruby-comment"># We allow smaller table names to be able to correctly rename this index when renaming the table.</span>
  <span class="ruby-identifier">max_identifier_length</span> <span class="ruby-operator">-</span> <span class="ruby-string">&quot;_pkey&quot;</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-use_insert_returning-3F">
            
              use_insert_returning?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-use_insert_returning-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 613</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">use_insert_returning?</span>
  <span class="ruby-ivar">@use_insert_returning</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
</div>
