---
title: ActiveRecord::ConnectionAdapters::SchemaStatements
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 7.2.0.beta2</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActiveRecord::ConnectionAdapters::SchemaStatements
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activerecord/lib/active_record/connection_adapters/abstract/schema_statements_rb.html">activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-add_belongs_to">add_belongs_to</a>
        </li>
      
        <li>
          <a href="#method-i-add_check_constraint">add_check_constraint</a>
        </li>
      
        <li>
          <a href="#method-i-add_column">add_column</a>
        </li>
      
        <li>
          <a href="#method-i-add_foreign_key">add_foreign_key</a>
        </li>
      
        <li>
          <a href="#method-i-add_index">add_index</a>
        </li>
      
        <li>
          <a href="#method-i-add_reference">add_reference</a>
        </li>
      
        <li>
          <a href="#method-i-add_timestamps">add_timestamps</a>
        </li>
      
        <li>
          <a href="#method-i-assume_migrated_upto_version">assume_migrated_upto_version</a>
        </li>
      
        <li>
          <a href="#method-i-build_create_table_definition">build_create_table_definition</a>
        </li>
      
        <li>
          <a href="#method-i-change_column">change_column</a>
        </li>
      
        <li>
          <a href="#method-i-change_column_comment">change_column_comment</a>
        </li>
      
        <li>
          <a href="#method-i-change_column_default">change_column_default</a>
        </li>
      
        <li>
          <a href="#method-i-change_column_null">change_column_null</a>
        </li>
      
        <li>
          <a href="#method-i-change_table">change_table</a>
        </li>
      
        <li>
          <a href="#method-i-change_table_comment">change_table_comment</a>
        </li>
      
        <li>
          <a href="#method-i-check_constraint_exists-3F">check_constraint_exists?</a>
        </li>
      
        <li>
          <a href="#method-i-check_constraints">check_constraints</a>
        </li>
      
        <li>
          <a href="#method-i-column_exists-3F">column_exists?</a>
        </li>
      
        <li>
          <a href="#method-i-columns">columns</a>
        </li>
      
        <li>
          <a href="#method-i-create_join_table">create_join_table</a>
        </li>
      
        <li>
          <a href="#method-i-create_table">create_table</a>
        </li>
      
        <li>
          <a href="#method-i-data_source_exists-3F">data_source_exists?</a>
        </li>
      
        <li>
          <a href="#method-i-data_sources">data_sources</a>
        </li>
      
        <li>
          <a href="#method-i-drop_join_table">drop_join_table</a>
        </li>
      
        <li>
          <a href="#method-i-drop_table">drop_table</a>
        </li>
      
        <li>
          <a href="#method-i-foreign_key_exists-3F">foreign_key_exists?</a>
        </li>
      
        <li>
          <a href="#method-i-foreign_keys">foreign_keys</a>
        </li>
      
        <li>
          <a href="#method-i-index_exists-3F">index_exists?</a>
        </li>
      
        <li>
          <a href="#method-i-index_name_exists-3F">index_name_exists?</a>
        </li>
      
        <li>
          <a href="#method-i-indexes">indexes</a>
        </li>
      
        <li>
          <a href="#method-i-max_index_name_size">max_index_name_size</a>
        </li>
      
        <li>
          <a href="#method-i-native_database_types">native_database_types</a>
        </li>
      
        <li>
          <a href="#method-i-options_include_default-3F">options_include_default?</a>
        </li>
      
        <li>
          <a href="#method-i-primary_key">primary_key</a>
        </li>
      
        <li>
          <a href="#method-i-remove_belongs_to">remove_belongs_to</a>
        </li>
      
        <li>
          <a href="#method-i-remove_check_constraint">remove_check_constraint</a>
        </li>
      
        <li>
          <a href="#method-i-remove_column">remove_column</a>
        </li>
      
        <li>
          <a href="#method-i-remove_columns">remove_columns</a>
        </li>
      
        <li>
          <a href="#method-i-remove_foreign_key">remove_foreign_key</a>
        </li>
      
        <li>
          <a href="#method-i-remove_index">remove_index</a>
        </li>
      
        <li>
          <a href="#method-i-remove_reference">remove_reference</a>
        </li>
      
        <li>
          <a href="#method-i-remove_timestamps">remove_timestamps</a>
        </li>
      
        <li>
          <a href="#method-i-rename_column">rename_column</a>
        </li>
      
        <li>
          <a href="#method-i-rename_index">rename_index</a>
        </li>
      
        <li>
          <a href="#method-i-rename_table">rename_table</a>
        </li>
      
        <li>
          <a href="#method-i-table_alias_for">table_alias_for</a>
        </li>
      
        <li>
          <a href="#method-i-table_comment">table_comment</a>
        </li>
      
        <li>
          <a href="#method-i-table_exists-3F">table_exists?</a>
        </li>
      
        <li>
          <a href="#method-i-table_options">table_options</a>
        </li>
      
        <li>
          <a href="#method-i-tables">tables</a>
        </li>
      
        <li>
          <a href="#method-i-use_foreign_keys-3F">use_foreign_keys?</a>
        </li>
      
        <li>
          <a href="#method-i-view_exists-3F">view_exists?</a>
        </li>
      
        <li>
          <a href="#method-i-views">views</a>
        </li>
      
    </ul>
  

  

  
    

    

    

    

    <!-- Methods -->
    
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-add_belongs_to">
            
              add_belongs_to(table_name, ref_name, **options)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="SchemaStatements.html#method-i-add_reference">add_reference</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-add_check_constraint">
            
              add_check_constraint(table_name, expression, if_not_exists: false, **options)
            
          </h3>

          
            <div class="description">
              <p>Adds a new check constraint to the table. <code>expression</code> is a <a href="../../String.html"><code>String</code></a> representation of verifiable boolean condition.</p>

<pre><code>add_check_constraint :products, &quot;price &gt; 0&quot;, name: &quot;price_check&quot;
</code></pre>

<p>generates:</p>

<pre><code>ALTER TABLE &quot;products&quot; ADD CONSTRAINT price_check CHECK (price &gt; 0)
</code></pre>

<p>The <code>options</code> hash can include the following keys:</p>
<dl class="rdoc-list label-list"><dt><code>:name</code>
<dd>
<p>The constraint name. Defaults to <code>chk_rails_&lt;identifier&gt;</code>.</p>
</dd><dt><code>:if_not_exists</code>
<dd>
<p>Silently ignore if the constraint already exists, rather than raise an error.</p>
</dd><dt><code>:validate</code>
<dd>
<p>(PostgreSQL only) Specify whether or not the constraint should be validated. Defaults to <code>true</code>.</p>
</dd></dl>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1272
      def add_check_constraint(table_name, expression, if_not_exists: false, **options)
        return unless supports_check_constraints?

        options = check_constraint_options(table_name, expression, options)
        return if if_not_exists &amp;&amp; check_constraint_exists?(table_name, **options)

        at = create_alter_table(table_name)
        at.add_check_constraint(expression, options)

        execute schema_creation.accept(at)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1272" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-add_column">
            
              add_column(table_name, column_name, type, **options)
            
          </h3>

          
            <div class="description">
              <p>Add a new <code>type</code> column named <code>column_name</code> to <code>table_name</code>.</p>

<p>See <a href="TableDefinition.html#method-i-column">ActiveRecord::ConnectionAdapters::TableDefinition.column</a>.</p>

<p>The <code>type</code> parameter is normally one of the migrations native types, which is one of the following: <code>:primary_key</code>, <code>:string</code>, <code>:text</code>, <code>:integer</code>, <code>:bigint</code>, <code>:float</code>, <code>:decimal</code>, <code>:numeric</code>, <code>:datetime</code>, <code>:time</code>, <code>:date</code>, <code>:binary</code>, <code>:blob</code>, <code>:boolean</code>.</p>

<p>You may use a type not in this list as long as it is supported by your database (for example, ‚Äúpolygon‚Äù in <a href="MySQL.html"><code>MySQL</code></a>), but this will not be database agnostic and should usually be avoided.</p>

<p>Available options are (none of these exists by default):</p>
<ul><li>
<p><code>:comment</code> - Specifies the comment for the column. This option is ignored by some backends.</p>
</li><li>
<p><code>:collation</code> - Specifies the collation for a <code>:string</code> or <code>:text</code> column. If not specified, the column will have the same collation as the table.</p>
</li><li>
<p><code>:default</code> - The column‚Äôs default value. Use <code>nil</code> for <code>NULL</code>.</p>
</li><li>
<p><code>:limit</code> - Requests a maximum column length. This is the number of characters for a <code>:string</code> column and number of bytes for <code>:text</code>, <code>:binary</code>, <code>:blob</code>, and <code>:integer</code> columns. This option is ignored by some backends.</p>
</li><li>
<p><code>:null</code> - Allows or disallows <code>NULL</code> values in the column.</p>
</li><li>
<p><code>:precision</code> - Specifies the precision for the <code>:decimal</code>, <code>:numeric</code>, <code>:datetime</code>, and <code>:time</code> columns.</p>
</li><li>
<p><code>:scale</code> - Specifies the scale for the <code>:decimal</code> and <code>:numeric</code> columns.</p>
</li><li>
<p><code>:if_not_exists</code> - Specifies if the column already exists to not try to re-add it. This will avoid duplicate column errors.</p>
</li></ul>

<p>Note: The precision is the total number of significant digits, and the scale is the number of digits that can be stored following the decimal point. For example, the number 123.45 has a precision of 5 and a scale of 2. A decimal with a precision of 5 and a scale of 2 can range from -999.99 to 999.99.</p>

<p>Please be aware of different RDBMS implementations behavior with <code>:decimal</code> columns:</p>
<ul><li>
<p>The SQL standard says the default scale should be 0, <code>:scale</code> &lt;= <code>:precision</code>, and makes no comments about the requirements of <code>:precision</code>.</p>
</li><li>
<p>MySQL: <code>:precision</code> [1..65], <code>:scale</code> [0..30]. Default is (10,0).</p>
</li><li>
<p>PostgreSQL: <code>:precision</code> [1..infinity], <code>:scale</code> [0..infinity]. No default.</p>
</li><li>
<p>SQLite3: No restrictions on <code>:precision</code> and <code>:scale</code>, but the maximum supported <code>:precision</code> is 16. No default.</p>
</li><li>
<p>Oracle: <code>:precision</code> [1..38], <code>:scale</code> [-84..127]. Default is (38,0).</p>
</li><li>
<p>SqlServer: <code>:precision</code> [1..38], <code>:scale</code> [0..38]. Default (38,0).</p>
</li></ul>

<h2 id="method-i-add_column-label-Examples">Examples</h2>

<pre><code>add_column(:users, :picture, :binary, limit: 2.megabytes)
# ALTER TABLE &quot;users&quot; ADD &quot;picture&quot; blob(2097152)

add_column(:articles, :status, :string, limit: 20, default: &#39;draft&#39;, null: false)
# ALTER TABLE &quot;articles&quot; ADD &quot;status&quot; varchar(20) DEFAULT &#39;draft&#39; NOT NULL

add_column(:answers, :bill_gates_money, :decimal, precision: 15, scale: 2)
# ALTER TABLE &quot;answers&quot; ADD &quot;bill_gates_money&quot; decimal(15,2)

add_column(:measurements, :sensor_reading, :decimal, precision: 30, scale: 20)
# ALTER TABLE &quot;measurements&quot; ADD &quot;sensor_reading&quot; decimal(30,20)

# While :scale defaults to zero on most databases, it
# probably wouldn&#39;t hurt to include it.
add_column(:measurements, :huge_integer, :decimal, precision: 30)
# ALTER TABLE &quot;measurements&quot; ADD &quot;huge_integer&quot; decimal(30)

# Defines a column that stores an array of a type.
add_column(:users, :skills, :text, array: true)
# ALTER TABLE &quot;users&quot; ADD &quot;skills&quot; text[]

# Defines a column with a database-specific type.
add_column(:shapes, :triangle, &#39;polygon&#39;)
# ALTER TABLE &quot;shapes&quot; ADD &quot;triangle&quot; polygon

# Ignores the method call if the column exists
add_column(:shapes, :triangle, &#39;polygon&#39;, if_not_exists: true)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 625
      def add_column(table_name, column_name, type, **options)
        add_column_def = build_add_column_definition(table_name, column_name, type, **options)
        return unless add_column_def

        execute schema_creation.accept(add_column_def)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L625" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-add_foreign_key">
            
              add_foreign_key(from_table, to_table, **options)
            
          </h3>

          
            <div class="description">
              <p>Adds a new foreign key. <code>from_table</code> is the table with the key column, <code>to_table</code> contains the referenced primary key.</p>

<p>The foreign key will be named after the following pattern: <code>fk_rails_&lt;identifier&gt;</code>. <code>identifier</code> is a 10 character long string which is deterministically generated from the <code>from_table</code> and <code>column</code>. A custom name can be specified with the <code>:name</code> option.</p>

<h6 id="method-i-add_foreign_key-label-Creating+a+simple+foreign+key">Creating a simple foreign key</h6>

<pre><code>add_foreign_key :articles, :authors
</code></pre>

<p>generates:</p>

<pre><code>ALTER TABLE &quot;articles&quot; ADD CONSTRAINT fk_rails_e74ce85cbc FOREIGN KEY (&quot;author_id&quot;) REFERENCES &quot;authors&quot; (&quot;id&quot;)
</code></pre>

<h6 id="method-i-add_foreign_key-label-Creating+a+foreign+key-2C+ignoring+method+call+if+the+foreign+key+exists">Creating a foreign key, ignoring method call if the foreign key exists</h6>

<pre><code>add_foreign_key(:articles, :authors, if_not_exists: true)
</code></pre>

<h6 id="method-i-add_foreign_key-label-Creating+a+foreign+key+on+a+specific+column">Creating a foreign key on a specific column</h6>

<pre><code>add_foreign_key :articles, :users, column: :author_id, primary_key: &quot;lng_id&quot;
</code></pre>

<p>generates:</p>

<pre><code>ALTER TABLE &quot;articles&quot; ADD CONSTRAINT fk_rails_58ca3d3a82 FOREIGN KEY (&quot;author_id&quot;) REFERENCES &quot;users&quot; (&quot;lng_id&quot;)
</code></pre>

<h6 id="method-i-add_foreign_key-label-Creating+a+composite+foreign+key">Creating a composite foreign key</h6>

<pre><code>Assuming &quot;carts&quot; table has &quot;(shop_id, user_id)&quot; as a primary key.

add_foreign_key :orders, :carts, primary_key: [:shop_id, :user_id]
</code></pre>

<p>generates:</p>

<pre><code>ALTER TABLE &quot;orders&quot; ADD CONSTRAINT fk_rails_6f5e4cb3a4 FOREIGN KEY (&quot;cart_shop_id&quot;, &quot;cart_user_id&quot;) REFERENCES &quot;carts&quot; (&quot;shop_id&quot;, &quot;user_id&quot;)
</code></pre>

<h6 id="method-i-add_foreign_key-label-Creating+a+cascading+foreign+key">Creating a cascading foreign key</h6>

<pre><code>add_foreign_key :articles, :authors, on_delete: :cascade
</code></pre>

<p>generates:</p>

<pre><code>ALTER TABLE &quot;articles&quot; ADD CONSTRAINT fk_rails_e74ce85cbc FOREIGN KEY (&quot;author_id&quot;) REFERENCES &quot;authors&quot; (&quot;id&quot;) ON DELETE CASCADE
</code></pre>

<p>The <code>options</code> hash can include the following keys:</p>
<dl class="rdoc-list label-list"><dt><code>:column</code>
<dd>
<p>The foreign key column name on <code>from_table</code>. Defaults to <code>to_table.singularize + &quot;_id&quot;</code>. Pass an array to create a composite foreign key.</p>
</dd><dt><code>:primary_key</code>
<dd>
<p>The primary key column name on <code>to_table</code>. Defaults to <code>id</code>. Pass an array to create a composite foreign key.</p>
</dd><dt><code>:name</code>
<dd>
<p>The constraint name. Defaults to <code>fk_rails_&lt;identifier&gt;</code>.</p>
</dd><dt><code>:on_delete</code>
<dd>
<p>Action that happens <code>ON DELETE</code>. Valid values are <code>:nullify</code>, <code>:cascade</code>, and <code>:restrict</code></p>
</dd><dt><code>:on_update</code>
<dd>
<p>Action that happens <code>ON UPDATE</code>. Valid values are <code>:nullify</code>, <code>:cascade</code>, and <code>:restrict</code></p>
</dd><dt><code>:if_not_exists</code>
<dd>
<p>Specifies if the foreign key already exists to not try to re-add it. This will avoid duplicate column errors.</p>
</dd><dt><code>:validate</code>
<dd>
<p>(PostgreSQL only) Specify whether or not the constraint should be validated. Defaults to <code>true</code>.</p>
</dd><dt><code>:deferrable</code>
<dd>
<p>(PostgreSQL only) Specify whether or not the foreign key should be deferrable. Valid values are booleans or <code>:deferred</code> or <code>:immediate</code> to specify the default behavior. Defaults to <code>false</code>.</p>
</dd></dl>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1152
      def add_foreign_key(from_table, to_table, **options)
        return unless use_foreign_keys?
        return if options[:if_not_exists] == true &amp;&amp; foreign_key_exists?(from_table, to_table, **options.slice(:column))

        options = foreign_key_options(from_table, to_table, options)
        at = create_alter_table from_table
        at.add_foreign_key to_table, options

        execute schema_creation.accept(at)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1152" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-add_index">
            
              add_index(table_name, column_name, **options)
            
          </h3>

          
            <div class="description">
              <p>Adds a new index to the table. <code>column_name</code> can be a single <a href="../../Symbol.html"><code>Symbol</code></a>, or an <a href="../../Array.html"><code>Array</code></a> of Symbols.</p>

<p>The index will be named after the table and the column name(s), unless you pass <code>:name</code> as an option.</p>

<h6 id="method-i-add_index-label-Creating+a+simple+index">Creating a simple index</h6>

<pre><code>add_index(:suppliers, :name)
</code></pre>

<p>generates:</p>

<pre><code>CREATE INDEX index_suppliers_on_name ON suppliers(name)
</code></pre>

<h6 id="method-i-add_index-label-Creating+a+index+which+already+exists">Creating a index which already exists</h6>

<pre><code>add_index(:suppliers, :name, if_not_exists: true)
</code></pre>

<p>generates:</p>

<pre><code>CREATE INDEX IF NOT EXISTS index_suppliers_on_name ON suppliers(name)
</code></pre>

<p>Note: Not supported by <a href="MySQL.html"><code>MySQL</code></a>.</p>

<h6 id="method-i-add_index-label-Creating+a+unique+index">Creating a unique index</h6>

<pre><code>add_index(:accounts, [:branch_id, :party_id], unique: true)
</code></pre>

<p>generates:</p>

<pre><code>CREATE UNIQUE INDEX index_accounts_on_branch_id_and_party_id ON accounts(branch_id, party_id)
</code></pre>

<h6 id="method-i-add_index-label-Creating+a+named+index">Creating a named index</h6>

<pre><code>add_index(:accounts, [:branch_id, :party_id], unique: true, name: &#39;by_branch_party&#39;)
</code></pre>

<p>generates:</p>

<pre><code>CREATE UNIQUE INDEX by_branch_party ON accounts(branch_id, party_id)
</code></pre>

<h6 id="method-i-add_index-label-Creating+an+index+with+specific+key+length">Creating an index with specific key length</h6>

<pre><code>add_index(:accounts, :name, name: &#39;by_name&#39;, length: 10)
</code></pre>

<p>generates:</p>

<pre><code>CREATE INDEX by_name ON accounts(name(10))
</code></pre>

<h6 id="method-i-add_index-label-Creating+an+index+with+specific+key+lengths+for+multiple+keys">Creating an index with specific key lengths for multiple keys</h6>

<pre><code>add_index(:accounts, [:name, :surname], name: &#39;by_name_surname&#39;, length: {name: 10, surname: 15})
</code></pre>

<p>generates:</p>

<pre><code>CREATE INDEX by_name_surname ON accounts(name(10), surname(15))
</code></pre>

<p>Note: only supported by <a href="MySQL.html"><code>MySQL</code></a></p>

<h6 id="method-i-add_index-label-Creating+an+index+with+a+sort+order+-28desc+or+asc-2C+asc+is+the+default-29">Creating an index with a sort order (desc or asc, asc is the default)</h6>

<pre><code>add_index(:accounts, [:branch_id, :party_id, :surname], name: &#39;by_branch_desc_party&#39;, order: {branch_id: :desc, party_id: :asc})
</code></pre>

<p>generates:</p>

<pre><code>CREATE INDEX by_branch_desc_party ON accounts(branch_id DESC, party_id ASC, surname)
</code></pre>

<p>Note: <a href="MySQL.html"><code>MySQL</code></a> only supports index order from 8.0.1 onwards (earlier versions accepted the syntax but ignored it).</p>

<h6 id="method-i-add_index-label-Creating+a+partial+index">Creating a partial index</h6>

<pre><code>add_index(:accounts, [:branch_id, :party_id], unique: true, where: &quot;active&quot;)
</code></pre>

<p>generates:</p>

<pre><code>CREATE UNIQUE INDEX index_accounts_on_branch_id_and_party_id ON accounts(branch_id, party_id) WHERE active
</code></pre>

<p>Note: Partial indexes are only supported for PostgreSQL and SQLite.</p>

<h6 id="method-i-add_index-label-Creating+an+index+that+includes+additional+columns">Creating an index that includes additional columns</h6>

<pre><code>add_index(:accounts, :branch_id,  include: :party_id)
</code></pre>

<p>generates:</p>

<pre><code>CREATE INDEX index_accounts_on_branch_id ON accounts USING btree(branch_id) INCLUDE (party_id)
</code></pre>

<p>Note: only supported by PostgreSQL.</p>

<h6 id="method-i-add_index-label-Creating+an+index+with+a+specific+method">Creating an index with a specific method</h6>

<pre><code>add_index(:developers, :name, using: &#39;btree&#39;)
</code></pre>

<p>generates:</p>

<pre><code>CREATE INDEX index_developers_on_name ON developers USING btree (name) -- PostgreSQL
CREATE INDEX index_developers_on_name USING btree ON developers (name) -- MySQL
</code></pre>

<p>Note: only supported by PostgreSQL and <a href="MySQL.html"><code>MySQL</code></a></p>

<h6 id="method-i-add_index-label-Creating+an+index+with+a+specific+operator+class">Creating an index with a specific operator class</h6>

<pre><code>add_index(:developers, :name, using: &#39;gist&#39;, opclass: :gist_trgm_ops)
# CREATE INDEX developers_on_name ON developers USING gist (name gist_trgm_ops) -- PostgreSQL

add_index(:developers, [:name, :city], using: &#39;gist&#39;, opclass: { city: :gist_trgm_ops })
# CREATE INDEX developers_on_name_and_city ON developers USING gist (name, city gist_trgm_ops) -- PostgreSQL

add_index(:developers, [:name, :city], using: &#39;gist&#39;, opclass: :gist_trgm_ops)
# CREATE INDEX developers_on_name_and_city ON developers USING gist (name gist_trgm_ops, city gist_trgm_ops) -- PostgreSQL
</code></pre>

<p>Note: only supported by PostgreSQL</p>

<h6 id="method-i-add_index-label-Creating+an+index+with+a+specific+type">Creating an index with a specific type</h6>

<pre><code>add_index(:developers, :name, type: :fulltext)
</code></pre>

<p>generates:</p>

<pre><code>CREATE FULLTEXT INDEX index_developers_on_name ON developers (name) -- MySQL
</code></pre>

<p>Note: only supported by <a href="MySQL.html"><code>MySQL</code></a>.</p>

<h6 id="method-i-add_index-label-Creating+an+index+with+a+specific+algorithm">Creating an index with a specific algorithm</h6>

<pre><code>add_index(:developers, :name, algorithm: :concurrently)
# CREATE INDEX CONCURRENTLY developers_on_name on developers (name) -- PostgreSQL

add_index(:developers, :name, algorithm: :inplace)
# CREATE INDEX `index_developers_on_name` ON `developers` (`name`) ALGORITHM = INPLACE -- MySQL
</code></pre>

<p>Note: only supported by PostgreSQL and <a href="MySQL.html"><code>MySQL</code></a>.</p>

<p>Concurrently adding an index is not supported in a transaction.</p>

<p>For more information see the <a href="../Migration.html">‚ÄúTransactional Migrations‚Äù section</a>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 894
      def add_index(table_name, column_name, **options)
        create_index = build_create_index_definition(table_name, column_name, **options)
        execute schema_creation.accept(create_index)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L894" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-add_reference">
            
              add_reference(table_name, ref_name, **options)
            
          </h3>

          
            <div class="description">
              <p>Adds a reference. The reference column is a bigint by default, the <code>:type</code> option can be used to specify a different type. Optionally adds a <code>_type</code> column, if <code>:polymorphic</code> option is provided.</p>

<p>The <code>options</code> hash can include the following keys:</p>
<dl class="rdoc-list label-list"><dt><code>:type</code>
<dd>
<p>The reference column type. Defaults to <code>:bigint</code>.</p>
</dd><dt><code>:index</code>
<dd>
<p>Add an appropriate index. Defaults to true. See <a href="SchemaStatements.html#method-i-add_index"><code>add_index</code></a> for usage of this option.</p>
</dd><dt><code>:foreign_key</code>
<dd>
<p>Add an appropriate foreign key constraint. Defaults to false, pass true to add. In case the join table can‚Äôt be inferred from the association pass <code>:to_table</code> with the appropriate table name.</p>
</dd><dt><code>:polymorphic</code>
<dd>
<p>Whether an additional <code>_type</code> column should be added. Defaults to false.</p>
</dd><dt><code>:null</code>
<dd>
<p>Whether the column allows nulls. Defaults to true.</p>
</dd></dl>

<h6 id="method-i-add_reference-label-Create+a+user_id+bigint+column+without+an+index">Create a user_id bigint column without an index</h6>

<pre><code>add_reference(:products, :user, index: false)
</code></pre>

<h6 id="method-i-add_reference-label-Create+a+user_id+string+column">Create a user_id string column</h6>

<pre><code>add_reference(:products, :user, type: :string)
</code></pre>

<h6 id="method-i-add_reference-label-Create+supplier_id-2C+supplier_type+columns">Create supplier_id, supplier_type columns</h6>

<pre><code>add_reference(:products, :supplier, polymorphic: true)
</code></pre>

<h6 id="method-i-add_reference-label-Create+a+supplier_id+column+with+a+unique+index">Create a supplier_id column with a unique index</h6>

<pre><code>add_reference(:products, :supplier, index: { unique: true })
</code></pre>

<h6 id="method-i-add_reference-label-Create+a+supplier_id+column+with+a+named+index">Create a supplier_id column with a named index</h6>

<pre><code>add_reference(:products, :supplier, index: { name: &quot;my_supplier_index&quot; })
</code></pre>

<h6 id="method-i-add_reference-label-Create+a+supplier_id+column+and+appropriate+foreign+key">Create a supplier_id column and appropriate foreign key</h6>

<pre><code>add_reference(:products, :supplier, foreign_key: true)
</code></pre>

<h6 id="method-i-add_reference-label-Create+a+supplier_id+column+and+a+foreign+key+to+the+firms+table">Create a supplier_id column and a foreign key to the firms table</h6>

<pre><code>add_reference(:products, :supplier, foreign_key: { to_table: :firms })
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="SchemaStatements.html#method-i-add_belongs_to">add_belongs_to</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1042
      def add_reference(table_name, ref_name, **options)
        ReferenceDefinition.new(ref_name, **options).add(table_name, self)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1042" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-add_timestamps">
            
              add_timestamps(table_name, **options)
            
          </h3>

          
            <div class="description">
              <p>Adds timestamps (<code>created_at</code> and <code>updated_at</code>) columns to <code>table_name</code>. Additional options (like <code>:null</code>) are forwarded to <a href="SchemaStatements.html#method-i-add_column"><code>add_column</code></a>.</p>

<pre><code>add_timestamps(:suppliers, null: true)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1432
      def add_timestamps(table_name, **options)
        fragments = add_timestamps_for_alter(table_name, **options)
        execute &quot;ALTER TABLE #{quote_table_name(table_name)} #{fragments.join(&#39;, &#39;)}&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1432" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-assume_migrated_upto_version">
            
              assume_migrated_upto_version(version)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1337
      def assume_migrated_upto_version(version)
        version = version.to_i
        sm_table = quote_table_name(pool.schema_migration.table_name)

        migration_context = pool.migration_context
        migrated = migration_context.get_all_versions
        versions = migration_context.migrations.map(&amp;:version)

        unless migrated.include?(version)
          execute &quot;INSERT INTO #{sm_table} (version) VALUES (#{quote(version)})&quot;
        end

        inserting = (versions - migrated).select { |v| v &lt; version }
        if inserting.any?
          if (duplicate = inserting.detect { |v| inserting.count(v) &gt; 1 })
            raise &quot;Duplicate migration #{duplicate}. Please renumber your migrations to resolve the conflict.&quot;
          end
          execute insert_versions_sql(inserting)
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1337" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-build_create_table_definition">
            
              build_create_table_definition(table_name, id: :primary_key, primary_key: nil, force: nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="TableDefinition.html"><code>TableDefinition</code></a> object containing information about the table that would be created if the same arguments were passed to <a href="SchemaStatements.html#method-i-create_table"><code>create_table</code></a>. See <a href="SchemaStatements.html#method-i-create_table"><code>create_table</code></a> for information about passing a <code>table_name</code>, and other additional options that can be passed.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 333
      def build_create_table_definition(table_name, id: :primary_key, primary_key: nil, force: nil, **options)
        table_definition = create_table_definition(table_name, **options.extract!(*valid_table_definition_options, :_skip_validate_options))
        table_definition.set_primary_key(table_name, id, primary_key, **options.extract!(*valid_primary_key_options, :_skip_validate_options))

        yield table_definition if block_given?

        table_definition
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L333" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-change_column">
            
              change_column(table_name, column_name, type, **options)
            
          </h3>

          
            <div class="description">
              <p>Changes the column‚Äôs definition according to the new options. See <a href="TableDefinition.html#method-i-column"><code>TableDefinition#column</code></a> for details of the options you can use.</p>

<pre><code>change_column(:suppliers, :name, :string, limit: 80)
change_column(:accounts, :description, :text)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 700
      def change_column(table_name, column_name, type, **options)
        raise NotImplementedError, &quot;change_column is not implemented&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L700" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-change_column_comment">
            
              change_column_comment(table_name, column_name, comment_or_changes)
            
          </h3>

          
            <div class="description">
              <p>Changes the comment for a column or removes it if <code>nil</code>.</p>

<p>Passing a hash containing <code>:from</code> and <code>:to</code> will make this change reversible in migration:</p>

<pre><code>change_column_comment(:posts, :state, from: &quot;old_comment&quot;, to: &quot;new_comment&quot;)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1510
      def change_column_comment(table_name, column_name, comment_or_changes)
        raise NotImplementedError, &quot;#{self.class} does not support changing column comments&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1510" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-change_column_default">
            
              change_column_default(table_name, column_name, default_or_changes)
            
          </h3>

          
            <div class="description">
              <p>Sets a new default value for a column:</p>

<pre><code>change_column_default(:suppliers, :qualification, &#39;new&#39;)
change_column_default(:accounts, :authorized, 1)
</code></pre>

<p>Setting the default to <code>nil</code> effectively drops the default:</p>

<pre><code>change_column_default(:users, :email, nil)
</code></pre>

<p>Passing a hash containing <code>:from</code> and <code>:to</code> will make this change reversible in migration:</p>

<pre><code>change_column_default(:posts, :state, from: nil, to: &quot;draft&quot;)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 718
      def change_column_default(table_name, column_name, default_or_changes)
        raise NotImplementedError, &quot;change_column_default is not implemented&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L718" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-change_column_null">
            
              change_column_null(table_name, column_name, null, default = nil)
            
          </h3>

          
            <div class="description">
              <p>Sets or removes a <code>NOT NULL</code> constraint on a column. The <code>null</code> flag indicates whether the value can be <code>NULL</code>. For example</p>

<pre><code>change_column_null(:users, :nickname, false)
</code></pre>

<p>says nicknames cannot be <code>NULL</code> (adds the constraint), whereas</p>

<pre><code>change_column_null(:users, :nickname, true)
</code></pre>

<p>allows them to be <code>NULL</code> (drops the constraint).</p>

<p>The method accepts an optional fourth argument to replace existing <code>NULL</code>s with some other value. Use that one when enabling the constraint if needed, since otherwise those rows would not be valid.</p>

<p>Please note the fourth argument does not set a column‚Äôs default.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 747
      def change_column_null(table_name, column_name, null, default = nil)
        raise NotImplementedError, &quot;change_column_null is not implemented&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L747" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-change_table">
            
              change_table(table_name, base = self, **options)
            
          </h3>

          
            <div class="description">
              <p>A block for changing columns in <code>table</code>.</p>

<pre><code># change_table() yields a Table instance
change_table(:suppliers) do |t|
  t.column :name, :string, limit: 60
  # Other column alterations here
end
</code></pre>

<p>The <code>options</code> hash can include the following keys:</p>
<dl class="rdoc-list label-list"><dt><code>:bulk</code>
<dd>
<p>Set this to true to make this a bulk alter query, such as</p>

<pre><code>ALTER TABLE `users` ADD COLUMN age INT, ADD COLUMN birthdate DATETIME ...
</code></pre>

<p>Defaults to false.</p>

<p>Only supported on the <a href="MySQL.html"><code>MySQL</code></a> and PostgreSQL adapter, ignored elsewhere.</p>
</dd></dl>

<h6 id="method-i-change_table-label-Add+a+column">Add a column</h6>

<pre><code>change_table(:suppliers) do |t|
  t.column :name, :string, limit: 60
end
</code></pre>

<h6 id="method-i-change_table-label-Change+type+of+a+column">Change type of a column</h6>

<pre><code>change_table(:suppliers) do |t|
  t.change :metadata, :json
end
</code></pre>

<h6 id="method-i-change_table-label-Add+2+integer+columns">Add 2 integer columns</h6>

<pre><code>change_table(:suppliers) do |t|
  t.integer :width, :height, null: false, default: 0
end
</code></pre>

<h6 id="method-i-change_table-label-Add+created_at-2Fupdated_at+columns">Add created_at/updated_at columns</h6>

<pre><code>change_table(:suppliers) do |t|
  t.timestamps
end
</code></pre>

<h6 id="method-i-change_table-label-Add+a+foreign+key+column">Add a foreign key column</h6>

<pre><code>change_table(:suppliers) do |t|
  t.references :company
end
</code></pre>

<p>Creates a <code>company_id(bigint)</code> column.</p>

<h6 id="method-i-change_table-label-Add+a+polymorphic+foreign+key+column">Add a polymorphic foreign key column</h6>

<pre><code>change_table(:suppliers) do |t|
  t.belongs_to :company, polymorphic: true
end
</code></pre>

<p>Creates <code>company_type(varchar)</code> and <code>company_id(bigint)</code> columns.</p>

<h6 id="method-i-change_table-label-Remove+a+column">Remove a column</h6>

<pre><code>change_table(:suppliers) do |t|
  t.remove :company
end
</code></pre>

<h6 id="method-i-change_table-label-Remove+several+columns">Remove several columns</h6>

<pre><code>change_table(:suppliers) do |t|
  t.remove :company_id
  t.remove :width, :height
end
</code></pre>

<h6 id="method-i-change_table-label-Remove+an+index">Remove an index</h6>

<pre><code>change_table(:suppliers) do |t|
  t.remove_index :company_id
end
</code></pre>

<p>See also <a href="Table.html"><code>Table</code></a> for details on all of the various column transformations.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 501
      def change_table(table_name, base = self, **options)
        if supports_bulk_alter? &amp;&amp; options[:bulk]
          recorder = ActiveRecord::Migration::CommandRecorder.new(self)
          yield update_table_definition(table_name, recorder)
          bulk_change_table(table_name, recorder.commands)
        else
          yield update_table_definition(table_name, base)
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L501" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-change_table_comment">
            
              change_table_comment(table_name, comment_or_changes)
            
          </h3>

          
            <div class="description">
              <p>Changes the comment for a table or removes it if <code>nil</code>.</p>

<p>Passing a hash containing <code>:from</code> and <code>:to</code> will make this change reversible in migration:</p>

<pre><code>change_table_comment(:posts, from: &quot;old_comment&quot;, to: &quot;new_comment&quot;)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1500
      def change_table_comment(table_name, comment_or_changes)
        raise NotImplementedError, &quot;#{self.class} does not support changing table comments&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1500" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-check_constraint_exists-3F">
            
              check_constraint_exists?(table_name, **options)
            
          </h3>

          
            <div class="description">
              <p>Checks to see if a check constraint exists on a table for a given check constraint definition.</p>

<pre><code>check_constraint_exists?(:products, name: &quot;price_check&quot;)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1321
      def check_constraint_exists?(table_name, **options)
        if !options.key?(:name) &amp;&amp; !options.key?(:expression)
          raise ArgumentError, &quot;At least one of :name or :expression must be supplied&quot;
        end
        check_constraint_for(table_name, **options).present?
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1321" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-check_constraints">
            
              check_constraints(table_name)
            
          </h3>

          
            <div class="description">
              <p>Returns an array of check constraints for the given table. The check constraints are represented as CheckConstraintDefinition objects.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1252
      def check_constraints(table_name)
        raise NotImplementedError
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1252" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-column_exists-3F">
            
              column_exists?(table_name, column_name, type = nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Checks to see if a column exists in a given table.</p>

<pre><code># Check a column exists
column_exists?(:suppliers, :name)

# Check a column exists of a particular type
#
# This works for standard non-casted types (eg. string) but is unreliable
# for types that may get cast to something else (eg. char, bigint).
column_exists?(:suppliers, :name, :string)

# Check a column exists with a specific definition
column_exists?(:suppliers, :name, :string, limit: 100)
column_exists?(:suppliers, :name, :string, default: &#39;default&#39;)
column_exists?(:suppliers, :name, :string, null: false)
column_exists?(:suppliers, :tax, :decimal, precision: 8, scale: 2)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 132
      def column_exists?(table_name, column_name, type = nil, **options)
        column_name = column_name.to_s
        checks = []
        checks &lt;&lt; lambda { |c| c.name == column_name }
        checks &lt;&lt; lambda { |c| c.type == type.to_sym rescue nil } if type
        column_options_keys.each do |attr|
          checks &lt;&lt; lambda { |c| c.send(attr) == options[attr] } if options.key?(attr)
        end

        columns(table_name).any? { |c| checks.all? { |check| check[c] } }
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L132" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-columns">
            
              columns(table_name)
            
          </h3>

          
            <div class="description">
              <p>Returns an array of <code>Column</code> objects for the table specified by <code>table_name</code>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 107
      def columns(table_name)
        table_name = table_name.to_s
        definitions = column_definitions(table_name)
        definitions.map do |field|
          new_column_from_field(table_name, field, definitions)
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L107" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-create_join_table">
            
              create_join_table(table_1, table_2, column_options: {}, **options)
            
          </h3>

          
            <div class="description">
              <p>Creates a new join table with the name created using the lexical order of the first two arguments. These arguments can be a <a href="../../String.html"><code>String</code></a> or a <a href="../../Symbol.html"><code>Symbol</code></a>.</p>

<pre><code># Creates a table called &#39;assemblies_parts&#39; with no id.
create_join_table(:assemblies, :parts)
</code></pre>

<p>You can pass an <code>options</code> hash which can include the following keys:</p>
<dl class="rdoc-list label-list"><dt><code>:table_name</code>
<dd>
<p>Sets the table name, overriding the default.</p>
</dd><dt><code>:column_options</code>
<dd>
<p>Any extra options you want appended to the columns definition.</p>
</dd><dt><code>:options</code>
<dd>
<p>Any extra options you want appended to the table definition.</p>
</dd><dt><code>:temporary</code>
<dd>
<p>Make a temporary table.</p>
</dd><dt><code>:force</code>
<dd>
<p>Set to true to drop the table before creating it. Defaults to false.</p>
</dd></dl>

<p>Note that <a href="SchemaStatements.html#method-i-create_join_table"><code>create_join_table</code></a> does not create any indices by default; you can use its block form to do so yourself:</p>

<pre><code>create_join_table :products, :categories do |t|
  t.index :product_id
  t.index :category_id
end
</code></pre>

<h6 id="method-i-create_join_table-label-Add+a+backend+specific+option+to+the+generated+SQL+-28MySQL-29">Add a backend specific option to the generated SQL (<a href="MySQL.html"><code>MySQL</code></a>)</h6>

<pre><code>create_join_table(:assemblies, :parts, options: &#39;ENGINE=InnoDB DEFAULT CHARSET=utf8&#39;)
</code></pre>

<p>generates:</p>

<pre><code>CREATE TABLE assemblies_parts (
  assembly_id bigint NOT NULL,
  part_id bigint NOT NULL,
) ENGINE=InnoDB DEFAULT CHARSET=utf8
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 380
      def create_join_table(table_1, table_2, column_options: {}, **options)
        join_table_name = find_join_table_name(table_1, table_2, options)

        column_options.reverse_merge!(null: false, index: false)

        t1_ref, t2_ref = [table_1, table_2].map { |t| reference_name_for_table(t) }

        create_table(join_table_name, **options.merge!(id: false)) do |td|
          td.references t1_ref, **column_options
          td.references t2_ref, **column_options
          yield td if block_given?
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L380" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-create_table">
            
              create_table(table_name, id: :primary_key, primary_key: nil, force: nil, **options, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates a new table with the name <code>table_name</code>. <code>table_name</code> may either be a <a href="../../String.html"><code>String</code></a> or a <a href="../../Symbol.html"><code>Symbol</code></a>.</p>

<p>There are two ways to work with <a href="SchemaStatements.html#method-i-create_table"><code>create_table</code></a>. You can use the block form or the regular form, like this:</p>

<h3 id="method-i-create_table-label-Block+form">Block form</h3>

<pre><code># create_table() passes a TableDefinition object to the block.
# This form will not only create the table, but also columns for the
# table.

create_table(:suppliers) do |t|
  t.column :name, :string, limit: 60
  # Other fields here
end
</code></pre>

<h3 id="method-i-create_table-label-Block+form-2C+with+shorthand">Block form, with shorthand</h3>

<pre><code># You can also use the column types as method calls, rather than calling the column method.
create_table(:suppliers) do |t|
  t.string :name, limit: 60
  # Other fields here
end
</code></pre>

<h3 id="method-i-create_table-label-Regular+form">Regular form</h3>

<pre><code># Creates a table called &#39;suppliers&#39; with no columns.
create_table(:suppliers)
# Add a column to &#39;suppliers&#39;.
add_column(:suppliers, :name, :string, {limit: 60})
</code></pre>

<p>The <code>options</code> hash can include the following keys:</p>
<dl class="rdoc-list label-list"><dt><code>:id</code>
<dd>
<p>Whether to automatically add a primary key column. Defaults to true. Join tables for <a href="../Associations/ClassMethods.html#method-i-has_and_belongs_to_many">ActiveRecord::Base.has_and_belongs_to_many</a> should set it to false.</p>

<p>A <a href="../../Symbol.html"><code>Symbol</code></a> can be used to specify the type of the generated primary key column.</p>
</dd><dt><code>:primary_key</code>
<dd>
<p>The name of the primary key, if one is to be added automatically. Defaults to <code>id</code>. If <code>:id</code> is false, then this option is ignored.</p>

<p>If an array is passed, a composite primary key will be created.</p>

<p>Note that Active Record models will automatically detect their primary key. This can be avoided by using <a href="../AttributeMethods/PrimaryKey/ClassMethods.html#method-i-primary_key-3D">self.primary_key=</a> on the model to define the key explicitly.</p>
</dd><dt><code>:options</code>
<dd>
<p>Any extra options you want appended to the table definition.</p>
</dd><dt><code>:temporary</code>
<dd>
<p>Make a temporary table.</p>
</dd><dt><code>:force</code>
<dd>
<p>Set to true to drop the table before creating it. Set to <code>:cascade</code> to drop dependent objects as well. Defaults to false.</p>
</dd><dt><code>:if_not_exists</code>
<dd>
<p>Set to true to avoid raising an error when the table already exists. Defaults to false.</p>
</dd><dt><code>:as</code>
<dd>
<p>SQL to use to generate the table. When this option is used, the block is ignored, as are the <code>:id</code> and <code>:primary_key</code> options.</p>
</dd></dl>

<h6 id="method-i-create_table-label-Add+a+backend+specific+option+to+the+generated+SQL+-28MySQL-29">Add a backend specific option to the generated SQL (<a href="MySQL.html"><code>MySQL</code></a>)</h6>

<pre><code>create_table(:suppliers, options: &#39;ENGINE=InnoDB DEFAULT CHARSET=utf8mb4&#39;)
</code></pre>

<p>generates:</p>

<pre><code>CREATE TABLE suppliers (
  id bigint auto_increment PRIMARY KEY
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4
</code></pre>

<h6 id="method-i-create_table-label-Rename+the+primary+key+column">Rename the primary key column</h6>

<pre><code>create_table(:objects, primary_key: &#39;guid&#39;) do |t|
  t.column :name, :string, limit: 80
end
</code></pre>

<p>generates:</p>

<pre><code>CREATE TABLE objects (
  guid bigint auto_increment PRIMARY KEY,
  name varchar(80)
)
</code></pre>

<h6 id="method-i-create_table-label-Change+the+primary+key+column+type">Change the primary key column type</h6>

<pre><code>create_table(:tags, id: :string) do |t|
  t.column :label, :string
end
</code></pre>

<p>generates:</p>

<pre><code>CREATE TABLE tags (
  id varchar PRIMARY KEY,
  label varchar
)
</code></pre>

<h6 id="method-i-create_table-label-Create+a+composite+primary+key">Create a composite primary key</h6>

<pre><code>create_table(:orders, primary_key: [:product_id, :client_id]) do |t|
  t.belongs_to :product
  t.belongs_to :client
end
</code></pre>

<p>generates:</p>

<pre><code>CREATE TABLE orders (
    product_id bigint NOT NULL,
    client_id bigint NOT NULL
);

ALTER TABLE ONLY &quot;orders&quot;
  ADD CONSTRAINT orders_pkey PRIMARY KEY (product_id, client_id);
</code></pre>

<h6 id="method-i-create_table-label-Do+not+add+a+primary+key+column">Do not add a primary key column</h6>

<pre><code>create_table(:categories_suppliers, id: false) do |t|
  t.column :category_id, :bigint
  t.column :supplier_id, :bigint
end
</code></pre>

<p>generates:</p>

<pre><code>CREATE TABLE categories_suppliers (
  category_id bigint,
  supplier_id bigint
)
</code></pre>

<h6 id="method-i-create_table-label-Create+a+temporary+table+based+on+a+query">Create a temporary table based on a query</h6>

<pre><code>create_table(:long_query, temporary: true,
  as: &quot;SELECT * FROM orders INNER JOIN line_items ON order_id=orders.id&quot;)
</code></pre>

<p>generates:</p>

<pre><code>CREATE TEMPORARY TABLE long_query AS
  SELECT * FROM orders INNER JOIN line_items ON order_id=orders.id
</code></pre>

<p>See also <a href="TableDefinition.html#method-i-column"><code>TableDefinition#column</code></a> for details on how to create columns.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 293
      def create_table(table_name, id: :primary_key, primary_key: nil, force: nil, **options, &amp;block)
        validate_create_table_options!(options)
        validate_table_length!(table_name) unless options[:_uses_legacy_table_name]

        if force &amp;&amp; options.key?(:if_not_exists)
          raise ArgumentError, &quot;Options `:force` and `:if_not_exists` cannot be used simultaneously.&quot;
        end

        td = build_create_table_definition(table_name, id: id, primary_key: primary_key, force: force, **options, &amp;block)

        if force
          drop_table(table_name, force: force, if_exists: true)
        else
          schema_cache.clear_data_source_cache!(table_name.to_s)
        end

        result = execute schema_creation.accept(td)

        unless supports_indexes_in_create?
          td.indexes.each do |column_name, index_options|
            add_index(table_name, column_name, **index_options, if_not_exists: td.if_not_exists)
          end
        end

        if supports_comments? &amp;&amp; !supports_comments_in_create?
          if table_comment = td.comment.presence
            change_table_comment(table_name, table_comment)
          end

          td.columns.each do |column|
            change_column_comment(table_name, column.name, column.comment) if column.comment.present?
          end
        end

        result
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L293" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-data_source_exists-3F">
            
              data_source_exists?(name)
            
          </h3>

          
            <div class="description">
              <p>Checks to see if the data source <code>name</code> exists on the database.</p>

<pre><code>data_source_exists?(:ebooks)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 44
      def data_source_exists?(name)
        query_values(data_source_sql(name), &quot;SCHEMA&quot;).any? if name.present?
      rescue NotImplementedError
        data_sources.include?(name.to_s)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L44" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-data_sources">
            
              data_sources()
            
          </h3>

          
            <div class="description">
              <p>Returns the relation names usable to back Active Record models. For most adapters this means all <a href="SchemaStatements.html#method-i-tables"><code>tables</code></a> and <a href="SchemaStatements.html#method-i-views"><code>views</code></a>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 34
      def data_sources
        query_values(data_source_sql, &quot;SCHEMA&quot;)
      rescue NotImplementedError
        tables | views
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L34" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-drop_join_table">
            
              drop_join_table(table_1, table_2, **options)
            
          </h3>

          
            <div class="description">
              <p>Drops the join table specified by the given arguments. See <a href="SchemaStatements.html#method-i-create_join_table"><code>create_join_table</code></a> and <a href="SchemaStatements.html#method-i-drop_table"><code>drop_table</code></a> for details.</p>

<p>Although this command ignores the block if one is given, it can be helpful to provide one in a migration‚Äôs <code>change</code> method so it can be reverted. In that case, the block will be used by <a href="SchemaStatements.html#method-i-create_join_table"><code>create_join_table</code></a>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 418
      def drop_join_table(table_1, table_2, **options)
        join_table_name = find_join_table_name(table_1, table_2, options)
        drop_table(join_table_name, **options)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L418" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-drop_table">
            
              drop_table(table_name, **options)
            
          </h3>

          
            <div class="description">
              <p>Drops a table from the database.</p>
<dl class="rdoc-list label-list"><dt><code>:force</code>
<dd>
<p>Set to <code>:cascade</code> to drop dependent objects as well. Defaults to false.</p>
</dd><dt><code>:if_exists</code>
<dd>
<p>Set to <code>true</code> to only drop the table if it exists. Defaults to false.</p>
</dd></dl>

<p>Although this command ignores most <code>options</code> and the block if one is given, it can be helpful to provide these in a migration‚Äôs <code>change</code> method so it can be reverted. In that case, <code>options</code> and the block will be used by <a href="SchemaStatements.html#method-i-create_table"><code>create_table</code></a>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 531
      def drop_table(table_name, **options)
        schema_cache.clear_data_source_cache!(table_name.to_s)
        execute &quot;DROP TABLE#{&#39; IF EXISTS&#39; if options[:if_exists]} #{quote_table_name(table_name)}&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L531" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-foreign_key_exists-3F">
            
              foreign_key_exists?(from_table, to_table = nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Checks to see if a foreign key exists on a table for a given foreign key definition.</p>

<pre><code># Checks to see if a foreign key exists.
foreign_key_exists?(:accounts, :branches)

# Checks to see if a foreign key on a specified column exists.
foreign_key_exists?(:accounts, column: :owner_id)

# Checks to see if a foreign key with a custom name exists.
foreign_key_exists?(:accounts, name: &quot;special_fk_name&quot;)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1216
      def foreign_key_exists?(from_table, to_table = nil, **options)
        foreign_key_for(from_table, to_table: to_table, **options).present?
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1216" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-foreign_keys">
            
              foreign_keys(table_name)
            
          </h3>

          
            <div class="description">
              <p>Returns an array of foreign keys for the given table. The foreign keys are represented as ForeignKeyDefinition objects.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1082
      def foreign_keys(table_name)
        raise NotImplementedError, &quot;foreign_keys is not implemented&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1082" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-index_exists-3F">
            
              index_exists?(table_name, column_name, **options)
            
          </h3>

          
            <div class="description">
              <p>Checks to see if an index exists on a table for a given index definition.</p>

<pre><code># Check an index exists
index_exists?(:suppliers, :company_id)

# Check an index on multiple columns exists
index_exists?(:suppliers, [:company_id, :company_type])

# Check a unique index exists
index_exists?(:suppliers, :company_id, unique: true)

# Check an index with a custom name exists
index_exists?(:suppliers, :company_id, name: &quot;idx_company_id&quot;)

# Check a valid index exists (PostgreSQL only)
index_exists?(:suppliers, :company_id, valid: true)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 102
      def index_exists?(table_name, column_name, **options)
        indexes(table_name).any? { |i| i.defined_for?(column_name, **options) }
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L102" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-index_name_exists-3F">
            
              index_name_exists?(table_name, index_name)
            
          </h3>

          
            <div class="description">
              <p>Verifies the existence of an index with a given name.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 990
      def index_name_exists?(table_name, index_name)
        index_name = index_name.to_s
        indexes(table_name).detect { |i| i.name == index_name }
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L990" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-indexes">
            
              indexes(table_name)
            
          </h3>

          
            <div class="description">
              <p>Returns an array of indexes for the given table.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 81
      def indexes(table_name)
        raise NotImplementedError, &quot;#indexes is not implemented&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L81" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-max_index_name_size">
            
              max_index_name_size()
            
          </h3>

          
            <div class="description">
              <p>Returns the maximum length of an index name in bytes.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1566
      def max_index_name_size
        62
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1566" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-native_database_types">
            
              native_database_types()
            
          </h3>

          
            <div class="description">
              <p>Returns a hash of mappings from the abstract data types to the native database types. See <a href="TableDefinition.html#method-i-column"><code>TableDefinition#column</code></a> for details on the recognized abstract data types.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 14
      def native_database_types
        {}
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L14" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-options_include_default-3F">
            
              options_include_default?(options)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1490
      def options_include_default?(options)
        options.include?(:default) &amp;&amp; !(options[:null] == false &amp;&amp; options[:default].nil?)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1490" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-primary_key">
            
              primary_key(table_name)
            
          </h3>

          
            <div class="description">
              <p>Returns just a table‚Äôs primary key</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 145
      def primary_key(table_name)
        pk = primary_keys(table_name)
        pk = pk.first unless pk.size &gt; 1
        pk
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L145" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-remove_belongs_to">
            
              remove_belongs_to(table_name, ref_name, foreign_key: false, polymorphic: false, **options)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="SchemaStatements.html#method-i-remove_reference">remove_reference</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-remove_check_constraint">
            
              remove_check_constraint(table_name, expression = nil, if_exists: false, **options)
            
          </h3>

          
            <div class="description">
              <p>Removes the given check constraint from the table. Removing a check constraint that does not exist will raise an error.</p>

<pre><code>remove_check_constraint :products, name: &quot;price_check&quot;
</code></pre>

<p>To silently ignore a non-existent check constraint rather than raise an error, use the <code>if_exists</code> option.</p>

<pre><code>remove_check_constraint :products, name: &quot;price_check&quot;, if_exists: true
</code></pre>

<p>The <code>expression</code> parameter will be ignored if present. It can be helpful to provide this in a migration‚Äôs <code>change</code> method so it can be reverted. In that case, <code>expression</code> will be used by <a href="SchemaStatements.html#method-i-add_check_constraint"><code>add_check_constraint</code></a>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1303
      def remove_check_constraint(table_name, expression = nil, if_exists: false, **options)
        return unless supports_check_constraints?

        return if if_exists &amp;&amp; !check_constraint_exists?(table_name, **options)

        chk_name_to_delete = check_constraint_for!(table_name, expression: expression, **options).name

        at = create_alter_table(table_name)
        at.drop_check_constraint(chk_name_to_delete)

        execute schema_creation.accept(at)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1303" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-remove_column">
            
              remove_column(table_name, column_name, type = nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Removes the column from the table definition.</p>

<pre><code>remove_column(:suppliers, :qualification)
</code></pre>

<p>The <code>type</code> and <code>options</code> parameters will be ignored if present. It can be helpful to provide these in a migration‚Äôs <code>change</code> method so it can be reverted. In that case, <code>type</code> and <code>options</code> will be used by <a href="SchemaStatements.html#method-i-add_column"><code>add_column</code></a>. Depending on the database you‚Äôre using, indexes using this column may be automatically removed or modified to remove this column from the index.</p>

<p>If the options provided include an <code>if_exists</code> key, it will be used to check if the column does not exist. This will silently ignore the migration rather than raising if the column was already used.</p>

<pre><code>remove_column(:suppliers, :qualification, if_exists: true)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 688
      def remove_column(table_name, column_name, type = nil, **options)
        return if options[:if_exists] == true &amp;&amp; !column_exists?(table_name, column_name)

        execute &quot;ALTER TABLE #{quote_table_name(table_name)} #{remove_column_for_alter(table_name, column_name, type, **options)}&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L688" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-remove_columns">
            
              remove_columns(table_name, *column_names, type: nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Removes the given columns from the table definition.</p>

<pre><code>remove_columns(:suppliers, :qualification, :experience)
</code></pre>

<p><code>type</code> and other column options can be passed to make migration reversible.</p>

<pre><code>remove_columns(:suppliers, :qualification, :experience, type: :string, null: false)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 664
      def remove_columns(table_name, *column_names, type: nil, **options)
        if column_names.empty?
          raise ArgumentError.new(&quot;You must specify at least one column name. Example: remove_columns(:people, :first_name)&quot;)
        end

        remove_column_fragments = remove_columns_for_alter(table_name, *column_names, type: type, **options)
        execute &quot;ALTER TABLE #{quote_table_name(table_name)} #{remove_column_fragments.join(&#39;, &#39;)}&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L664" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-remove_foreign_key">
            
              remove_foreign_key(from_table, to_table = nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Removes the given foreign key from the table. Any option parameters provided will be used to re-add the foreign key in case of a migration rollback. It is recommended that you provide any options used when creating the foreign key so that the migration can be reverted properly.</p>

<p>Removes the foreign key on <code>accounts.branch_id</code>.</p>

<pre><code>remove_foreign_key :accounts, :branches
</code></pre>

<p>Removes the foreign key on <code>accounts.owner_id</code>.</p>

<pre><code>remove_foreign_key :accounts, column: :owner_id
</code></pre>

<p>Removes the foreign key on <code>accounts.owner_id</code>.</p>

<pre><code>remove_foreign_key :accounts, to_table: :owners
</code></pre>

<p>Removes the foreign key named <code>special_fk_name</code> on the <code>accounts</code> table.</p>

<pre><code>remove_foreign_key :accounts, name: :special_fk_name
</code></pre>

<p>Checks if the foreign key exists before trying to remove it. Will silently ignore indexes that don‚Äôt exist.</p>

<pre><code>remove_foreign_key :accounts, :branches, if_exists: true
</code></pre>

<p>The <code>options</code> hash accepts the same keys as <a href="SchemaStatements.html#method-i-add_foreign_key"><code>SchemaStatements#add_foreign_key</code></a> with an addition of</p>
<dl class="rdoc-list label-list"><dt><code>:to_table</code>
<dd>
<p>The name of the table that contains the referenced primary key.</p>
</dd></dl>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1193
      def remove_foreign_key(from_table, to_table = nil, **options)
        return unless use_foreign_keys?
        return if options.delete(:if_exists) == true &amp;&amp; !foreign_key_exists?(from_table, to_table)

        fk_name_to_delete = foreign_key_for!(from_table, to_table: to_table, **options).name

        at = create_alter_table from_table
        at.drop_foreign_key fk_name_to_delete

        execute schema_creation.accept(at)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1193" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-remove_index">
            
              remove_index(table_name, column_name = nil, **options)
            
          </h3>

          
            <div class="description">
              <p>Removes the given index from the table.</p>

<p>Removes the index on <code>branch_id</code> in the <code>accounts</code> table if exactly one such index exists.</p>

<pre><code>remove_index :accounts, :branch_id
</code></pre>

<p>Removes the index on <code>branch_id</code> in the <code>accounts</code> table if exactly one such index exists.</p>

<pre><code>remove_index :accounts, column: :branch_id
</code></pre>

<p>Removes the index on <code>branch_id</code> and <code>party_id</code> in the <code>accounts</code> table if exactly one such index exists.</p>

<pre><code>remove_index :accounts, column: [:branch_id, :party_id]
</code></pre>

<p>Removes the index named <code>by_branch_party</code> in the <code>accounts</code> table.</p>

<pre><code>remove_index :accounts, name: :by_branch_party
</code></pre>

<p>Removes the index on <code>branch_id</code> named <code>by_branch_party</code> in the <code>accounts</code> table.</p>

<pre><code>remove_index :accounts, :branch_id, name: :by_branch_party
</code></pre>

<p>Checks if the index exists before trying to remove it. Will silently ignore indexes that don‚Äôt exist.</p>

<pre><code>remove_index :accounts, if_exists: true
</code></pre>

<p>Removes the index named <code>by_branch_party</code> in the <code>accounts</code> table <code>concurrently</code>.</p>

<pre><code>remove_index :accounts, name: :by_branch_party, algorithm: :concurrently
</code></pre>

<p>Note: only supported by PostgreSQL.</p>

<p>Concurrently removing an index is not supported in a transaction.</p>

<p>For more information see the <a href="../Migration.html">‚ÄúTransactional Migrations‚Äù section</a>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 945
      def remove_index(table_name, column_name = nil, **options)
        return if options[:if_exists] &amp;&amp; !index_exists?(table_name, column_name, **options)

        index_name = index_name_for_remove(table_name, column_name, options)

        execute &quot;DROP INDEX #{quote_column_name(index_name)} ON #{quote_table_name(table_name)}&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L945" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-remove_reference">
            
              remove_reference(table_name, ref_name, foreign_key: false, polymorphic: false, **options)
            
          </h3>

          
            <div class="description">
              <p>Removes the reference(s). Also removes a <code>type</code> column if one exists.</p>

<h6 id="method-i-remove_reference-label-Remove+the+reference">Remove the reference</h6>

<pre><code>remove_reference(:products, :user, index: false)
</code></pre>

<h6 id="method-i-remove_reference-label-Remove+polymorphic+reference">Remove polymorphic reference</h6>

<pre><code>remove_reference(:products, :supplier, polymorphic: true)
</code></pre>

<h6 id="method-i-remove_reference-label-Remove+the+reference+with+a+foreign+key">Remove the reference with a foreign key</h6>

<pre><code>remove_reference(:products, :user, foreign_key: true)
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="SchemaStatements.html#method-i-remove_belongs_to">remove_belongs_to</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1061
      def remove_reference(table_name, ref_name, foreign_key: false, polymorphic: false, **options)
        conditional_options = options.slice(:if_exists, :if_not_exists)

        if foreign_key
          reference_name = Base.pluralize_table_names ? ref_name.to_s.pluralize : ref_name
          if foreign_key.is_a?(Hash)
            foreign_key_options = foreign_key.merge(conditional_options)
          else
            foreign_key_options = { to_table: reference_name, **conditional_options }
          end
          foreign_key_options[:column] ||= &quot;#{ref_name}_id&quot;
          remove_foreign_key(table_name, **foreign_key_options)
        end

        remove_column(table_name, &quot;#{ref_name}_id&quot;, **conditional_options)
        remove_column(table_name, &quot;#{ref_name}_type&quot;, **conditional_options) if polymorphic
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1061" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-remove_timestamps">
            
              remove_timestamps(table_name, **options)
            
          </h3>

          
            <div class="description">
              <p>Removes the timestamp columns (<code>created_at</code> and <code>updated_at</code>) from the table definition.</p>

<pre><code>remove_timestamps(:suppliers)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1441
      def remove_timestamps(table_name, **options)
        remove_columns table_name, :updated_at, :created_at
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1441" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-rename_column">
            
              rename_column(table_name, column_name, new_column_name)
            
          </h3>

          
            <div class="description">
              <p>Renames a column.</p>

<pre><code>rename_column(:suppliers, :description, :name)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 755
      def rename_column(table_name, column_name, new_column_name)
        raise NotImplementedError, &quot;rename_column is not implemented&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L755" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-rename_index">
            
              rename_index(table_name, old_name, new_name)
            
          </h3>

          
            <div class="description">
              <p>Renames an index.</p>

<p>Rename the <code>index_people_on_last_name</code> index to <code>index_users_on_last_name</code>:</p>

<pre><code>rename_index :people, &#39;index_people_on_last_name&#39;, &#39;index_users_on_last_name&#39;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 959
      def rename_index(table_name, old_name, new_name)
        old_name = old_name.to_s
        new_name = new_name.to_s
        validate_index_length!(table_name, new_name)

        # this is a naive implementation; some DBs may support this more efficiently (PostgreSQL, for instance)
        old_index_def = indexes(table_name).detect { |i| i.name == old_name }
        return unless old_index_def
        add_index(table_name, old_index_def.columns, name: new_name, unique: old_index_def.unique)
        remove_index(table_name, name: old_name)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L959" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-rename_table">
            
              rename_table(table_name, new_name, **)
            
          </h3>

          
            <div class="description">
              <p>Renames a table.</p>

<pre><code>rename_table(&#39;octopuses&#39;, &#39;octopi&#39;)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 515
      def rename_table(table_name, new_name, **)
        raise NotImplementedError, &quot;rename_table is not implemented&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L515" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-table_alias_for">
            
              table_alias_for(table_name)
            
          </h3>

          
            <div class="description">
              <p>Truncates a table alias according to the limits of the current adapter.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 28
      def table_alias_for(table_name)
        table_name[0...table_alias_length].tr(&quot;.&quot;, &quot;_&quot;)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L28" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-table_comment">
            
              table_comment(table_name)
            
          </h3>

          
            <div class="description">
              <p>Returns the table comment that‚Äôs stored in database metadata.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 23
      def table_comment(table_name)
        nil
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L23" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-table_exists-3F">
            
              table_exists?(table_name)
            
          </h3>

          
            <div class="description">
              <p>Checks to see if the table <code>table_name</code> exists on the database.</p>

<pre><code>table_exists?(:developers)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 59
      def table_exists?(table_name)
        query_values(data_source_sql(table_name, type: &quot;BASE TABLE&quot;), &quot;SCHEMA&quot;).any? if table_name.present?
      rescue NotImplementedError
        tables.include?(table_name.to_s)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L59" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-table_options">
            
              table_options(table_name)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 18
      def table_options(table_name)
        nil
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L18" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-tables">
            
              tables()
            
          </h3>

          
            <div class="description">
              <p>Returns an array of table names defined in the database.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 51
      def tables
        query_values(data_source_sql(type: &quot;BASE TABLE&quot;), &quot;SCHEMA&quot;)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L51" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-use_foreign_keys-3F">
            
              use_foreign_keys?()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 1518
      def use_foreign_keys?
        supports_foreign_keys? &amp;&amp; foreign_keys_enabled?
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1518" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-view_exists-3F">
            
              view_exists?(view_name)
            
          </h3>

          
            <div class="description">
              <p>Checks to see if the view <code>view_name</code> exists on the database.</p>

<pre><code>view_exists?(:ebooks)
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 74
      def view_exists?(view_name)
        query_values(data_source_sql(view_name, type: &quot;VIEW&quot;), &quot;SCHEMA&quot;).any? if view_name.present?
      rescue NotImplementedError
        views.include?(view_name.to_s)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L74" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-views">
            
              views()
            
          </h3>

          
            <div class="description">
              <p>Returns an array of view names defined in the database.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb, line 66
      def views
        query_values(data_source_sql(type: &quot;VIEW&quot;), &quot;SCHEMA&quot;)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/b752c38e81a310c1aaca78c7cdd1784009ea189a/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L66" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
  
</div>

    </div>
</div>
