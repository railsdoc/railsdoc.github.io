---
title: ActionView::Helpers::FormHelper
layout: default
---
<div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 5.2.8</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActionView::Helpers::FormHelper
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/actionview/lib/action_view/helpers/form_helper_rb.html">actionview/lib/action_view/helpers/form_helper.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Form helpers are designed to make working with resources much easier compared to using vanilla HTML.</p>

<p>Typically, a form designed to create or update a resource reflects the identity of the resource in several ways: (i) the URL that the form is sent to (the form element&#39;s <code>action</code> attribute) should result in a request being routed to the appropriate controller action (with the appropriate <code>:id</code> parameter in the case of an existing resource), (ii) input fields should be named in such a way that in the controller their values appear in the appropriate places within the <code>params</code> hash, and (iii) for an existing record, when the form is initially displayed, input fields corresponding to attributes of the resource should show the current values of those attributes.</p>

<p>In Rails, this is usually achieved by creating the form using <code>form_for</code> and a number of related helper methods. <code>form_for</code> generates an appropriate <code>form</code> tag and yields a form builder object that knows the model the form is about. Input fields are created by calling methods defined on the form builder, which means they are able to generate the appropriate names and default values corresponding to the model attributes, as well as convenient IDs, etc. Conventions in the generated field names allow controllers to receive form data nicely structured in <code>params</code> with no effort on your side.</p>

<p>For example, to create a new person you typically set up a new instance of <code>Person</code> in the <code>PeopleController#new</code> action, <code>@person</code>, and in the view template pass that object to <code>form_for</code>:</p>

<pre><code>&lt;%= form_for @person do |f| %&gt;
  &lt;%= f.label :first_name %&gt;:
  &lt;%= f.text_field :first_name %&gt;&lt;br /&gt;

  &lt;%= f.label :last_name %&gt;:
  &lt;%= f.text_field :last_name %&gt;&lt;br /&gt;

  &lt;%= f.submit %&gt;
&lt;% end %&gt;
</code></pre>

<p>The HTML generated for this would be (modulus formatting):</p>

<pre><code>&lt;form action=&quot;/people&quot; class=&quot;new_person&quot; id=&quot;new_person&quot; method=&quot;post&quot;&gt;
  &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;NrOp5bsjoLRuK8IW5+dQEYjKGUJDe7TQoZVvq95Wteg=&quot; /&gt;
  &lt;label for=&quot;person_first_name&quot;&gt;First name&lt;/label&gt;:
  &lt;input id=&quot;person_first_name&quot; name=&quot;person[first_name]&quot; type=&quot;text&quot; /&gt;&lt;br /&gt;

  &lt;label for=&quot;person_last_name&quot;&gt;Last name&lt;/label&gt;:
  &lt;input id=&quot;person_last_name&quot; name=&quot;person[last_name]&quot; type=&quot;text&quot; /&gt;&lt;br /&gt;

  &lt;input name=&quot;commit&quot; type=&quot;submit&quot; value=&quot;Create Person&quot; /&gt;
&lt;/form&gt;
</code></pre>

<p>As you see, the HTML reflects knowledge about the resource in several spots, like the path the form should be submitted to, or the names of the input fields.</p>

<p>In particular, thanks to the conventions followed in the generated field names, the controller gets a nested hash <code>params[:person]</code> with the person attributes set in the form. That hash is ready to be passed to <code>Person.new</code>:</p>

<pre><code>@person = Person.new(params[:person])
if @person.save
  # success
else
  # error handling
end
</code></pre>

<p>Interestingly, the exact same view code in the previous example can be used to edit a person. If <code>@person</code> is an existing record with name “John Smith” and ID 256, the code above as is would yield instead:</p>

<pre><code>&lt;form action=&quot;/people/256&quot; class=&quot;edit_person&quot; id=&quot;edit_person_256&quot; method=&quot;post&quot;&gt;
  &lt;input name=&quot;_method&quot; type=&quot;hidden&quot; value=&quot;patch&quot; /&gt;
  &lt;input name=&quot;authenticity_token&quot; type=&quot;hidden&quot; value=&quot;NrOp5bsjoLRuK8IW5+dQEYjKGUJDe7TQoZVvq95Wteg=&quot; /&gt;
  &lt;label for=&quot;person_first_name&quot;&gt;First name&lt;/label&gt;:
  &lt;input id=&quot;person_first_name&quot; name=&quot;person[first_name]&quot; type=&quot;text&quot; value=&quot;John&quot; /&gt;&lt;br /&gt;

  &lt;label for=&quot;person_last_name&quot;&gt;Last name&lt;/label&gt;:
  &lt;input id=&quot;person_last_name&quot; name=&quot;person[last_name]&quot; type=&quot;text&quot; value=&quot;Smith&quot; /&gt;&lt;br /&gt;

  &lt;input name=&quot;commit&quot; type=&quot;submit&quot; value=&quot;Update Person&quot; /&gt;
&lt;/form&gt;
</code></pre>

<p>Note that the endpoint, default values, and submit button label are tailored for <code>@person</code>. That works that way because the involved helpers know whether the resource is a new record or not, and generate HTML accordingly.</p>

<p>The controller would receive the form data again in <code>params[:person]</code>, ready to be passed to <code>Person#update</code>:</p>

<pre><code>if @person.update(params[:person])
  # success
else
  # error handling
end
</code></pre>

<p>That&#39;s how you typically work with resources.</p>

    </div>
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-check_box">check_box</a>
        </li>
      
        <li>
          <a href="#method-i-color_field">color_field</a>
        </li>
      
        <li>
          <a href="#method-i-date_field">date_field</a>
        </li>
      
        <li>
          <a href="#method-i-datetime_field">datetime_field</a>
        </li>
      
        <li>
          <a href="#method-i-datetime_local_field">datetime_local_field</a>
        </li>
      
        <li>
          <a href="#method-i-email_field">email_field</a>
        </li>
      
        <li>
          <a href="#method-i-fields">fields</a>
        </li>
      
        <li>
          <a href="#method-i-fields_for">fields_for</a>
        </li>
      
        <li>
          <a href="#method-i-file_field">file_field</a>
        </li>
      
        <li>
          <a href="#method-i-form_for">form_for</a>
        </li>
      
        <li>
          <a href="#method-i-form_with">form_with</a>
        </li>
      
        <li>
          <a href="#method-i-hidden_field">hidden_field</a>
        </li>
      
        <li>
          <a href="#method-i-label">label</a>
        </li>
      
        <li>
          <a href="#method-i-month_field">month_field</a>
        </li>
      
        <li>
          <a href="#method-i-number_field">number_field</a>
        </li>
      
        <li>
          <a href="#method-i-password_field">password_field</a>
        </li>
      
        <li>
          <a href="#method-i-phone_field">phone_field</a>
        </li>
      
        <li>
          <a href="#method-i-radio_button">radio_button</a>
        </li>
      
        <li>
          <a href="#method-i-range_field">range_field</a>
        </li>
      
        <li>
          <a href="#method-i-search_field">search_field</a>
        </li>
      
        <li>
          <a href="#method-i-telephone_field">telephone_field</a>
        </li>
      
        <li>
          <a href="#method-i-text_area">text_area</a>
        </li>
      
        <li>
          <a href="#method-i-text_field">text_field</a>
        </li>
      
        <li>
          <a href="#method-i-time_field">time_field</a>
        </li>
      
        <li>
          <a href="#method-i-url_field">url_field</a>
        </li>
      
        <li>
          <a href="#method-i-week_field">week_field</a>
        </li>
      
    </ul>
  

  
    <!-- Includes -->
    <h2 id="included-modules">Included Modules</h2>
    <ul>
      
        <li>
          
            <a href="FormTagHelper.html">
              ActionView::Helpers::FormTagHelper
            </a>
          
        </li>
      
        <li>
          
            <a href="UrlHelper.html">
              ActionView::Helpers::UrlHelper
            </a>
          
        </li>
      
        <li>
          
            <a href="../RecordIdentifier.html">
              ActionView::RecordIdentifier
            </a>
          
        </li>
      
    </ul>
  

  
    

    

    

    

    <!-- Methods -->
    
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-check_box">
            
              check_box(object_name, method, options = {}, checked_value = &quot;1&quot;, unchecked_value = &quot;0&quot;)
            
          </h3>

          
            <div class="description">
              <p>Returns a checkbox tag tailored for accessing a specified attribute (identified by <code>method</code>) on an object assigned to the template (identified by <code>object</code>). This object must be an instance object (@object) and not a local object. It&#39;s intended that <code>method</code> returns an integer and if that integer is above zero, then the checkbox is checked. Additional options on the input tag can be passed as a hash with <code>options</code>. The <code>checked_value</code> defaults to 1 while the default <code>unchecked_value</code> is set to 0 which is convenient for boolean values.</p>

<h4 id="method-i-check_box-label-Gotcha">Gotcha</h4>

<p>The HTML specification says unchecked check boxes are not successful, and thus web browsers do not send them. Unfortunately this introduces a gotcha: if an <code>Invoice</code> model has a <code>paid</code> flag, and in the form that edits a paid invoice the user unchecks its check box, no <code>paid</code> parameter is sent. So, any mass-assignment idiom like</p>

<pre><code>@invoice.update(params[:invoice])
</code></pre>

<p>wouldn&#39;t update the flag.</p>

<p>To prevent this the helper generates an auxiliary hidden field before the very check box. The hidden field has the same name and its attributes mimic an unchecked check box.</p>

<p>This way, the client either sends only the hidden field (representing the check box is unchecked), or both fields. Since the HTML specification says key/value pairs have to be sent in the same order they appear in the form, and parameters extraction gets the last occurrence of any repeated key in the query string, that works for ordinary forms.</p>

<p>Unfortunately that workaround does not work when the check box goes within an array-like parameter, as in</p>

<pre><code>&lt;%= fields_for &quot;project[invoice_attributes][]&quot;, invoice, index: nil do |form| %&gt;
  &lt;%= form.check_box :paid %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>because parameter name repetition is precisely what Rails seeks to distinguish the elements of the array. For each item with a checked check box you get an extra ghost item with only that attribute, assigned to “0”.</p>

<p>In that case it is preferable to either use <code>check_box_tag</code> or to use hashes instead of arrays.</p>

<pre><code># Let&#39;s say that @post.validated? is 1:
check_box(&quot;post&quot;, &quot;validated&quot;)
# =&gt; &lt;input name=&quot;post[validated]&quot; type=&quot;hidden&quot; value=&quot;0&quot; /&gt;
#    &lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot; id=&quot;post_validated&quot; name=&quot;post[validated]&quot; value=&quot;1&quot; /&gt;

# Let&#39;s say that @puppy.gooddog is &quot;no&quot;:
check_box(&quot;puppy&quot;, &quot;gooddog&quot;, {}, &quot;yes&quot;, &quot;no&quot;)
# =&gt; &lt;input name=&quot;puppy[gooddog]&quot; type=&quot;hidden&quot; value=&quot;no&quot; /&gt;
#    &lt;input type=&quot;checkbox&quot; id=&quot;puppy_gooddog&quot; name=&quot;puppy[gooddog]&quot; value=&quot;yes&quot; /&gt;

check_box(&quot;eula&quot;, &quot;accepted&quot;, { class: &#39;eula_check&#39; }, &quot;yes&quot;, &quot;no&quot;)
# =&gt; &lt;input name=&quot;eula[accepted]&quot; type=&quot;hidden&quot; value=&quot;no&quot; /&gt;
#    &lt;input type=&quot;checkbox&quot; class=&quot;eula_check&quot; id=&quot;eula_accepted&quot; name=&quot;eula[accepted]&quot; value=&quot;yes&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1294
      def check_box(object_name, method, options = {}, checked_value = &quot;1&quot;, unchecked_value = &quot;0&quot;)
        Tags::CheckBox.new(object_name, method, self, checked_value, unchecked_value, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1294" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-color_field">
            
              color_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="FormHelper.html#method-i-text_field"><code>text_field</code></a> of type “color”.</p>

<pre><code>color_field(&quot;car&quot;, &quot;color&quot;)
# =&gt; &lt;input id=&quot;car_color&quot; name=&quot;car[color]&quot; type=&quot;color&quot; value=&quot;#000000&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1324
      def color_field(object_name, method, options = {})
        Tags::ColorField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1324" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-date_field">
            
              date_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="FormHelper.html#method-i-text_field"><code>text_field</code></a> of type “date”.</p>

<pre><code>date_field(&quot;user&quot;, &quot;born_on&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; /&gt;
</code></pre>

<p>The default value is generated by trying to call <code>strftime</code> with “%Y-%m-%d” on the object&#39;s value, which makes it behave as expected for instances of <a href="../../DateTime.html"><code>DateTime</code></a> and <a href="../../ActiveSupport/TimeWithZone.html"><code>ActiveSupport::TimeWithZone</code></a>. You can still override that by passing the “value” option explicitly, e.g.</p>

<pre><code>@user.born_on = Date.new(1984, 1, 27)
date_field(&quot;user&quot;, &quot;born_on&quot;, value: &quot;1984-05-12&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; value=&quot;1984-05-12&quot; /&gt;
</code></pre>

<p>You can create values for the “min” and “max” attributes by passing instances of <a href="../../Date.html"><code>Date</code></a> or <a href="../../Time.html"><code>Time</code></a> to the options hash.</p>

<pre><code>date_field(&quot;user&quot;, &quot;born_on&quot;, min: Date.today)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; min=&quot;2014-05-20&quot; /&gt;
</code></pre>

<p>Alternatively, you can pass a <a href="../../String.html"><code>String</code></a> formatted as an ISO8601 date as the values for “min” and “max.”</p>

<pre><code>date_field(&quot;user&quot;, &quot;born_on&quot;, min: &quot;2014-05-20&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; min=&quot;2014-05-20&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1388
      def date_field(object_name, method, options = {})
        Tags::DateField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1388" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-datetime_field">
            
              datetime_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="FormHelper.html#method-i-text_field"><code>text_field</code></a> of type “datetime-local”.</p>

<pre><code>datetime_field(&quot;user&quot;, &quot;born_on&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;datetime-local&quot; /&gt;
</code></pre>

<p>The default value is generated by trying to call <code>strftime</code> with “%Y-%m-%dT%T” on the object&#39;s value, which makes it behave as expected for instances of <a href="../../DateTime.html"><code>DateTime</code></a> and <a href="../../ActiveSupport/TimeWithZone.html"><code>ActiveSupport::TimeWithZone</code></a>.</p>

<pre><code>@user.born_on = Date.new(1984, 1, 12)
datetime_field(&quot;user&quot;, &quot;born_on&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;datetime-local&quot; value=&quot;1984-01-12T00:00:00&quot; /&gt;
</code></pre>

<p>You can create values for the “min” and “max” attributes by passing instances of <a href="../../Date.html"><code>Date</code></a> or <a href="../../Time.html"><code>Time</code></a> to the options hash.</p>

<pre><code>datetime_field(&quot;user&quot;, &quot;born_on&quot;, min: Date.today)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;datetime-local&quot; min=&quot;2014-05-20T00:00:00.000&quot; /&gt;
</code></pre>

<p>Alternatively, you can pass a <a href="../../String.html"><code>String</code></a> formatted as an ISO8601 datetime as the values for “min” and “max.”</p>

<pre><code>datetime_field(&quot;user&quot;, &quot;born_on&quot;, min: &quot;2014-05-20T00:00:00&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;datetime-local&quot; min=&quot;2014-05-20T00:00:00.000&quot; /&gt;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FormHelper.html#method-i-datetime_local_field">datetime_local_field</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1446
      def datetime_field(object_name, method, options = {})
        Tags::DatetimeLocalField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1446" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-datetime_local_field">
            
              datetime_local_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FormHelper.html#method-i-datetime_field">datetime_field</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-email_field">
            
              email_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="FormHelper.html#method-i-text_field"><code>text_field</code></a> of type “email”.</p>

<pre><code>email_field(&quot;user&quot;, &quot;address&quot;)
# =&gt; &lt;input id=&quot;user_address&quot; name=&quot;user[address]&quot; type=&quot;email&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1500
      def email_field(object_name, method, options = {})
        Tags::EmailField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1500" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-fields">
            
              fields(scope = nil, model: nil, **options, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Scopes input fields with either an explicit scope or model. Like <code>form_with</code> does with <code>:scope</code> or <code>:model</code>, except it doesn&#39;t output the form tags.</p>

<pre><code># Using a scope prefixes the input field names:
&lt;%= fields :comment do |fields| %&gt;
  &lt;%= fields.text_field :body %&gt;
&lt;% end %&gt;
# =&gt; &lt;input type=&quot;text&quot; name=&quot;comment[body]&quot;&gt;

# Using a model infers the scope and assigns field values:
&lt;%= fields model: Comment.new(body: &quot;full bodied&quot;) do |fields| %&gt;
  &lt;%= fields.text_field :body %&gt;
&lt;% end %&gt;
# =&gt; &lt;input type=&quot;text&quot; name=&quot;comment[body]&quot; value=&quot;full bodied&quot;&gt;

# Using +fields+ with +form_with+:
&lt;%= form_with model: @post do |form| %&gt;
  &lt;%= form.text_field :title %&gt;

  &lt;%= form.fields :comment do |fields| %&gt;
    &lt;%= fields.text_field :body %&gt;
  &lt;% end %&gt;
&lt;% end %&gt;
</code></pre>

<p>Much like <code>form_with</code> a <a href="FormBuilder.html"><code>FormBuilder</code></a> instance associated with the scope or model is yielded, so any generated field names are prefixed with either the passed scope or the scope inferred from the <code>:model</code>.</p>

<h3 id="method-i-fields-label-Mixing+with+other+form+helpers">Mixing with other form helpers</h3>

<p>While <code>form_with</code> uses a <a href="FormBuilder.html"><code>FormBuilder</code></a> object it&#39;s possible to mix and match the stand-alone <a href="FormHelper.html"><code>FormHelper</code></a> methods and methods from FormTagHelper:</p>

<pre><code>&lt;%= fields model: @comment do |fields| %&gt;
  &lt;%= fields.text_field :body %&gt;

  &lt;%= text_area :commenter, :biography %&gt;
  &lt;%= check_box_tag &quot;comment[all_caps]&quot;, &quot;1&quot;, @comment.commenter.hulk_mode? %&gt;
&lt;% end %&gt;
</code></pre>

<p>Same goes for the methods in <a href="FormOptionsHelper.html"><code>FormOptionsHelper</code></a> and <a href="DateHelper.html"><code>DateHelper</code></a> designed to work with an object as a base, like <a href="FormOptionsHelper.html#method-i-collection_select"><code>FormOptionsHelper#collection_select</code></a> and <a href="DateHelper.html#method-i-datetime_select"><code>DateHelper#datetime_select</code></a>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1054
      def fields(scope = nil, model: nil, **options, &amp;block)
        options[:allow_method_names_outside_object] = true
        options[:skip_default_ids] = !form_with_generates_ids

        if model
          scope ||= model_name_from_record_or_class(model).param_key
        end

        builder = instantiate_builder(scope, model, options)
        capture(builder, &amp;block)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1054" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-fields_for">
            
              fields_for(record_name, record_object = nil, options = {}, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates a scope around a specific model object like <a href="FormHelper.html#method-i-form_for"><code>form_for</code></a>, but doesn&#39;t create the form tags themselves. This makes <a href="FormHelper.html#method-i-fields_for"><code>fields_for</code></a> suitable for specifying additional model objects in the same form.</p>

<p>Although the usage and purpose of <code>fields_for</code> is similar to <code>form_for</code>&#39;s, its method signature is slightly different. Like <code>form_for</code>, it yields a <a href="FormBuilder.html"><code>FormBuilder</code></a> object associated with a particular model object to a block, and within the block allows methods to be called on the builder to generate fields associated with the model object. Fields may reflect a model object in two ways - how they are named (hence how submitted values appear within the <code>params</code> hash in the controller) and what default values are shown when the form the fields appear in is first displayed. In order for both of these features to be specified independently, both an object name (represented by either a symbol or string) and the object itself can be passed to the method separately -</p>

<pre><code>&lt;%= form_for @person do |person_form| %&gt;
  First name: &lt;%= person_form.text_field :first_name %&gt;
  Last name : &lt;%= person_form.text_field :last_name %&gt;

  &lt;%= fields_for :permission, @person.permission do |permission_fields| %&gt;
    Admin?  : &lt;%= permission_fields.check_box :admin %&gt;
  &lt;% end %&gt;

  &lt;%= person_form.submit %&gt;
&lt;% end %&gt;
</code></pre>

<p>In this case, the checkbox field will be represented by an HTML <code>input</code> tag with the <code>name</code> attribute <code>permission[admin]</code>, and the submitted value will appear in the controller as <code>params[:permission][:admin]</code>. If <code>@person.permission</code> is an existing record with an attribute <code>admin</code>, the initial state of the checkbox when first displayed will reflect the value of <code>@person.permission.admin</code>.</p>

<p>Often this can be simplified by passing just the name of the model object to <code>fields_for</code> -</p>

<pre><code>&lt;%= fields_for :permission do |permission_fields| %&gt;
  Admin?: &lt;%= permission_fields.check_box :admin %&gt;
&lt;% end %&gt;
</code></pre>

<p>…in which case, if <code>:permission</code> also happens to be the name of an instance variable <code>@permission</code>, the initial state of the input field will reflect the value of that variable&#39;s attribute <code>@permission.admin</code>.</p>

<p>Alternatively, you can pass just the model object itself (if the first argument isn&#39;t a string or symbol <code>fields_for</code> will realize that the name has been omitted) -</p>

<pre><code>&lt;%= fields_for @person.permission do |permission_fields| %&gt;
  Admin?: &lt;%= permission_fields.check_box :admin %&gt;
&lt;% end %&gt;
</code></pre>

<p>and <code>fields_for</code> will derive the required name of the field from the <em>class</em> of the model object, e.g. if <code>@person.permission</code>, is of class <code>Permission</code>, the field will still be named <code>permission[admin]</code>.</p>

<p>Note: This also works for the methods in <a href="FormOptionsHelper.html"><code>FormOptionsHelper</code></a> and <a href="DateHelper.html"><code>DateHelper</code></a> that are designed to work with an object as base, like <a href="FormOptionsHelper.html#method-i-collection_select"><code>FormOptionsHelper#collection_select</code></a> and <a href="DateHelper.html#method-i-datetime_select"><code>DateHelper#datetime_select</code></a>.</p>

<h3 id="method-i-fields_for-label-Nested+Attributes+Examples">Nested Attributes Examples</h3>

<p>When the object belonging to the current scope has a nested attribute writer for a certain attribute, <a href="FormHelper.html#method-i-fields_for"><code>fields_for</code></a> will yield a new scope for that attribute. This allows you to create forms that set or change the attributes of a parent object and its associations in one go.</p>

<p>Nested attribute writers are normal setter methods named after an association. The most common way of defining these writers is either with <code>accepts_nested_attributes_for</code> in a model definition or by defining a method with the proper name. For example: the attribute writer for the association <code>:address</code> is called <code>address_attributes=</code>.</p>

<p>Whether a one-to-one or one-to-many style form builder will be yielded depends on whether the normal reader method returns a <em>single</em> object or an <em>array</em> of objects.</p>

<h4 id="method-i-fields_for-label-One-to-one">One-to-one</h4>

<p>Consider a Person class which returns a <em>single</em> Address from the <code>address</code> reader method and responds to the <code>address_attributes=</code> writer method:</p>

<pre><code>class Person
  def address
    @address
  end

  def address_attributes=(attributes)
    # Process the attributes hash
  end
end
</code></pre>

<p>This model can now be used with a nested <a href="FormHelper.html#method-i-fields_for"><code>fields_for</code></a>, like so:</p>

<pre><code>&lt;%= form_for @person do |person_form| %&gt;
  ...
  &lt;%= person_form.fields_for :address do |address_fields| %&gt;
    Street  : &lt;%= address_fields.text_field :street %&gt;
    Zip code: &lt;%= address_fields.text_field :zip_code %&gt;
  &lt;% end %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>When address is already an association on a Person you can use <code>accepts_nested_attributes_for</code> to define the writer method for you:</p>

<pre><code>class Person &lt; ActiveRecord::Base
  has_one :address
  accepts_nested_attributes_for :address
end
</code></pre>

<p>If you want to destroy the associated model through the form, you have to enable it first using the <code>:allow_destroy</code> option for <code>accepts_nested_attributes_for</code>:</p>

<pre><code>class Person &lt; ActiveRecord::Base
  has_one :address
  accepts_nested_attributes_for :address, allow_destroy: true
end
</code></pre>

<p>Now, when you use a form element with the <code>_destroy</code> parameter, with a value that evaluates to <code>true</code>, you will destroy the associated model (eg. 1, &#39;1&#39;, true, or &#39;true&#39;):</p>

<pre><code>&lt;%= form_for @person do |person_form| %&gt;
  ...
  &lt;%= person_form.fields_for :address do |address_fields| %&gt;
    ...
    Delete: &lt;%= address_fields.check_box :_destroy %&gt;
  &lt;% end %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<h4 id="method-i-fields_for-label-One-to-many">One-to-many</h4>

<p>Consider a Person class which returns an <em>array</em> of Project instances from the <code>projects</code> reader method and responds to the <code>projects_attributes=</code> writer method:</p>

<pre><code>class Person
  def projects
    [@project1, @project2]
  end

  def projects_attributes=(attributes)
    # Process the attributes hash
  end
end
</code></pre>

<p>Note that the <code>projects_attributes=</code> writer method is in fact required for <a href="FormHelper.html#method-i-fields_for"><code>fields_for</code></a> to correctly identify <code>:projects</code> as a collection, and the correct indices to be set in the form markup.</p>

<p>When projects is already an association on Person you can use <code>accepts_nested_attributes_for</code> to define the writer method for you:</p>

<pre><code>class Person &lt; ActiveRecord::Base
  has_many :projects
  accepts_nested_attributes_for :projects
end
</code></pre>

<p>This model can now be used with a nested fields_for. The block given to the nested <a href="FormHelper.html#method-i-fields_for"><code>fields_for</code></a> call will be repeated for each instance in the collection:</p>

<pre><code>&lt;%= form_for @person do |person_form| %&gt;
  ...
  &lt;%= person_form.fields_for :projects do |project_fields| %&gt;
    &lt;% if project_fields.object.active? %&gt;
      Name: &lt;%= project_fields.text_field :name %&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>It&#39;s also possible to specify the instance to be used:</p>

<pre><code>&lt;%= form_for @person do |person_form| %&gt;
  ...
  &lt;% @person.projects.each do |project| %&gt;
    &lt;% if project.active? %&gt;
      &lt;%= person_form.fields_for :projects, project do |project_fields| %&gt;
        Name: &lt;%= project_fields.text_field :name %&gt;
      &lt;% end %&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>Or a collection to be used:</p>

<pre><code>&lt;%= form_for @person do |person_form| %&gt;
  ...
  &lt;%= person_form.fields_for :projects, @active_projects do |project_fields| %&gt;
    Name: &lt;%= project_fields.text_field :name %&gt;
  &lt;% end %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>If you want to destroy any of the associated models through the form, you have to enable it first using the <code>:allow_destroy</code> option for <code>accepts_nested_attributes_for</code>:</p>

<pre><code>class Person &lt; ActiveRecord::Base
  has_many :projects
  accepts_nested_attributes_for :projects, allow_destroy: true
end
</code></pre>

<p>This will allow you to specify which models to destroy in the attributes hash by adding a form element for the <code>_destroy</code> parameter with a value that evaluates to <code>true</code> (eg. 1, &#39;1&#39;, true, or &#39;true&#39;):</p>

<pre><code>&lt;%= form_for @person do |person_form| %&gt;
  ...
  &lt;%= person_form.fields_for :projects do |project_fields| %&gt;
    Delete: &lt;%= project_fields.check_box :_destroy %&gt;
  &lt;% end %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>When a collection is used you might want to know the index of each object into the array. For this purpose, the <code>index</code> method is available in the <a href="FormBuilder.html"><code>FormBuilder</code></a> object.</p>

<pre><code>&lt;%= form_for @person do |person_form| %&gt;
  ...
  &lt;%= person_form.fields_for :projects do |project_fields| %&gt;
    Project #&lt;%= project_fields.index %&gt;
    ...
  &lt;% end %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>Note that <a href="FormHelper.html#method-i-fields_for"><code>fields_for</code></a> will automatically generate a hidden field to store the ID of the record. There are circumstances where this hidden field is not needed and you can pass <code>include_id: false</code> to prevent <a href="FormHelper.html#method-i-fields_for"><code>fields_for</code></a> from rendering it automatically.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1004
      def fields_for(record_name, record_object = nil, options = {}, &amp;block)
        builder = instantiate_builder(record_name, record_object, options)
        capture(builder, &amp;block)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1004" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-file_field">
            
              file_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a file upload input tag tailored for accessing a specified attribute (identified by <code>method</code>) on an object assigned to the template (identified by <code>object</code>). Additional options on the input tag can be passed as a hash with <code>options</code>. These options will be tagged onto the HTML as an HTML element attribute as in the example shown.</p>

<p>Using this method inside a <code>form_for</code> block will set the enclosing form&#39;s encoding to <code>multipart/form-data</code>.</p>

<h4 id="method-i-file_field-label-Options">Options</h4>
<ul><li>
<p>Creates standard HTML attributes for the tag.</p>
</li><li>
<p><code>:disabled</code> - If set to true, the user will not be able to use this input.</p>
</li><li>
<p><code>:multiple</code> - If set to true, *in most updated browsers* the user will be allowed to select multiple files.</p>
</li><li>
<p><code>:accept</code> - If set to one or multiple mime-types, the user will be suggested a filter when choosing a file. You still need to set up model validations.</p>
</li></ul>

<h4 id="method-i-file_field-label-Examples">Examples</h4>

<pre><code>file_field(:user, :avatar)
# =&gt; &lt;input type=&quot;file&quot; id=&quot;user_avatar&quot; name=&quot;user[avatar]&quot; /&gt;

file_field(:post, :image, multiple: true)
# =&gt; &lt;input type=&quot;file&quot; id=&quot;post_image&quot; name=&quot;post[image][]&quot; multiple=&quot;multiple&quot; /&gt;

file_field(:post, :attached, accept: &#39;text/html&#39;)
# =&gt; &lt;input accept=&quot;text/html&quot; type=&quot;file&quot; id=&quot;post_attached&quot; name=&quot;post[attached]&quot; /&gt;

file_field(:post, :image, accept: &#39;image/png,image/gif,image/jpeg&#39;)
# =&gt; &lt;input type=&quot;file&quot; id=&quot;post_image&quot; name=&quot;post[image]&quot; accept=&quot;image/png,image/gif,image/jpeg&quot; /&gt;

file_field(:attachment, :file, class: &#39;file_input&#39;)
# =&gt; &lt;input type=&quot;file&quot; id=&quot;attachment_file&quot; name=&quot;attachment[file]&quot; class=&quot;file_input&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1206
      def file_field(object_name, method, options = {})
        Tags::FileField.new(object_name, method, self, convert_direct_upload_option_to_url(options.dup)).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1206" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-form_for">
            
              form_for(record, options = {}, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates a form that allows the user to create or update the attributes of a specific model object.</p>

<p>The method can be used in several slightly different ways, depending on how much you wish to rely on Rails to infer automatically from the model how the form should be constructed. For a generic model object, a form can be created by passing <code>form_for</code> a string or symbol representing the object we are concerned with:</p>

<pre><code>&lt;%= form_for :person do |f| %&gt;
  First name: &lt;%= f.text_field :first_name %&gt;&lt;br /&gt;
  Last name : &lt;%= f.text_field :last_name %&gt;&lt;br /&gt;
  Biography : &lt;%= f.text_area :biography %&gt;&lt;br /&gt;
  Admin?    : &lt;%= f.check_box :admin %&gt;&lt;br /&gt;
  &lt;%= f.submit %&gt;
&lt;% end %&gt;
</code></pre>

<p>The variable <code>f</code> yielded to the block is a <a href="FormBuilder.html"><code>FormBuilder</code></a> object that incorporates the knowledge about the model object represented by <code>:person</code> passed to <code>form_for</code>. Methods defined on the <a href="FormBuilder.html"><code>FormBuilder</code></a> are used to generate fields bound to this model. Thus, for example,</p>

<pre><code>&lt;%= f.text_field :first_name %&gt;
</code></pre>

<p>will get expanded to</p>

<pre><code>&lt;%= text_field :person, :first_name %&gt;
</code></pre>

<p>which results in an HTML <code>&lt;input&gt;</code> tag whose <code>name</code> attribute is <code>person[first_name]</code>. This means that when the form is submitted, the value entered by the user will be available in the controller as <code>params[:person][:first_name]</code>.</p>

<p>For fields generated in this way using the <a href="FormBuilder.html"><code>FormBuilder</code></a>, if <code>:person</code> also happens to be the name of an instance variable <code>@person</code>, the default value of the field shown when the form is initially displayed (e.g. in the situation where you are editing an existing record) will be the value of the corresponding attribute of <code>@person</code>.</p>

<p>The rightmost argument to <code>form_for</code> is an optional hash of options -</p>
<ul><li>
<p><code>:url</code> - The URL the form is to be submitted to. This may be represented in the same way as values passed to <code>url_for</code> or <code>link_to</code>. So for example you may use a named route directly. When the model is represented by a string or symbol, as in the example above, if the <code>:url</code> option is not specified, by default the form will be sent back to the current URL (We will describe below an alternative resource-oriented usage of <code>form_for</code> in which the URL does not need to be specified explicitly).</p>
</li><li>
<p><code>:namespace</code> - A namespace for your form to ensure uniqueness of id attributes on form elements. The namespace attribute will be prefixed with underscore on the generated HTML id.</p>
</li><li>
<p><code>:method</code> - The method to use when submitting the form, usually either “get” or “post”. If “patch”, “put”, “delete”, or another verb is used, a hidden input with name <code>_method</code> is added to simulate the verb over post.</p>
</li><li>
<p><code>:authenticity_token</code> - Authenticity token to use in the form. Use only if you need to pass custom authenticity token string, or to not add authenticity_token field at all (by passing <code>false</code>). Remote forms may omit the embedded authenticity token by setting <code>config.action_view.embed_authenticity_token_in_remote_forms = false</code>. This is helpful when you&#39;re fragment-caching the form. Remote forms get the authenticity token from the <code>meta</code> tag, so embedding is unnecessary unless you support browsers without JavaScript.</p>
</li><li>
<p><code>:remote</code> - If set to true, will allow the Unobtrusive JavaScript drivers to control the submit behavior. By default this behavior is an ajax submit.</p>
</li><li>
<p><code>:enforce_utf8</code> - If set to false, a hidden input with name utf8 is not output.</p>
</li><li>
<p><code>:html</code> - Optional HTML attributes for the form tag.</p>
</li></ul>

<p>Also note that <code>form_for</code> doesn&#39;t create an exclusive scope. It&#39;s still possible to use both the stand-alone <a href="FormHelper.html"><code>FormHelper</code></a> methods and methods from <a href="FormTagHelper.html"><code>FormTagHelper</code></a>. For example:</p>

<pre><code>&lt;%= form_for :person do |f| %&gt;
  First name: &lt;%= f.text_field :first_name %&gt;
  Last name : &lt;%= f.text_field :last_name %&gt;
  Biography : &lt;%= text_area :person, :biography %&gt;
  Admin?    : &lt;%= check_box_tag &quot;person[admin]&quot;, &quot;1&quot;, @person.company.admin? %&gt;
  &lt;%= f.submit %&gt;
&lt;% end %&gt;
</code></pre>

<p>This also works for the methods in <a href="FormOptionsHelper.html"><code>FormOptionsHelper</code></a> and <a href="DateHelper.html"><code>DateHelper</code></a> that are designed to work with an object as base, like <a href="FormOptionsHelper.html#method-i-collection_select"><code>FormOptionsHelper#collection_select</code></a> and <a href="DateHelper.html#method-i-datetime_select"><code>DateHelper#datetime_select</code></a>.</p>

<h3 id="method-i-form_for-label-23form_for+with+a+model+object"><a href="FormHelper.html#method-i-form_for"><code>form_for</code></a> with a model object</h3>

<p>In the examples above, the object to be created or edited was represented by a symbol passed to <code>form_for</code>, and we noted that a string can also be used equivalently. It is also possible, however, to pass a model object itself to <code>form_for</code>. For example, if <code>@post</code> is an existing record you wish to edit, you can create the form using</p>

<pre><code>&lt;%= form_for @post do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>This behaves in almost the same way as outlined previously, with a couple of small exceptions. First, the prefix used to name the input elements within the form (hence the key that denotes them in the <code>params</code> hash) is actually derived from the object&#39;s <em>class</em>, e.g. <code>params[:post]</code> if the object&#39;s class is <code>Post</code>. However, this can be overwritten using the <code>:as</code> option, e.g. -</p>

<pre><code>&lt;%= form_for(@person, as: :client) do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>would result in <code>params[:client]</code>.</p>

<p>Secondly, the field values shown when the form is initially displayed are taken from the attributes of the object passed to <code>form_for</code>, regardless of whether the object is an instance variable. So, for example, if we had a <em>local</em> variable <code>post</code> representing an existing record,</p>

<pre><code>&lt;%= form_for post do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>would produce a form with fields whose initial state reflect the current values of the attributes of <code>post</code>.</p>

<h3 id="method-i-form_for-label-Resource-oriented+style">Resource-oriented style</h3>

<p>In the examples just shown, although not indicated explicitly, we still need to use the <code>:url</code> option in order to specify where the form is going to be sent. However, further simplification is possible if the record passed to <code>form_for</code> is a <em>resource</em>, i.e. it corresponds to a set of RESTful routes, e.g. defined using the <code>resources</code> method in <code>config/routes.rb</code>. In this case Rails will simply infer the appropriate URL from the record itself. For example,</p>

<pre><code>&lt;%= form_for @post do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>is then equivalent to something like:</p>

<pre><code>&lt;%= form_for @post, as: :post, url: post_path(@post), method: :patch, html: { class: &quot;edit_post&quot;, id: &quot;edit_post_45&quot; } do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>And for a new record</p>

<pre><code>&lt;%= form_for(Post.new) do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>is equivalent to something like:</p>

<pre><code>&lt;%= form_for @post, as: :post, url: posts_path, html: { class: &quot;new_post&quot;, id: &quot;new_post&quot; } do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>However you can still overwrite individual conventions, such as:</p>

<pre><code>&lt;%= form_for(@post, url: super_posts_path) do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>You can also set the answer format, like this:</p>

<pre><code>&lt;%= form_for(@post, format: :json) do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>For namespaced routes, like <code>admin_post_url</code>:</p>

<pre><code>&lt;%= form_for([:admin, @post]) do |f| %&gt;
 ...
&lt;% end %&gt;
</code></pre>

<p>If your resource has associations defined, for example, you want to add comments to the document given that the routes are set correctly:</p>

<pre><code>&lt;%= form_for([@document, @comment]) do |f| %&gt;
 ...
&lt;% end %&gt;
</code></pre>

<p>Where <code>@document = Document.find(params[:id])</code> and <code>@comment = Comment.new</code>.</p>

<h3 id="method-i-form_for-label-Setting+the+method">Setting the method</h3>

<p>You can force the form to use the full array of HTTP verbs by setting</p>

<pre><code>method: (:get|:post|:patch|:put|:delete)
</code></pre>

<p>in the options hash. If the verb is not GET or POST, which are natively supported by HTML forms, the form will be set to POST and a hidden input called _method will carry the intended verb for the server to interpret.</p>

<h3 id="method-i-form_for-label-Unobtrusive+JavaScript">Unobtrusive JavaScript</h3>

<p>Specifying:</p>

<pre><code>remote: true
</code></pre>

<p>in the options hash creates a form that will allow the unobtrusive JavaScript drivers to modify its behavior. The expected default behavior is an XMLHttpRequest in the background instead of the regular POST arrangement, but ultimately the behavior is the choice of the JavaScript driver implementor. Even though it&#39;s using JavaScript to serialize the form elements, the form submission will work just like a regular submission as viewed by the receiving side (all elements available in <code>params</code>).</p>

<p>Example:</p>

<pre><code>&lt;%= form_for(@post, remote: true) do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>The HTML generated for this would be:</p>

<pre><code>&lt;form action=&#39;http://www.example.com&#39; method=&#39;post&#39; data-remote=&#39;true&#39;&gt;
  &lt;input name=&#39;_method&#39; type=&#39;hidden&#39; value=&#39;patch&#39; /&gt;
  ...
&lt;/form&gt;
</code></pre>

<h3 id="method-i-form_for-label-Setting+HTML+options">Setting HTML options</h3>

<p>You can set data attributes directly by passing in a data hash, but all other HTML options must be wrapped in the HTML key. Example:</p>

<pre><code>&lt;%= form_for(@post, data: { behavior: &quot;autosave&quot; }, html: { name: &quot;go&quot; }) do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>The HTML generated for this would be:</p>

<pre><code>&lt;form action=&#39;http://www.example.com&#39; method=&#39;post&#39; data-behavior=&#39;autosave&#39; name=&#39;go&#39;&gt;
  &lt;input name=&#39;_method&#39; type=&#39;hidden&#39; value=&#39;patch&#39; /&gt;
  ...
&lt;/form&gt;
</code></pre>

<h3 id="method-i-form_for-label-Removing+hidden+model+id-27s">Removing hidden model id&#39;s</h3>

<p>The <a href="FormHelper.html#method-i-form_for"><code>form_for</code></a> method automatically includes the model id as a hidden field in the form. This is used to maintain the correlation between the form data and its associated model. Some ORM systems do not use IDs on nested models so in this case you want to be able to disable the hidden id.</p>

<p>In the following example the Post model has many Comments stored within it in a NoSQL database, thus there is no primary key for comments.</p>

<p>Example:</p>

<pre><code>&lt;%= form_for(@post) do |f| %&gt;
  &lt;%= f.fields_for(:comments, include_id: false) do |cf| %&gt;
    ...
  &lt;% end %&gt;
&lt;% end %&gt;
</code></pre>

<h3 id="method-i-form_for-label-Customized+form+builders">Customized form builders</h3>

<p>You can also build forms using a customized <a href="FormBuilder.html"><code>FormBuilder</code></a> class. Subclass <a href="FormBuilder.html"><code>FormBuilder</code></a> and override or define some more helpers, then use your custom builder. For example, let&#39;s say you made a helper to automatically add labels to form inputs.</p>

<pre><code>&lt;%= form_for @person, url: { action: &quot;create&quot; }, builder: LabellingFormBuilder do |f| %&gt;
  &lt;%= f.text_field :first_name %&gt;
  &lt;%= f.text_field :last_name %&gt;
  &lt;%= f.text_area :biography %&gt;
  &lt;%= f.check_box :admin %&gt;
  &lt;%= f.submit %&gt;
&lt;% end %&gt;
</code></pre>

<p>In this case, if you use this:</p>

<pre><code>&lt;%= render f %&gt;
</code></pre>

<p>The rendered template is <code>people/_labelling_form</code> and the local variable referencing the form builder is called <code>labelling_form</code>.</p>

<p>The custom <a href="FormBuilder.html"><code>FormBuilder</code></a> class is automatically merged with the options of a nested <a href="FormHelper.html#method-i-fields_for"><code>fields_for</code></a> call, unless it&#39;s explicitly set.</p>

<p>In many cases you will want to wrap the above in another helper, so you could do something like the following:</p>

<pre><code>def labelled_form_for(record_or_name_or_array, *args, &amp;block)
  options = args.extract_options!
  form_for(record_or_name_or_array, *(args &lt;&lt; options.merge(builder: LabellingFormBuilder)), &amp;block)
end
</code></pre>

<p>If you don&#39;t need to attach a form to a model instance, then check out <a href="FormTagHelper.html#method-i-form_tag"><code>FormTagHelper#form_tag</code></a>.</p>

<h3 id="method-i-form_for-label-Form+to+external+resources">Form to external resources</h3>

<p>When you build forms to external resources sometimes you need to set an authenticity token or just render a form without it, for example when you submit data to a payment gateway number and types of fields could be limited.</p>

<p>To set an authenticity token you need to pass an <code>:authenticity_token</code> parameter</p>

<pre><code>&lt;%= form_for @invoice, url: external_url, authenticity_token: &#39;external_token&#39; do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>If you don&#39;t want to an authenticity token field be rendered at all just pass <code>false</code>:</p>

<pre><code>&lt;%= form_for @invoice, url: external_url, authenticity_token: false do |f| %&gt;
  ...
&lt;% end %&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 430
      def form_for(record, options = {}, &amp;block)
        raise ArgumentError, &quot;Missing block&quot; unless block_given?
        html_options = options[:html] ||= {}

        case record
        when String, Symbol
          object_name = record
          object      = nil
        else
          object      = record.is_a?(Array) ? record.last : record
          raise ArgumentError, &quot;First argument in form cannot contain nil or be empty&quot; unless object
          object_name = options[:as] || model_name_from_record_or_class(object).param_key
          apply_form_for_options!(record, object, options)
        end

        html_options[:data]   = options.delete(:data)   if options.has_key?(:data)
        html_options[:remote] = options.delete(:remote) if options.has_key?(:remote)
        html_options[:method] = options.delete(:method) if options.has_key?(:method)
        html_options[:enforce_utf8] = options.delete(:enforce_utf8) if options.has_key?(:enforce_utf8)
        html_options[:authenticity_token] = options.delete(:authenticity_token)

        builder = instantiate_builder(object_name, object, options)
        output  = capture(builder, &amp;block)
        html_options[:multipart] ||= builder.multipart?

        html_options = html_options_for_form(options[:url] || {}, html_options)
        form_tag_with_body(html_options, output)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L430" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-form_with">
            
              form_with(model: nil, scope: nil, url: nil, format: nil, **options, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Creates a form tag based on mixing URLs, scopes, or models.</p>

<pre><code># Using just a URL:
&lt;%= form_with url: posts_path do |form| %&gt;
  &lt;%= form.text_field :title %&gt;
&lt;% end %&gt;
# =&gt;
&lt;form action=&quot;/posts&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;title&quot;&gt;
&lt;/form&gt;

# Adding a scope prefixes the input field names:
&lt;%= form_with scope: :post, url: posts_path do |form| %&gt;
  &lt;%= form.text_field :title %&gt;
&lt;% end %&gt;
# =&gt;
&lt;form action=&quot;/posts&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;post[title]&quot;&gt;
&lt;/form&gt;

# Using a model infers both the URL and scope:
&lt;%= form_with model: Post.new do |form| %&gt;
  &lt;%= form.text_field :title %&gt;
&lt;% end %&gt;
# =&gt;
&lt;form action=&quot;/posts&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;post[title]&quot;&gt;
&lt;/form&gt;

# An existing model makes an update form and fills out field values:
&lt;%= form_with model: Post.first do |form| %&gt;
  &lt;%= form.text_field :title %&gt;
&lt;% end %&gt;
# =&gt;
&lt;form action=&quot;/posts/1&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;patch&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;post[title]&quot; value=&quot;&lt;the title of the post&gt;&quot;&gt;
&lt;/form&gt;

# Though the fields don&#39;t have to correspond to model attributes:
&lt;%= form_with model: Cat.new do |form| %&gt;
  &lt;%= form.text_field :cats_dont_have_gills %&gt;
  &lt;%= form.text_field :but_in_forms_they_can %&gt;
&lt;% end %&gt;
# =&gt;
&lt;form action=&quot;/cats&quot; method=&quot;post&quot; data-remote=&quot;true&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;cat[cats_dont_have_gills]&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;cat[but_in_forms_they_can]&quot;&gt;
&lt;/form&gt;
</code></pre>

<p>The parameters in the forms are accessible in controllers according to their name nesting. So inputs named <code>title</code> and <code>post[title]</code> are accessible as <code>params[:title]</code> and <code>params[:post][:title]</code> respectively.</p>

<p>By default <code>form_with</code> attaches the <code>data-remote</code> attribute submitting the form via an XMLHTTPRequest in the background if an Unobtrusive JavaScript driver, like rails-ujs, is used. See the <code>:local</code> option for more.</p>

<p>For ease of comparison the examples above left out the submit button, as well as the auto generated hidden fields that enable UTF-8 support and adds an authenticity token needed for cross site request forgery protection.</p>

<h3 id="method-i-form_with-label-Resource-oriented+style">Resource-oriented style</h3>

<p>In many of the examples just shown, the <code>:model</code> passed to <code>form_with</code> is a <em>resource</em>. It corresponds to a set of RESTful routes, most likely defined via <code>resources</code> in <code>config/routes.rb</code>.</p>

<p>So when passing such a model record, Rails infers the URL and method.</p>

<pre><code>&lt;%= form_with model: @post do |form| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>is then equivalent to something like:</p>

<pre><code>&lt;%= form_with scope: :post, url: post_path(@post), method: :patch do |form| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>And for a new record</p>

<pre><code>&lt;%= form_with model: Post.new do |form| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>is equivalent to something like:</p>

<pre><code>&lt;%= form_with scope: :post, url: posts_path do |form| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<h4 id="method-i-form_with-label-form_with+options"><code>form_with</code> options</h4>
<ul><li>
<p><code>:url</code> - The URL the form submits to. Akin to values passed to <code>url_for</code> or <code>link_to</code>. For example, you may use a named route directly. When a <code>:scope</code> is passed without a <code>:url</code> the form just submits to the current URL.</p>
</li><li>
<p><code>:method</code> - The method to use when submitting the form, usually either “get” or “post”. If “patch”, “put”, “delete”, or another verb is used, a hidden input named <code>_method</code> is added to simulate the verb over post.</p>
</li><li>
<p><code>:format</code> - The format of the route the form submits to. Useful when submitting to another resource type, like <code>:json</code>. Skipped if a <code>:url</code> is passed.</p>
</li><li>
<p><code>:scope</code> - The scope to prefix input field names with and thereby how the submitted parameters are grouped in controllers.</p>
</li><li>
<p><code>:model</code> - A model object to infer the <code>:url</code> and <code>:scope</code> by, plus fill out input field values. So if a <code>title</code> attribute is set to “Ahoy!” then a <code>title</code> input field&#39;s value would be “Ahoy!”. If the model is a new record a create form is generated, if an existing record, however, an update form is generated. Pass <code>:scope</code> or <code>:url</code> to override the defaults. E.g. turn <code>params[:post]</code> into <code>params[:article]</code>.</p>
</li><li>
<p><code>:authenticity_token</code> - Authenticity token to use in the form. Override with a custom authenticity token or pass <code>false</code> to skip the authenticity token field altogether. Useful when submitting to an external resource like a payment gateway that might limit the valid fields. Remote forms may omit the embedded authenticity token by setting <code>config.action_view.embed_authenticity_token_in_remote_forms = false</code>. This is helpful when fragment-caching the form. Remote forms get the authenticity token from the <code>meta</code> tag, so embedding is unnecessary unless you support browsers without JavaScript.</p>
</li><li>
<p><code>:local</code> - By default form submits are remote and unobtrusive XHRs. Disable remote submits with <code>local: true</code>.</p>
</li><li>
<p><code>:skip_enforcing_utf8</code> - By default a hidden field named <code>utf8</code> is output to enforce UTF-8 submits. Set to true to skip the field.</p>
</li><li>
<p><code>:builder</code> - Override the object used to build the form.</p>
</li><li>
<p><code>:id</code> - Optional HTML id attribute.</p>
</li><li>
<p><code>:class</code> - Optional HTML class attribute.</p>
</li><li>
<p><code>:data</code> - Optional HTML data attributes.</p>
</li><li>
<p><code>:html</code> - Other optional HTML attributes for the form tag.</p>
</li></ul>

<h3 id="method-i-form_with-label-Examples">Examples</h3>

<p>When not passing a block, <code>form_with</code> just generates an opening form tag.</p>

<pre><code>&lt;%= form_with(model: @post, url: super_posts_path) %&gt;
&lt;%= form_with(model: @post, scope: :article) %&gt;
&lt;%= form_with(model: @post, format: :json) %&gt;
&lt;%= form_with(model: @post, authenticity_token: false) %&gt; # Disables the token.
</code></pre>

<p>For namespaced routes, like <code>admin_post_url</code>:</p>

<pre><code>&lt;%= form_with(model: [ :admin, @post ]) do |form| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>If your resource has associations defined, for example, you want to add comments to the document given that the routes are set correctly:</p>

<pre><code>&lt;%= form_with(model: [ @document, Comment.new ]) do |form| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>Where <code>@document = Document.find(params[:id])</code>.</p>

<h3 id="method-i-form_with-label-Mixing+with+other+form+helpers">Mixing with other form helpers</h3>

<p>While <code>form_with</code> uses a <a href="FormBuilder.html"><code>FormBuilder</code></a> object it&#39;s possible to mix and match the stand-alone <a href="FormHelper.html"><code>FormHelper</code></a> methods and methods from FormTagHelper:</p>

<pre><code>&lt;%= form_with scope: :person do |form| %&gt;
  &lt;%= form.text_field :first_name %&gt;
  &lt;%= form.text_field :last_name %&gt;

  &lt;%= text_area :person, :biography %&gt;
  &lt;%= check_box_tag &quot;person[admin]&quot;, &quot;1&quot;, @person.company.admin? %&gt;

  &lt;%= form.submit %&gt;
&lt;% end %&gt;
</code></pre>

<p>Same goes for the methods in <a href="FormOptionsHelper.html"><code>FormOptionsHelper</code></a> and <a href="DateHelper.html"><code>DateHelper</code></a> designed to work with an object as a base, like <a href="FormOptionsHelper.html#method-i-collection_select"><code>FormOptionsHelper#collection_select</code></a> and <a href="DateHelper.html#method-i-datetime_select"><code>DateHelper#datetime_select</code></a>.</p>

<h3 id="method-i-form_with-label-Setting+the+method">Setting the method</h3>

<p>You can force the form to use the full array of HTTP verbs by setting</p>

<pre><code>method: (:get|:post|:patch|:put|:delete)
</code></pre>

<p>in the options hash. If the verb is not GET or POST, which are natively supported by HTML forms, the form will be set to POST and a hidden input called _method will carry the intended verb for the server to interpret.</p>

<h3 id="method-i-form_with-label-Setting+HTML+options">Setting HTML options</h3>

<p>You can set data attributes directly in a data hash, but HTML options besides id and class must be wrapped in an HTML key:</p>

<pre><code>&lt;%= form_with(model: @post, data: { behavior: &quot;autosave&quot; }, html: { name: &quot;go&quot; }) do |form| %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>generates</p>

<pre><code>&lt;form action=&quot;/posts/123&quot; method=&quot;post&quot; data-behavior=&quot;autosave&quot; name=&quot;go&quot;&gt;
  &lt;input name=&quot;_method&quot; type=&quot;hidden&quot; value=&quot;patch&quot; /&gt;
  ...
&lt;/form&gt;
</code></pre>

<h3 id="method-i-form_with-label-Removing+hidden+model+id-27s">Removing hidden model id&#39;s</h3>

<p>The <code>form_with</code> method automatically includes the model id as a hidden field in the form. This is used to maintain the correlation between the form data and its associated model. Some ORM systems do not use IDs on nested models so in this case you want to be able to disable the hidden id.</p>

<p>In the following example the Post model has many Comments stored within it in a NoSQL database, thus there is no primary key for comments.</p>

<pre><code>&lt;%= form_with(model: @post) do |form| %&gt;
  &lt;%= form.fields(:comments, skip_id: true) do |fields| %&gt;
    ...
  &lt;% end %&gt;
&lt;% end %&gt;
</code></pre>

<h3 id="method-i-form_with-label-Customized+form+builders">Customized form builders</h3>

<p>You can also build forms using a customized <a href="FormBuilder.html"><code>FormBuilder</code></a> class. Subclass <a href="FormBuilder.html"><code>FormBuilder</code></a> and override or define some more helpers, then use your custom builder. For example, let&#39;s say you made a helper to automatically add labels to form inputs.</p>

<pre><code>&lt;%= form_with model: @person, url: { action: &quot;create&quot; }, builder: LabellingFormBuilder do |form| %&gt;
  &lt;%= form.text_field :first_name %&gt;
  &lt;%= form.text_field :last_name %&gt;
  &lt;%= form.text_area :biography %&gt;
  &lt;%= form.check_box :admin %&gt;
  &lt;%= form.submit %&gt;
&lt;% end %&gt;
</code></pre>

<p>In this case, if you use:</p>

<pre><code>&lt;%= render form %&gt;
</code></pre>

<p>The rendered template is <code>people/_labelling_form</code> and the local variable referencing the form builder is called <code>labelling_form</code>.</p>

<p>The custom <a href="FormBuilder.html"><code>FormBuilder</code></a> class is automatically merged with the options of a nested <code>fields</code> call, unless it&#39;s explicitly set.</p>

<p>In many cases you will want to wrap the above in another helper, so you could do something like the following:</p>

<pre><code>def labelled_form_with(**options, &amp;block)
  form_with(**options.merge(builder: LabellingFormBuilder), &amp;block)
end
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 739
      def form_with(model: nil, scope: nil, url: nil, format: nil, **options, &amp;block)
        options[:allow_method_names_outside_object] = true
        options[:skip_default_ids] = !form_with_generates_ids

        if model
          url ||= polymorphic_path(model, format: format)

          model   = model.last if model.is_a?(Array)
          scope ||= model_name_from_record_or_class(model).param_key
        end

        if block_given?
          builder = instantiate_builder(scope, model, options)
          output  = capture(builder, &amp;block)
          options[:multipart] ||= builder.multipart?

          html_options = html_options_for_form_with(url, model, options)
          form_tag_with_body(html_options, output)
        else
          html_options = html_options_for_form_with(url, model, options)
          form_tag_html(html_options)
        end
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L739" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-hidden_field">
            
              hidden_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a hidden input tag tailored for accessing a specified attribute (identified by <code>method</code>) on an object assigned to the template (identified by <code>object</code>). Additional options on the input tag can be passed as a hash with <code>options</code>. These options will be tagged onto the HTML as an HTML element attribute as in the example shown.</p>

<h4 id="method-i-hidden_field-label-Examples">Examples</h4>

<pre><code>hidden_field(:signup, :pass_confirm)
# =&gt; &lt;input type=&quot;hidden&quot; id=&quot;signup_pass_confirm&quot; name=&quot;signup[pass_confirm]&quot; value=&quot;#{@signup.pass_confirm}&quot; /&gt;

hidden_field(:post, :tag_list)
# =&gt; &lt;input type=&quot;hidden&quot; id=&quot;post_tag_list&quot; name=&quot;post[tag_list]&quot; value=&quot;#{@post.tag_list}&quot; /&gt;

hidden_field(:user, :token)
# =&gt; &lt;input type=&quot;hidden&quot; id=&quot;user_token&quot; name=&quot;user[token]&quot; value=&quot;#{@user.token}&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1174
      def hidden_field(object_name, method, options = {})
        Tags::HiddenField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1174" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-label">
            
              label(object_name, method, content_or_options = nil, options = nil, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Returns a label tag tailored for labelling an input field for a specified attribute (identified by <code>method</code>) on an object assigned to the template (identified by <code>object</code>). The text of label will default to the attribute name unless a translation is found in the current I18n locale (through helpers.label.&lt;modelname&gt;.&lt;attribute&gt;) or you specify it explicitly. Additional options on the label tag can be passed as a hash with <code>options</code>. These options will be tagged onto the HTML as an HTML element attribute as in the example shown, except for the <code>:value</code> option, which is designed to target labels for <a href="FormHelper.html#method-i-radio_button"><code>radio_button</code></a> tags (where the value is used in the ID of the input tag).</p>

<h4 id="method-i-label-label-Examples">Examples</h4>

<pre><code>label(:post, :title)
# =&gt; &lt;label for=&quot;post_title&quot;&gt;Title&lt;/label&gt;
</code></pre>

<p>You can localize your labels based on model and attribute names. For example you can define the following in your locale (e.g. en.yml)</p>

<pre><code>helpers:
  label:
    post:
      body: &quot;Write your entire text here&quot;
</code></pre>

<p>Which then will result in</p>

<pre><code>label(:post, :body)
# =&gt; &lt;label for=&quot;post_body&quot;&gt;Write your entire text here&lt;/label&gt;
</code></pre>

<p>Localization can also be based purely on the translation of the attribute-name (if you are using <a href="../../ActiveRecord.html"><code>ActiveRecord</code></a>):</p>

<pre><code>activerecord:
  attributes:
    post:
      cost: &quot;Total cost&quot;

label(:post, :cost)
# =&gt; &lt;label for=&quot;post_cost&quot;&gt;Total cost&lt;/label&gt;

label(:post, :title, &quot;A short title&quot;)
# =&gt; &lt;label for=&quot;post_title&quot;&gt;A short title&lt;/label&gt;

label(:post, :title, &quot;A short title&quot;, class: &quot;title_label&quot;)
# =&gt; &lt;label for=&quot;post_title&quot; class=&quot;title_label&quot;&gt;A short title&lt;/label&gt;

label(:post, :privacy, &quot;Public Post&quot;, value: &quot;public&quot;)
# =&gt; &lt;label for=&quot;post_privacy_public&quot;&gt;Public Post&lt;/label&gt;

label(:post, :terms) do
  raw(&#39;Accept &lt;a href=&quot;/terms&quot;&gt;Terms&lt;/a&gt;.&#39;)
end
# =&gt; &lt;label for=&quot;post_terms&quot;&gt;Accept &lt;a href=&quot;/terms&quot;&gt;Terms&lt;/a&gt;.&lt;/label&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1114
      def label(object_name, method, content_or_options = nil, options = nil, &amp;block)
        Tags::Label.new(object_name, method, self, content_or_options, options).render(&amp;block)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1114" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-month_field">
            
              month_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="FormHelper.html#method-i-text_field"><code>text_field</code></a> of type “month”.</p>

<pre><code>month_field(&quot;user&quot;, &quot;born_on&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;month&quot; /&gt;
</code></pre>

<p>The default value is generated by trying to call <code>strftime</code> with “%Y-%m” on the object&#39;s value, which makes it behave as expected for instances of <a href="../../DateTime.html"><code>DateTime</code></a> and <a href="../../ActiveSupport/TimeWithZone.html"><code>ActiveSupport::TimeWithZone</code></a>.</p>

<pre><code>@user.born_on = Date.new(1984, 1, 27)
month_field(&quot;user&quot;, &quot;born_on&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; value=&quot;1984-01&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1465
      def month_field(object_name, method, options = {})
        Tags::MonthField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1465" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-number_field">
            
              number_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns an input tag of type “number”.</p>

<h4 id="method-i-number_field-label-Options">Options</h4>
<ul><li>
<p>Accepts same options as number_field_tag</p>
</li></ul>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1508
      def number_field(object_name, method, options = {})
        Tags::NumberField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1508" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-password_field">
            
              password_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns an input tag of the “password” type tailored for accessing a specified attribute (identified by <code>method</code>) on an object assigned to the template (identified by <code>object</code>). Additional options on the input tag can be passed as a hash with <code>options</code>. These options will be tagged onto the HTML as an HTML element attribute as in the example shown. For security reasons this field is blank by default; pass in a value via <code>options</code> if this is not desired.</p>

<h4 id="method-i-password_field-label-Examples">Examples</h4>

<pre><code>password_field(:login, :pass, size: 20)
# =&gt; &lt;input type=&quot;password&quot; id=&quot;login_pass&quot; name=&quot;login[pass]&quot; size=&quot;20&quot; /&gt;

password_field(:account, :secret, class: &quot;form_input&quot;, value: @account.secret)
# =&gt; &lt;input type=&quot;password&quot; id=&quot;account_secret&quot; name=&quot;account[secret]&quot; value=&quot;#{@account.secret}&quot; class=&quot;form_input&quot; /&gt;

password_field(:user, :password, onchange: &quot;if ($(&#39;#user_password&#39;).val().length &gt; 30) { alert(&#39;Your password needs to be shorter!&#39;); }&quot;)
# =&gt; &lt;input type=&quot;password&quot; id=&quot;user_password&quot; name=&quot;user[password]&quot; onchange=&quot;if ($(&#39;#user_password&#39;).val().length &gt; 30) { alert(&#39;Your password needs to be shorter!&#39;); }&quot;/&gt;

password_field(:account, :pin, size: 20, class: &#39;form_input&#39;)
# =&gt; &lt;input type=&quot;password&quot; id=&quot;account_pin&quot; name=&quot;account[pin]&quot; size=&quot;20&quot; class=&quot;form_input&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1156
      def password_field(object_name, method, options = {})
        Tags::PasswordField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1156" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-phone_field">
            
              phone_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>aliases <a href="FormHelper.html#method-i-telephone_field"><code>telephone_field</code></a></p>
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="FormHelper.html#method-i-telephone_field">telephone_field</a>
            </div>
          

          
          
        </div>
        
        <div class="method">
          <h3 id="method-i-radio_button">
            
              radio_button(object_name, method, tag_value, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a radio button tag for accessing a specified attribute (identified by <code>method</code>) on an object assigned to the template (identified by <code>object</code>). If the current value of <code>method</code> is <code>tag_value</code> the radio button will be checked.</p>

<p>To force the radio button to be checked pass <code>checked: true</code> in the <code>options</code> hash. You may pass HTML options there as well.</p>

<pre><code># Let&#39;s say that @post.category returns &quot;rails&quot;:
radio_button(&quot;post&quot;, &quot;category&quot;, &quot;rails&quot;)
radio_button(&quot;post&quot;, &quot;category&quot;, &quot;java&quot;)
# =&gt; &lt;input type=&quot;radio&quot; id=&quot;post_category_rails&quot; name=&quot;post[category]&quot; value=&quot;rails&quot; checked=&quot;checked&quot; /&gt;
#    &lt;input type=&quot;radio&quot; id=&quot;post_category_java&quot; name=&quot;post[category]&quot; value=&quot;java&quot; /&gt;

# Let&#39;s say that @user.receive_newsletter returns &quot;no&quot;:
radio_button(&quot;user&quot;, &quot;receive_newsletter&quot;, &quot;yes&quot;)
radio_button(&quot;user&quot;, &quot;receive_newsletter&quot;, &quot;no&quot;)
# =&gt; &lt;input type=&quot;radio&quot; id=&quot;user_receive_newsletter_yes&quot; name=&quot;user[receive_newsletter]&quot; value=&quot;yes&quot; /&gt;
#    &lt;input type=&quot;radio&quot; id=&quot;user_receive_newsletter_no&quot; name=&quot;user[receive_newsletter]&quot; value=&quot;no&quot; checked=&quot;checked&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1316
      def radio_button(object_name, method, tag_value, options = {})
        Tags::RadioButton.new(object_name, method, self, tag_value, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1316" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-range_field">
            
              range_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns an input tag of type “range”.</p>

<h4 id="method-i-range_field-label-Options">Options</h4>
<ul><li>
<p>Accepts same options as range_field_tag</p>
</li></ul>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1516
      def range_field(object_name, method, options = {})
        Tags::RangeField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1516" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-search_field">
            
              search_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns an input of type “search” for accessing a specified attribute (identified by <code>method</code>) on an object assigned to the template (identified by <code>object_name</code>). Inputs of type “search” may be styled differently by some browsers.</p>

<pre><code>search_field(:user, :name)
# =&gt; &lt;input id=&quot;user_name&quot; name=&quot;user[name]&quot; type=&quot;search&quot; /&gt;
search_field(:user, :name, autosave: false)
# =&gt; &lt;input autosave=&quot;false&quot; id=&quot;user_name&quot; name=&quot;user[name]&quot; type=&quot;search&quot; /&gt;
search_field(:user, :name, results: 3)
# =&gt; &lt;input id=&quot;user_name&quot; name=&quot;user[name]&quot; results=&quot;3&quot; type=&quot;search&quot; /&gt;
#  Assume request.host returns &quot;www.example.com&quot;
search_field(:user, :name, autosave: true)
# =&gt; &lt;input autosave=&quot;com.example.www&quot; id=&quot;user_name&quot; name=&quot;user[name]&quot; results=&quot;10&quot; type=&quot;search&quot; /&gt;
search_field(:user, :name, onsearch: true)
# =&gt; &lt;input id=&quot;user_name&quot; incremental=&quot;true&quot; name=&quot;user[name]&quot; onsearch=&quot;true&quot; type=&quot;search&quot; /&gt;
search_field(:user, :name, autosave: false, onsearch: true)
# =&gt; &lt;input autosave=&quot;false&quot; id=&quot;user_name&quot; incremental=&quot;true&quot; name=&quot;user[name]&quot; onsearch=&quot;true&quot; type=&quot;search&quot; /&gt;
search_field(:user, :name, autosave: true, onsearch: true)
# =&gt; &lt;input autosave=&quot;com.example.www&quot; id=&quot;user_name&quot; incremental=&quot;true&quot; name=&quot;user[name]&quot; onsearch=&quot;true&quot; results=&quot;10&quot; type=&quot;search&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1347
      def search_field(object_name, method, options = {})
        Tags::SearchField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1347" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-telephone_field">
            
              telephone_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="FormHelper.html#method-i-text_field"><code>text_field</code></a> of type “tel”.</p>

<pre><code>telephone_field(&quot;user&quot;, &quot;phone&quot;)
# =&gt; &lt;input id=&quot;user_phone&quot; name=&quot;user[phone]&quot; type=&quot;tel&quot; /&gt;
</code></pre>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="FormHelper.html#method-i-phone_field">phone_field</a>
            </div>
          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1356
      def telephone_field(object_name, method, options = {})
        Tags::TelField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1356" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-text_area">
            
              text_area(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a textarea opening and closing tag set tailored for accessing a specified attribute (identified by <code>method</code>) on an object assigned to the template (identified by <code>object</code>). Additional options on the input tag can be passed as a hash with <code>options</code>.</p>

<h4 id="method-i-text_area-label-Examples">Examples</h4>

<pre><code>text_area(:post, :body, cols: 20, rows: 40)
# =&gt; &lt;textarea cols=&quot;20&quot; rows=&quot;40&quot; id=&quot;post_body&quot; name=&quot;post[body]&quot;&gt;
#      #{@post.body}
#    &lt;/textarea&gt;

text_area(:comment, :text, size: &quot;20x30&quot;)
# =&gt; &lt;textarea cols=&quot;20&quot; rows=&quot;30&quot; id=&quot;comment_text&quot; name=&quot;comment[text]&quot;&gt;
#      #{@comment.text}
#    &lt;/textarea&gt;

text_area(:application, :notes, cols: 40, rows: 15, class: &#39;app_input&#39;)
# =&gt; &lt;textarea cols=&quot;40&quot; rows=&quot;15&quot; id=&quot;application_notes&quot; name=&quot;application[notes]&quot; class=&quot;app_input&quot;&gt;
#      #{@application.notes}
#    &lt;/textarea&gt;

text_area(:entry, :body, size: &quot;20x20&quot;, disabled: &#39;disabled&#39;)
# =&gt; &lt;textarea cols=&quot;20&quot; rows=&quot;20&quot; id=&quot;entry_body&quot; name=&quot;entry[body]&quot; disabled=&quot;disabled&quot;&gt;
#      #{@entry.body}
#    &lt;/textarea&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1234
      def text_area(object_name, method, options = {})
        Tags::TextArea.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1234" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-text_field">
            
              text_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns an input tag of the “text” type tailored for accessing a specified attribute (identified by <code>method</code>) on an object assigned to the template (identified by <code>object</code>). Additional options on the input tag can be passed as a hash with <code>options</code>. These options will be tagged onto the HTML as an HTML element attribute as in the example shown.</p>

<h4 id="method-i-text_field-label-Examples">Examples</h4>

<pre><code>text_field(:post, :title, size: 20)
# =&gt; &lt;input type=&quot;text&quot; id=&quot;post_title&quot; name=&quot;post[title]&quot; size=&quot;20&quot; value=&quot;#{@post.title}&quot; /&gt;

text_field(:post, :title, class: &quot;create_input&quot;)
# =&gt; &lt;input type=&quot;text&quot; id=&quot;post_title&quot; name=&quot;post[title]&quot; value=&quot;#{@post.title}&quot; class=&quot;create_input&quot; /&gt;

text_field(:session, :user, onchange: &quot;if ($(&#39;#session_user&#39;).val() === &#39;admin&#39;) { alert(&#39;Your login cannot be admin!&#39;); }&quot;)
# =&gt; &lt;input type=&quot;text&quot; id=&quot;session_user&quot; name=&quot;session[user]&quot; value=&quot;#{@session.user}&quot; onchange=&quot;if ($(&#39;#session_user&#39;).val() === &#39;admin&#39;) { alert(&#39;Your login cannot be admin!&#39;); }&quot;/&gt;

text_field(:snippet, :code, size: 20, class: &#39;code_input&#39;)
# =&gt; &lt;input type=&quot;text&quot; id=&quot;snippet_code&quot; name=&quot;snippet[code]&quot; size=&quot;20&quot; value=&quot;#{@snippet.code}&quot; class=&quot;code_input&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1135
      def text_field(object_name, method, options = {})
        Tags::TextField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1135" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-time_field">
            
              time_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="FormHelper.html#method-i-text_field"><code>text_field</code></a> of type “time”.</p>

<p>The default value is generated by trying to call <code>strftime</code> with “%T.%L” on the object&#39;s value. It is still possible to override that by passing the “value” option.</p>

<h3 id="method-i-time_field-label-Options">Options</h3>
<ul><li>
<p>Accepts same options as time_field_tag</p>
</li></ul>

<h3 id="method-i-time_field-label-Example">Example</h3>

<pre><code>time_field(&quot;task&quot;, &quot;started_at&quot;)
# =&gt; &lt;input id=&quot;task_started_at&quot; name=&quot;task[started_at]&quot; type=&quot;time&quot; /&gt;
</code></pre>

<p>You can create values for the “min” and “max” attributes by passing instances of <a href="../../Date.html"><code>Date</code></a> or <a href="../../Time.html"><code>Time</code></a> to the options hash.</p>

<pre><code>time_field(&quot;task&quot;, &quot;started_at&quot;, min: Time.now)
# =&gt; &lt;input id=&quot;task_started_at&quot; name=&quot;task[started_at]&quot; type=&quot;time&quot; min=&quot;01:00:00.000&quot; /&gt;
</code></pre>

<p>Alternatively, you can pass a <a href="../../String.html"><code>String</code></a> formatted as an ISO8601 time as the values for “min” and “max.”</p>

<pre><code>time_field(&quot;task&quot;, &quot;started_at&quot;, min: &quot;01:00:00&quot;)
# =&gt; &lt;input id=&quot;task_started_at&quot; name=&quot;task[started_at]&quot; type=&quot;time&quot; min=&quot;01:00:00.000&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1417
      def time_field(object_name, method, options = {})
        Tags::TimeField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1417" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-url_field">
            
              url_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="FormHelper.html#method-i-text_field"><code>text_field</code></a> of type “url”.</p>

<pre><code>url_field(&quot;user&quot;, &quot;homepage&quot;)
# =&gt; &lt;input id=&quot;user_homepage&quot; name=&quot;user[homepage]&quot; type=&quot;url&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1491
      def url_field(object_name, method, options = {})
        Tags::UrlField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1491" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-week_field">
            
              week_field(object_name, method, options = {})
            
          </h3>

          
            <div class="description">
              <p>Returns a <a href="FormHelper.html#method-i-text_field"><code>text_field</code></a> of type “week”.</p>

<pre><code>week_field(&quot;user&quot;, &quot;born_on&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;week&quot; /&gt;
</code></pre>

<p>The default value is generated by trying to call <code>strftime</code> with “%Y-W%W” on the object&#39;s value, which makes it behave as expected for instances of <a href="../../DateTime.html"><code>DateTime</code></a> and <a href="../../ActiveSupport/TimeWithZone.html"><code>ActiveSupport::TimeWithZone</code></a>.</p>

<pre><code>@user.born_on = Date.new(1984, 5, 12)
week_field(&quot;user&quot;, &quot;born_on&quot;)
# =&gt; &lt;input id=&quot;user_born_on&quot; name=&quot;user[born_on]&quot; type=&quot;date&quot; value=&quot;1984-W19&quot; /&gt;
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/form_helper.rb, line 1482
      def week_field(object_name, method, options = {})
        Tags::WeekField.new(object_name, method, self, options).render
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/26521331e5923a0c50fa50984d2f924e5f26c50b/actionview/lib/action_view/helpers/form_helper.rb#L1482" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
  
</div>

    </div>
</div>
